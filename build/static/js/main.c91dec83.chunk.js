(this["webpackJsonpalpha-admin"]=this["webpackJsonpalpha-admin"]||[]).push([[0],{14:function(e){e.exports=JSON.parse('{"server":"alpha","baseURL":"","baseURL2":"/"}')},428:function(e,t){},429:function(e,t){},430:function(e,t){},431:function(e,t){},438:function(e){e.exports=JSON.parse('{"alpha":{"addImageToLibrary":{"url":"/admin/api/image/add","method":"post"},"updateImageFromLibrary":{"url":"/admin/api/image/update","method":"post"},"deleteImageFromLibrary":{"url":"/admin/api/image/update/delete/:id","method":"post"},"ImageListFromLibrary":{"url":"/admin/api/image?sort=sortItem&sortOrder=sortOrderValue&limit=limitNumber&page=pageNumber","method":"get"},"viewSingleImageFromLibrary":{"url":"/admin/api/image/:id","method":"post"},"ImageSizeAndSettingsUpdateForImageLibrary":{"url":"/admin/api/image/update/settings","method":"post"},"viewImageSizeAndSettings":{"url":"/admin/api/image/settings","method":"get"},"attachImageToItemMultiple":{"url":"/admin/api/image/attach/:collection/:itemId","method":"post"},"attachImageToItemSingle":{"url":"/admin/api/image/attach/:imageId/:collection/:itemId","method":"post"},"detachImageFromItemMultiple":{"url":"/admin/api/image/detach/:collection/:itemId","method":"post"},"detachImageFromItemSingle":{"url":"/admin/api/image/detach/:imageId/:collection/:itemId","method":"post"},"setImageAsThumbnailToItem":{"url":"/admin/api/image/cover/:imageId/:collection/:itemId","method":"post"},"searchProduct":{"url":"/api/search?query=query","method":"get"},"productList":{"url":"/api/product?sort=sortItem&sortOrder=sortOrderValue&type=productType&page=pageNumber","method":"get"},"updateStock":{"url":"/admin/api/product/update/stock/:id","method":"post"},"addProduct":{"url":"/admin/api/product/add","method":"post"},"updateProduct":{"url":"/admin/api/product/update/:id","method":"post"},"uploadProductCSV":{"url":"/admin/api/product/update/bulk/csv","method":"post"},"deletePost":{"url":"/admin/api/post/update/delete/:id","method":"post"},"deleteProduct":{"url":"/admin/api/product/update/delete/:id","method":"post"},"addPost":{"url":"/admin/api/post/add","method":"post"},"updatePost":{"url":"/admin/api/post/update/:id","method":"post"},"tagPostList":{"url":"/api/post/tag/:id/post?sort=sortItem&sortOrder=sortOrderValue","method":"get"},"categoryPostList":{"url":"/api/post/category/:id/post?sort=sortItem&sortOrder=sortOrderValue","method":"get"},"postList":{"url":"/admin/api/post?sort=sortItem&sortOrder=sortOrderValue","method":"get"},"postCategoryList":{"url":"/admin/api/post/category?sort=sortItem&sortOrder=sortOrderValue","method":"get"},"postCategoryDetail":{"url":"/admin/api/post/category/:id","method":"get"},"postCategoryUpdate":{"url":"/admin/api/post/category/update/:id","method":"post"},"postCategoryDelete":{"url":"/admin/api/post/category/update/delete/:id","method":"post"},"postSelectCategoryList":{"url":"/admin/api/post/category?sort=sortItem&sortOrder=sortOrderValue","method":"get"},"postAddCategory":{"url":"/admin/api/post/category/add","method":"post"},"postTagList":{"url":"/admin/api/post/tag?sort=sortItem&sortOrder=sortOrderValue","method":"get"},"postTagDetail":{"url":"/admin/api/post/tag/:id","method":"get"},"postAddTag":{"url":"/admin/api/post/tag/add","method":"post"},"postUpdateTag":{"url":"/admin/api/post/tag/update/:id","method":"post"},"postDeleteTag":{"url":"/admin/api/post/tag/update//delete/:id","method":"post"},"categoryUpdateIcon":{"url":"/admin/api/category/update/icon/:id","method":"post"},"categoryUpdateThumbnail":{"url":"/admin/api/category/update/thumbnail/:id","method":"post"},"postDetail":{"url":"/admin/api/post/:id?category=categoryOne&tag=tagsOne&image=imageValue","method":"get"},"postDetailEdit":{"url":"/admin/api/post/:id?category=categoryOne&tags=tagsOne&image=imageValue","method":"get"},"categoryList":{"url":"/api/category?subCategory=isSubCategory&productCount=productCountValue&sort=sortItem&sortOrder=sortOrderValue","method":"get"},"categoryDetail":{"url":"/api/category/:id","method":"get"},"categoryProducts":{"url":"/api/category/:id/product?recursive=isRecursive","method":"get"},"categorySelectist":{"url":"/api/category?subCategory=isSubCategory&productCount=productCountValue&sort=sortItem&sortOrder=sortOrderValue","method":"get"},"addCategory":{"url":"/admin/api/category/add","method":"post"},"updateCategory":{"url":"/admin/api/category/update/:id","method":"post"},"deleteCategory":{"url":"/admin/api/category/update/delete/:id","method":"post"},"brandList":{"url":"/api/brand?sort=sortItem&sortOrder=sortOrderValue","method":"get"},"brandDetail":{"url":"/api/brand/:id","method":"get"},"addBrand":{"url":"/admin/api/brand/add","method":"post"},"updateBrand":{"url":"/admin/api/brand/update/:id","method":"post"},"deleteBrand":{"url":"/admin/api/brand/update/delete/:id","method":"post"},"tagProducts":{"url":"/api/tag/:id/product","method":"get"},"brandProducts":{"url":"/api/brand/:id/product","method":"get"},"tagList":{"url":"/api/tag?sort=sortItem&sortOrder=sortOrderValue","method":"get"},"tagDetail":{"url":"/api/tag/:id","method":"get"},"addTag":{"url":"/admin/api/tag/add","method":"post"},"updateTag":{"url":"/admin/api/tag/update/:id","method":"post"},"deleteTag":{"url":"/admin/api/tag/update/delete/:id","method":"post"},"customerList":{"url":"/admin/api/customer?sort=sortItem&sortOrder=sortOrderValue","method":"get"},"customerDetail":{"url":"/admin/api/customer/:id","method":"get"},"addBundle":{"url":"/admin/api/bundle/add","method":"post"},"addDealer":{"url":"/admin/api/dealer/add","method":"post"},"updateDealer":{"url":"/admin/api/dealer/update/:id","method":"post"},"deleteDealer":{"url":"/admin/api/dealer/update/delete/:id","method":"post"},"dealerList":{"url":"/admin/api/dealer?sort=sortItem&sortOrder=sortOrderValue","method":"get"},"dealerDetail":{"url":"/admin/api/dealer/:id","method":"get"},"dealerOrderList":{"url":"/admin/api/dealer/:id/order","method":"get"},"dealerRegisteredCustomerList":{"url":"/admin/api/dealer/:id/customer","method":"get"},"dealerAreaDetail":{"url":"/admin/api/dealer/area/:id","method":"get"},"addDealerArea":{"url":"/admin/api/dealer/area/add","method":"post"},"updateDealerArea":{"url":"/admin/api/dealer/area/update/:id","method":"post"},"deleteDealerArea":{"url":"/admin/api/dealer/area/update/delete/:id","method":"post"},"dealerAreaList":{"url":"/admin/api/dealer/area","method":"get"},"dealerListByArea":{"url":"/admin/api/dealer/area/:id/dealer","method":"get"},"bundleDetail":{"url":"/api/product/:id","method":"get"},"updateBundle":{"url":"/admin/api/bundle/update/:id","method":"post"},"deleteBundle":{"url":"/admin/api/bundle/update/delete/:id","method":"post"},"bundleList":{"url":"/api/product?type=productType&sort=sortItem&sortOrder=sortOrderValue","method":"get"},"addCoupon":{"url":"/admin/api/coupon/add","method":"post"},"couponDetail":{"url":"/admin/api/coupon/:id","method":"get"},"updateCoupon":{"url":"/admin/api/coupon/update/:id","method":"post"},"deleteCoupon":{"url":"/admin/api/coupon/update/delete/:id","method":"post"},"couponList":{"url":"/admin/api/coupon?sort=sortItem&sortOrder=sortOrderValue","method":"get"},"productDetailById":{"url":"/api/product/:id","method":"get"},"addCustomer":{"url":"/admin/api/customer/add","method":"post"},"updateCustomer":{"url":"/admin/api/customer/update/:id","method":"post"},"deleteCustomer":{"url":"/admin/api/customer/update/delete/:id","method":"post"},"generateSalaryReport":{"url":"/admin/api/staff/salaryReport/generate","method":"post"},"getSalaryReport":{"url":"/admin/api/staff/salaryReport","method":"get"},"getSalaryReportDetail":{"url":"/admin/api/staff/salaryReport/:id","method":"get"},"deleteSalaryReport":{"url":"/admin/api/staff/salaryReport/delete/:id","method":"post"},"addStaff":{"url":"/admin/api/staff/add","method":"post"},"updateStaff":{"url":"/admin/api/staff/update/:id","method":"post"},"deleteStaff":{"url":"/admin/api/staff/update/delete/:id","method":"post"},"staffDetail":{"url":"/admin/api/staff/:id","method":"get"},"staffList":{"url":"/admin/api/staff","method":"get"},"addExpense":{"url":"/admin/api/expense/add","method":"post"},"updateExpense":{"url":"/admin/api/expense/update/:id","method":"post"},"deleteExpense":{"url":"/admin/api/expense/update/delete/:id","method":"post"},"expenseDetail":{"url":"/admin/api/expense/:id","method":"get"},"expenseList":{"url":"/admin/api/expense","method":"get"},"regionList":{"url":"/admin/api/delivery?sort=sortItem&sortOrder=sortOrderValue","method":"get"},"addRegion":{"url":"/admin/api/delivery/add","method":"post"},"updateRegion":{"url":"/admin/api/delivery/update/:id","method":"post"},"deleteRegion":{"url":"/admin/api/delivery/update/delete/:id","method":"post"},"getDeliveryRegion":{"url":"/api/delivery/city/:cityName","method":"get"},"orderList":{"url":"/admin/api/order?sort=sortItem&sortOrder=sortOrderValue&status=statusValue&startDate=startDateValue&endDate=endDateValue&deliveryRegionName=deliveryRegionNameValue","method":"get"},"orderListForCustomer":{"url":"/admin/api/order?customer=customerId","method":"get"},"addOrder":{"url":"/admin/api/order/add","method":"post"},"updateOrder":{"url":"/admin/api/order/update/:id","method":"post"},"updateOrderStatus":{"url":"/admin/api/order/update/:id/status?newstatus=newOrderstatus","method":"post"},"orderDetail":{"url":"/admin/api/order/:id","method":"get"},"deleteOrder":{"url":"/admin/api/order/update/delete/:id","method":"post"},"configureOrderStatus":{"url":"/admin/api/order/config/status","method":"post"},"getOrderStatusConfiguration":{"url":"/admin/api/order/config/status","method":"get"},"addOrderNote":{"url":"/admin/api/order/notes/add","method":"post"},"getOrderNote":{"url":"/admin/api/order/notes/:id","method":"get"},"updateOrderNote":{"url":"/admin/api/order/notes/update/:id","method":"post"},"deleteOrderNote":{"url":"/admin/api/order/notes/update/delete/:id","method":"post"},"componentList":{"url":"/admin/api/component?sort=sortItem&sortOrder=sortOrderValue&image=imageValue","method":"get"},"addComponent":{"url":"/admin/api/component/add","method":"post"},"updateComponent":{"url":"/admin/api/component/update/:id","method":"post"},"componentDetail":{"url":"/admin/api/component/:id","method":"post"},"deleteComponent":{"url":"/admin/api/component/update/delete/:id","method":"post"},"themeList":{"url":"/admin/api/theme?sort=sortItem&sortOrder=sortOrderValue","method":"get"},"addTheme":{"url":"/admin/api/theme/add","method":"post"},"activeTheme":{"url":"/admin/api/theme/update/activate/:id","method":"post"},"themeDetail":{"url":"/admin/api/theme/:id","method":"post"},"deletetheme":{"url":"/admin/api/theme/update/delete/:id","method":"post"},"pageList":{"url":"/admin/api/page?sort=sortItem&sortOrder=sortOrderValue","method":"get"},"pageDetail":{"url":"/admin/api/page/:id","method":"get"},"addPage":{"url":"/admin/api/page/add","method":"post"},"updatePage":{"url":"/admin/api/page/update/:id","method":"post"},"deletePage":{"url":"/admin/api/page/update/delete/:id","method":"post"},"siteSettings":{"url":"/admin/api/settings/site","method":"get"},"updateSiteSettings":{"url":"/admin/api/settings/update/site","method":"post"},"updateSiteLogoAndIcon":{"url":"/admin/api/settings/update/logo","method":"post"},"updateInvoiceSettings":{"url":"/admin/api/settings/update/invoice","method":"post"},"updateSiteSEO":{"url":"/admin/api/settings/update/seo","method":"post"},"getSiteSEO":{"url":"/admin/api/settings/seo","method":"get"},"updateAdminCredential":{"url":"/admin/api/adminRoles/update","method":"post"},"deleteAdmin":{"url":"/admin/api/adminRoles/delete/:id","method":"get"},"getAdminCredential":{"url":"/admin/api/credential","method":"get"},"adminUpdatePassword":{"url":"/admin/api/settings/update/password","method":"post"},"invoiceSettingsDetail":{"url":"/admin/api/settings/invoice","method":"get"},"sendSMS":{"url":"/admin/api/sms/inbox/send","method":"post"},"getAllNotification":{"url":"/admin/api/notification?sort=sortItem&sortOrder=sortOrderValue","method":"get"},"getAllNotificationPage":{"url":"/admin/api/notification?sort=sortItem&sortOrder=sortOrderValue","method":"get"},"markNotificationAsRead":{"url":"/admin/api/notification/markread","method":"post"},"markAllNotificationAsRead":{"url":"/admin/api/notification/markreadall","method":"post"},"getAnalyticsPageVisitCount":{"url":"/admin/api/analytics/visitCount?type=visitType&startDate=startDateValue&endDate=endDateValue","method":"get"},"getAnalyticsPageBreakDown":{"url":"/admin/api/analytics/breakdown?metric=metricName&startDate=startDateValue&endDate=endDateValue","method":"get"},"getAnalyticsPageVisits":{"url":"/admin/api/analytics/item?type=visitType&metric=item&startDate=startDateValue&endDate=endDateValue","method":"get"},"getAnalyticsDemographicVisits":{"url":"/admin/api/analytics/user?metric=metricType&startDate=startDateValue&endDate=endDateValue","method":"get"},"getAnalyticsOrders":{"url":"/admin/api/order?metric=metricType&startDate=startDateValue&endDate=endDateValue","method":"get"},"getAnalyticsTotalUserCount":{"url":"/admin/api/analytics/user?metric=metricValue&startDate=startDateValue&endDate=endDateValue","method":"get"},"getTotalUserCount":{"url":"/admin/api/analytics/user?metric=metricValue&startDate=startDateValue&endDate=endDateValue","method":"get"},"getEmailConfiguration":{"url":"/admin/api/email/configuration","method":"get"},"configureEmailSTMP":{"url":"/admin/api/email/configure","method":"post"},"getAutoEmailConfiguration":{"url":"/admin/api/email/autoevents","method":"get"},"configureAutoEmail":{"url":"/admin/api/email/configure/autoevents","method":"post"},"configureAutoEmailTemplate":{"url":"/admin/api/email/configure/template","method":"post"},"getConfigureAutoEmailTemplate":{"url":"/admin/api/email/autoevents/templates/:eventName","method":"get"},"getSetEmailList":{"url":"/admin/api/email/inbox?limit=limitCount&sort=sortItemValue&sortOrder=sortOrderValue","method":"get"},"getEmailDetails":{"url":"/admin/api/email/inbox/:id","method":"get"},"sendCustomEmail":{"url":"/admin/api/email/inbox/send","method":"post"},"getSMSConfiguration":{"url":"/admin/api/sms/configuration","method":"get"},"configureSMS":{"url":"/admin/api/sms/configure","method":"post"},"getAutoSMSConfiguration":{"url":"/admin/api/sms/autoevents","method":"get"},"configureAutoSMS":{"url":"/admin/api/sms/configure/autoevents","method":"post"},"configureAutoSMSTemplate":{"url":"/admin/api/sms/configure/template","method":"post"},"getConfigureAutoSMSTemplate":{"url":"/admin/api/sms/autoevents/templates/:eventName","method":"get"},"getSentSMSList":{"url":"/admin/api/sms/inbox?limit=limitCount&sort=sortItemValue&sortOrder=sortOrderValue","method":"get"},"getSMSDetails":{"url":"/admin/api/sms/inbox/:id","method":"get"},"sendCustomSMS":{"url":"/admin/api/sms/inbox/send","method":"post"},"login":{"url":"/admin/auth/login","method":"post"},"attributeList":{"url":"/admin/api/attributes","method":"get"},"adminRoleRegister":{"url":"/admin/api/adminRoles/register","method":"post"},"updateAdminRole":{"url":"/admin/api/adminRoles/update/:id","method":"post"},"adminList":{"url":"/admin/api/adminRoles","method":"get"},"adminDetail":{"url":"/admin/api/adminRoles/:id","method":"get"},"countryList":{"url":"/api/geo/country","method":"get"},"cityList":{"url":"/api/geo/:country/city","method":"get"},"logout":{"url":"/admin/api/auth/logout","method":"get"}}}')},439:function(e){e.exports=JSON.parse('{"alpha":{"categoryList":{"id":"","name":"","description":"","productCount":"","image":""},"categoryProducts":{"id":"","name":"","description":"","price":"","image":[]},"categoryDetail":{"id":"","name":"","description":"","productCount":"","image":""},"productDetail":{"id":"","name":"","description":"","price":"","image":[]},"productSearch":{"id":"","name":"","description":"","price":"","image":[]}},"wooCommerce":{"categoryList":{"id":"","name":"","description":"","productCount":"","image":""},"categoryProducts":{"id":"","name":"","description":"","price":"","image":[]},"categoryDetail":{"id":"","name":"","description":"","productCount":"","image":""},"productDetail":{"id":"","name":"","description":"","price":"","image":[]},"productSearch":{"id":"","name":"","description":"","price":"","image":[]},"createOrder":{"id":"","total":""},"signup":{"status":"","user_id":"","username":"","cookie":""},"signin":{"status":"","cookie":"","user":{}},"currentUserOrders":{"id":"","status":"","total":"","line_items":"","date_created":""},"getCurrentCustomerData":{"id":"","name":"","phone":"","email":"","address":"","created":""},"updateCurrentCustomerData":{"id":"","name":"","phone":"","email":"","address":"","created":""}}}')},508:function(e,t,a){e.exports=a(883)},792:function(e,t){},856:function(e,t){},881:function(e,t,a){},883:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"saveRoles",(function(){return je}));var r={};a.r(r),a.d(r,"saveCredentials",(function(){return fs}));var i={};a.r(i),a.d(i,"busy",(function(){return Vd})),a.d(i,"cart",(function(){return Hd})),a.d(i,"wishList",(function(){return Yd})),a.d(i,"checkout",(function(){return Jd})),a.d(i,"search",(function(){return ap})),a.d(i,"product",(function(){return ip})),a.d(i,"session",(function(){return lp})),a.d(i,"category",(function(){return up})),a.d(i,"cache",(function(){return dp})),a.d(i,"brand",(function(){return bp})),a.d(i,"tag",(function(){return fp})),a.d(i,"globalState",(function(){return Ce})),a.d(i,"credentials",(function(){return hs}));var o=a(0),c=a.n(o),l=a(28),s=a.n(l),u=a(35),m=a(60),d=a(2),p=a.n(d),b=a(4),g=a(1),f=a(5),h=a(29),E=a(46),v=a(11),y=a(8),O=a(899),j=a(893),C=(O.a.TextArea,function(e){var t=e.required,a=e.addonBefore,n=e.label,r=e.type,i=(e.defaultValue,e.value),o=e.onChange,l=e.disabled,s=e.isError,u=e.errorString,m=e.name,d=e.placeHolder,p=e.min;return c.a.createElement(c.a.Fragment,null,n&&c.a.createElement("h3",{className:"inputFieldLabel"},n),c.a.createElement(j.a.Item,{validateStatus:s?"error":"",help:u},c.a.createElement(O.a,{onKeyDown:function(e){"number"===r&&("e"!==e.key&&"-"!==e.key||e.preventDefault())},min:p,required:t,type:r,addonBefore:a,style:{borderRadius:"0"},name:m,disabled:l,value:i,onChange:o,className:"inputclassName",placeholder:d})))}),N=a(65),x=a(66),k=a(14),S=a(438),w=a(439),T=a(13),_=a.n(T),D=function(e,t){return!(!t||!t[0])&&(!!t.includes("superAdmin")||t.includes(e))},I=function(e){return!e||!Object.keys(e).length>0},L=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(I(t))return e;var a=t.params||{},n=t.placeHolders||{};return e.split("/").map((function(e){var t,r,i,o,c,l;if((null===(t=e)||void 0===t?void 0:t.includes(":"))&&!I(n)&&!(null===(r=e)||void 0===r?void 0:r.includes("?"))){var s=n[e.replace(":","")];e=s}if((null===(i=e)||void 0===i?void 0:i.includes(":"))&&!I(n)&&(null===(o=e)||void 0===o?void 0:o.includes("?"))){var u=e.split("?");u&&u.length>0&&(u=u.map((function(e){return n[e.replace(":","")]?n[e.replace(":","")]:e}))),e=u.join("?")}return(null===(c=e)||void 0===c?void 0:c.includes("?"))&&!(null===(l=e)||void 0===l?void 0:l.includes("/"))&&(e=e.split("&").map((function(e){var t=e.slice(e.indexOf("=")+1);return e.replace(t,a[t]||"")})).join("&")),e})).join("/")},P=new(function(){function e(){Object(N.a)(this,e)}return Object(x.a)(e,[{key:"categoryList",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data||[],n=a.length>0&&a.map((function(e){return Object(f.a)({},e,{id:e._id||"",key:e._id||"",name:e.name&&e.name,description:e.description&&e.description,productCount:e.productCount||0,parent:e.parent||"",cover:e.cover?"".concat(k.baseURL).concat(e.cover.thumbnail):null,icon:e.icon?"".concat(k.baseURL).concat(e.icon):null,thumbnail:e.thumbnail?"".concat(k.baseURL).concat(e.thumbnail):null,image:a.image&&a.image.length>0&&a.image.map((function(e){return{id:e._id||"",name:e.name&&e.name,cover:"".concat(k.baseURL).concat(e.medium),added:e.added,title:e.title,labels:e.labels,alt:e.alt,caption:e.caption}}))||[],subCount:1===e.subCategory.length?e.subCategory[0]&&e.subCategory[0].name?e.subCategory.length:0:e.subCategory.length},e.subCategory&&e.subCategory.length>0&&e.subCategory[0]&&e.subCategory[0].name&&{children:e.subCategory.map((function(e){return{id:e._id||"",key:e._id,name:e.name&&e.name,description:e.description&&e.description,cover:e.cover?"".concat(k.baseURL).concat(e.cover.thumbnail):""}}))})})),e.abrupt("return",n);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"postCategoryList",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data&&t.data?t.data:[],n=a.length>0&&a.map((function(e){return{id:e._id||"",key:e._id||"",name:e.name&&e.name,description:e.description&&e.description,cover:e.cover?"".concat(k.baseURL).concat(e.cover.thumbnail):null,icon:e.icon?"".concat(k.baseURL).concat(e.icon):null}})),e.abrupt("return",n);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"postCategoryDetail",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t,!(Object.keys(a).length>0)){e.next=3;break}return e.abrupt("return",Object(f.a)({},a,{id:a._id||"",name:a.name&&a.name,cover:{cover:"".concat(k.baseURL).concat(a.cover?a.cover.original&&a.cover.original:""),id:a.cover?a.cover._id:""},url:a.url,image:a.image&&a.image.length>0&&a.image.map((function(e){return{id:e._id||"",name:e.name&&e.name,cover:"".concat(k.baseURL).concat(e.original),added:e.added,title:e.title,labels:e.labels,alt:e.alt,caption:e.caption}}))||[]}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getAllNotification",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data||[],n=[],a&&a.length>0&&a.forEach((function(e){e.read||n.push(e)})),e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getAllNotificationPage",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data||[],n=a.length>0&&a.map((function(e){return{id:e._id||"",key:e._id||"",heading:e.heading&&e.heading,text:e.text&&e.text,type:e.type,link:e.link||"",added:e.added||"",read:e.read}})),e.abrupt("return",n);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"categorySelectist",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data||[],n=a.length>0&&a.map((function(e){return Object(f.a)({id:e._id||"",key:e._id||"",title:e.name&&e.name},e.subCategory&&e.subCategory.length>0&&e.subCategory[0]&&e.subCategory[0].name&&{children:e.subCategory.map((function(e){return{id:e._id||"",key:e._id,title:e.name&&e.name,cover:e.cover?"".concat(k.baseURL).concat(e.cover.thumbnail?e.cover.thumbnail:""):""}}))})})),e.abrupt("return",n);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"postSelectCategoryList",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,n=a.length>0&&a.map((function(e){return{id:e._id||"",key:e._id||"",title:e.name&&e.name}})),e.abrupt("return",n);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"categoryProducts",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data||[],t.page.next,n=a.length>0&&a.map((function(e){return{id:e._id||"",name:e.name&&e.name,description:e.description&&e.description,cover:"".concat(k.baseURL).concat(e.cover&&e.cover.thumbnail||""),regularPrice:e.price&&e.price.regular,offerPrice:e.price&&e.price.offer,url:e.url,unit:e.unit,category:e.category,pricing:e.pricing,date:e.date,time:e.time,venue:e.venue,brand:e.brand,tags:e.tags,price:parseInt(e.price.offer)>parseInt(e.price.regular)?e.price.offer:e.price.regular,available:e.pricing&&e.pricing.length>0?e.pricing[0].stock&&e.pricing[0].stock.available:0,minimum:e.pricing&&e.pricing.length>0?e.pricing[0].stock&&e.pricing[0].stock.minimum:0}})),e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getCart",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.items||[],n=a.length>0&&a.map((function(e){return{id:e._id||"",name:e.name&&e.name,cover:"".concat(k.baseURL).concat(e.cover.medium),regularPrice:e.price&&e.price.regular,offerPrice:e.price&&e.price.offer,quantity:e.quantity,url:e.url,cartKey:e.cartKey}})),e.abrupt("return",n);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"addtoCart",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=!1,t.inserted&&(a={id:t.inserted._id||"",name:t.inserted.name&&t.inserted.name,cover:"".concat(k.baseURL).concat(t.inserted.cover.medium),regularPrice:t.inserted.price&&t.inserted.price.regular,offerPrice:t.inserted.price&&t.inserted.price.offer,quantity:t.inserted.quantity,url:t.inserted.url,cartKey:t.inserted.cartKey}),n=a,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"removeFromCart",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=!1,t&&(a=!0),e.abrupt("return",a);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCartItem",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=!1,t.updated&&(a={quantity:t.updated.quantity}),e.abrupt("return",a);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearCart",value:function(){var e=Object(b.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||!t.msg){e.next=2;break}return e.abrupt("return",{status:"ok"});case 2:return e.abrupt("return",t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getWishlist",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t,e.abrupt("return",a);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"addWishlist",value:function(){var e=Object(b.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||"wishlist updated"!==t.msg){e.next=2;break}return e.abrupt("return",{status:"ok"});case 2:return e.abrupt("return",!1);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"removeFromWishlist",value:function(){var e=Object(b.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||"wishlist updated"!==t.msg){e.next=2;break}return e.abrupt("return",{status:"ok"});case 2:return e.abrupt("return",!1);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"removeAllWishlist",value:function(){var e=Object(b.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||"wishlist updated"!==t.msg){e.next=2;break}return e.abrupt("return",{status:"ok"});case 2:return e.abrupt("return",!1);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"tagProducts",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data||[],t.page.next,n=a.length>0&&a.map((function(e){return{id:e._id||"",name:e.name&&e.name,description:e.description&&e.description,cover:"".concat(k.baseURL).concat(e.cover&&e.cover.thumbnail||""),regularPrice:e.price&&e.price.regular,offerPrice:e.price&&e.price.offer,url:e.url,unit:e.unit,category:e.category,pricing:e.pricing,date:e.date,time:e.time,venue:e.venue,brand:e.brand,tags:e.tags,price:parseInt(e.price.offer)>parseInt(e.price.regular)?e.price.offer:e.price.regular,avalable:e.pricing&&e.pricing.length>0?e.pricing[0].stock&&e.pricing[0].stock.available:0,minimum:e.pricing&&e.pricing.length>0?e.pricing[0].stock&&e.pricing[0].stock.minimum:0}})),e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"brandProducts",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data||[],t.page.next,n=a.length>0&&a.map((function(e){return{id:e._id||"",name:e.name&&e.name,description:e.description&&e.description,cover:"".concat(k.baseURL).concat(e.cover&&e.cover.thumbnail||""),regularPrice:e.price&&e.price.regular,offerPrice:e.price&&e.price.offer,url:e.url,unit:e.unit,category:e.category,pricing:e.pricing,date:e.date,time:e.time,venue:e.venue,brand:e.brand,tags:e.tags,price:parseInt(e.price.offer)>parseInt(e.price.regular)?e.price.offer:e.price.regular,avalable:e.pricing&&e.pricing.length>0?e.pricing[0].stock&&e.pricing[0].stock.available:0,minimum:e.pricing&&e.pricing.length>0?e.pricing[0].stock&&e.pricing[0].stock.minimum:0}})),e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"productSearch",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a,n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data||[],n=t.page.next,r=a.length>0&&a.map((function(e){return{id:e._id||"",name:e.name&&e.name,description:e.description&&e.description,cover:"".concat(k.baseURL).concat(e.cover.thumbnail),regularPrice:e.price&&e.price.regular,offerPrice:e.price&&e.price.offer,url:e.url,unit:e.unit,date:e.date,venue:e.venue,pricing:e.pricing}}))||[],e.abrupt("return",{data:r,isNext:n});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"productList",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a,n,r,i,o;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.data||[],r=t.page.next,i=null===(a=t.page)||void 0===a?void 0:a.totalIndex,o={data:o=n.length>0&&n.map((function(e){return Object(f.a)({},e,{id:e._id||"",name:e.name&&e.name,description:e.description&&e.description,cover:e.cover?"".concat(k.baseURL).concat(e.cover&&e.cover.thumbnail||""):e.cover,regularPrice:e.price&&e.price.regular,offerPrice:e.price&&e.price.offer,url:e.url,unit:e.unit,category:e.category,image:n.image&&n.image.length>0&&n.image.map((function(e){return{id:e._id||"",name:e.name&&e.name,cover:"".concat(k.baseURL).concat(e.original),added:e.added,title:e.title,labels:e.labels,alt:e.alt,caption:e.caption}}))||[],pricing:e.pricing,date:e.date,time:e.time,venue:e.venue,brand:e.brand,tags:e.tags,price:parseInt(e.price.offer)>parseInt(e.price.regular)?e.price.offer:e.price.regular,available:e.pricing&&e.pricing.length>0?e.pricing[0].stock&&e.pricing[0].stock.available:0,minimum:e.pricing&&e.pricing.length>0?e.pricing[0].stock&&e.pricing[0].stock.minimum:0})})),next:r,total:i},e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"postList",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,n=a.length>0&&a.map((function(e){return Object(f.a)({},e,{id:e._id||"",name:e.name&&e.name,body:e.body&&e.body,preparationTime:e.preparationTime&&e.preparationTime,servingSize:e.servingSize&&e.servingSize,cookingTime:e.cookingTime&&e.cookingTime,cover:e.cover?"".concat(k.baseURL).concat(e.cover&&e.cover.thumbnail||""):null,url:e.url,category:e.category,tags:e.tags})})),e.abrupt("return",n);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"tagPostList",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,n=a.length>0&&a.map((function(e){return Object(f.a)({},e,{id:e._id||"",name:e.name&&e.name,body:e.body&&e.body,preparationTime:e.preparationTime&&e.preparationTime,servingSize:e.servingSize&&e.servingSize,cookingTime:e.cookingTime&&e.cookingTime,cover:"".concat(k.baseURL).concat(e.cover&&e.cover.thumbnail||""),url:e.url,category:e.category,tags:e.tags})})),e.abrupt("return",n);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"categoryPostList",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,n=a.length>0&&a.map((function(e){return Object(f.a)({},e,{id:e._id||"",name:e.name&&e.name,body:e.body&&e.body,preparationTime:e.preparationTime&&e.preparationTime,servingSize:e.servingSize&&e.servingSize,cookingTime:e.cookingTime&&e.cookingTime,cover:"".concat(k.baseURL).concat(e.cover&&e.cover.thumbnail||""),url:e.url,category:e.category,tags:e.tags})})),e.abrupt("return",n);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"postDetail",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t,console.log("upconvertedpostDetail",t),!(Object.keys(a).length>0)){e.next=6;break}return e.abrupt("return",Object(f.a)({},a,{id:a._id||"",name:a.name&&a.name,body:a.body&&a.body,preparationTime:a.preparationTime&&a.preparationTime,servingSize:a.servingSize&&a.servingSize,cookingTime:a.cookingTime&&a.cookingTime,cover:"".concat(k.baseURL).concat(a.cover&&a.cover.medium||""),url:a.url,requiredProducts:a.requiredProducts&&a.requiredProducts.length>0?a.requiredProducts.map((function(e){return Object(f.a)({},e,{id:e.id},e.detail&&Object.keys(e.detail).length>0&&Object(f.a)({},e.detail,{cover:{cover:"".concat(k.baseURL).concat(e.detail.cover?e.detail.cover.original&&e.detail.cover.original:""),id:e.detail.cover?e.detail.cover._id:""},price:parseInt(e.detail.price.offer)>parseInt(e.detail.price.regular)?e.detail.price.offer:e.detail.price.regular,image:e.detail.image&&e.detail.image.length>0&&e.detail.image.map((function(e){return{id:e._id||"",name:e.name&&e.name,cover:"".concat(k.baseURL).concat(e.original),added:e.added,title:e.title,labels:e.labels,alt:e.alt,caption:e.caption}}))||[]}))})):[],category2:a.category&&a.category.length>0&&a.category.map((function(e){return{id:e._id,name:e.name}}))||a.category,category:a.category&&a.category.length>0&&a.category.map((function(e){return e._id}))||a.category,tags:a.tags&&a.tags.length>0?a.tags:[],image:a.image&&a.image.length>0&&a.image.map((function(e){return{id:e._id||"",name:e.name&&e.name,cover:"".concat(k.baseURL).concat(e.original),added:e.added,title:e.title,labels:e.labels,alt:e.alt,caption:e.caption}}))||[]}));case 6:return e.abrupt("return",{});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"postDetailEdit",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t,console.log("upconvertedpostDetail",t),!(Object.keys(a).length>0)){e.next=6;break}return e.abrupt("return",Object(f.a)({},a,{id:a._id||"",name:a.name&&a.name,body:a.body&&a.body,preparationTime:a.preparationTime&&a.preparationTime,servingSize:a.servingSize&&a.servingSize,cookingTime:a.cookingTime&&a.cookingTime,cover:"".concat(k.baseURL).concat(a.cover&&a.cover.medium||""),url:a.url,requiredProducts:a.requiredProducts&&a.requiredProducts.length>0?a.requiredProducts.map((function(e){return Object(f.a)({},e,{id:e.id},e.detail&&Object.keys(e.detail).length>0&&Object(f.a)({},e.detail,{cover:{cover:"".concat(k.baseURL).concat(e.detail.cover?e.detail.cover.original&&e.detail.cover.original:""),id:e.detail.cover?e.detail.cover._id:""},price:parseInt(e.detail.price.offer)>parseInt(e.detail.price.regular)?e.detail.price.offer:e.detail.price.regular,image:e.detail.image&&e.detail.image.length>0&&e.detail.image.map((function(e){return{id:e._id||"",name:e.name&&e.name,cover:"".concat(k.baseURL).concat(e.original),added:e.added,title:e.title,labels:e.labels,alt:e.alt,caption:e.caption}}))||[]}))})):[],category:a.category,tags:a.tags&&a.tags.length>0?a.tags:[],image:a.image&&a.image.length>0&&a.image.map((function(e){return{id:e._id||"",name:e.name&&e.name,cover:"".concat(k.baseURL).concat(e.original),added:e.added,title:e.title,labels:e.labels,alt:e.alt,caption:e.caption}}))||[]}));case 6:return e.abrupt("return",{});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"bundleList",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data||[],n=a.length>0&&a.map((function(e){return Object(f.a)({},e,{anotherPrice:e.price,id:e._id||"",name:e.name&&e.name,description:e.description&&e.description,cover:e.cover?"".concat(k.baseURL).concat(e.cover&&e.cover.thumbnail||""):e.cover,regularPrice:e.price&&e.price.regular,offerPrice:e.price&&e.price.offer,url:e.url,startDate:e.startDate,endDate:e.endDate,actualPrice:e.actualPrice,unit:e.unit,category:e.category,pricing:e.pricing,date:e.date,time:e.time,venue:e.venue,brand:e.brand,tags:e.tags,product:e.product,productCount:e.product.length,price:parseInt(e.price.offer)>parseInt(e.price.regular)?e.price.offer:e.price.regular})})),e.abrupt("return",n);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"bundleDetail",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t||{},!(Object.keys(a).length>0)){e.next=5;break}return e.abrupt("return",{id:a._id||"",name:a.name&&a.name,description:a.description&&a.description,cover:a.cover?"".concat(k.baseURL).concat(a.cover&&a.cover.thumbnail||""):"",regularPrice:a.price&&a.price.regular,offerPrice:a.price&&a.price.offer,url:a.url,startDate:a.startDate,endDate:a.endDate,actualPrice:a.actualPrice,unit:a.unit,category:a.category,pricing:a.pricing,date:a.date,time:a.time,venue:a.venue,brand:a.brand,tags:a.tags,products:a.product,productCount:a.product.length,price:parseInt(a.price.offer)>parseInt(a.price.regular)?a.price.offer:a.price.regular,image:a.image&&a.image.length>0&&a.image.map((function(e){return{id:e._id||"",name:e.name&&e.name,cover:"".concat(k.baseURL).concat(e.original),added:e.added,title:e.title,labels:e.labels,alt:e.alt,caption:e.caption}}))||[]});case 5:return e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getAnalyticsPageVisits",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t&&t.data?t.data:[],console.log("getAnalyticsPageVisits",t),n=a.length>0&&a.map((function(e){return{id:e._id||"",visit:e.count||"",name:e.detail&&e.detail[0]&&e.detail[0].name,url:e.detail&&e.detail[0]&&e.detail[0].url,itemId:e.detail&&e.detail[0]&&e.detail[0]._id}})),e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getAnalyticsPageVisitCount",value:function(){var e=Object(b.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getAnalyticsDemographicVisits",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=t&&t.data?t.data:[])){e.next=5;break}return e.abrupt("return",a);case 5:return e.abrupt("return",[]);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getAnalyticsOrders",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data||[],e.abrupt("return",a);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getAnalyticsTotalUserCount",value:function(){var e=Object(b.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"customerDetail",value:function(){var e=Object(b.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=4;break}return e.abrupt("return",Object(f.a)({},t,{id:t._id||"",key:t._id||"",firstName:t.firstName||"",lastName:t.lastName||"",name:t.firstName+" "+t.lastName,country:t.country||"",city:t.city||"",email:t.email||"",phone:t.phone||"",address1:t.address1||"",address2:t.address2||"",created:t.created||""}));case 4:return e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"couponList",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(a=t||[]).length>0&&a.map((function(e){return Object(f.a)({},a,{id:e._id||"",name:e.name&&e.name,code:e.code,cover:e.cover?"".concat(k.baseURL).concat(e.cover&&e.cover.thumbnail||""):null,minimumOrder:e.minimumOrder,maximumOrder:e.maximumOrder,offerPrice:e.price&&e.price.offer,freeProducts:e.freeProducts,orderedProductsCount:e.orderedProducts&&e.orderedProducts.length,freeProductsCount:e.freeProducts&&e.freeProducts.length,amountType:e.amountType,amount:e.amount,freeDelivery:e.freeDelivery,startDate:e.startDate,endDate:e.endDate,maxUsePerUser:e.maxUsePerUser,actualPrice:e.actualPrice,unit:e.unit,category:e.category,pricing:e.pricing,date:e.date,time:e.time})})),console.log("convertedCouponData55",n),e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"tagList",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data||[],n=a.length>0&&a.map((function(e){return Object(f.a)({},e,{id:e._id||"",key:e._id||"",name:e.name&&e.name,description:e.description&&e.description})})),e.abrupt("return",n);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getSetEmailList",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data||[],n=a.length>0&&a.map((function(e){return Object(f.a)({},e,{id:e._id||"",key:e._id||"",recipient:e.recipient,subject:e.subject,html:e.html,text:e.text,time:e.time,event:e.event})})),e.abrupt("return",n);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getSentSMSList",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data||[],n=a.length>0&&a.map((function(e){return Object(f.a)({},e,{id:e._id||"",key:e._id||"",recipient:e.recipient,text:e.text,time:e.time,event:e.event})})),e.abrupt("return",n);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"postTagList",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,n=a.length>0&&a.map((function(e){return{id:e._id||"",key:e._id||"",name:e.name&&e.name,description:e.description&&e.description}})),e.abrupt("return",n);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"postTagDetail",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t,!(Object.keys(a).length>0)){e.next=5;break}return e.abrupt("return",Object(f.a)({},a,{id:a._id||"",key:a._id||"",name:a.name&&a.name,description:a.description&&a.description}));case 5:return e.abrupt("return",{});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"dealerAreaDetail",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t,!(Object.keys(a).length>0)){e.next=5;break}return e.abrupt("return",Object(f.a)({},a,{id:a._id||"",key:a._id||"",name:a.name&&a.name}));case 5:return e.abrupt("return",{});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"brandList",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data||[],n=a.length>0&&a.map((function(e){return Object(f.a)({},e,{id:e._id||"",key:e._id||"",name:e.name&&e.name,description:e.description&&e.description,cover:e.cover?"".concat(k.baseURL).concat(e.cover?e.cover.thumbnail:""):null})})),e.abrupt("return",n);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"setImageAsThumbnailToItem",value:function(){var e=Object(b.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.success){e.next=2;break}return e.abrupt("return",{status:"ok"});case 2:return e.abrupt("return",{});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteAdmin",value:function(){var e=Object(b.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.success){e.next=2;break}return e.abrupt("return",{status:"ok"});case 2:return e.abrupt("return",{});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"markAllNotificationAsRead",value:function(){var e=Object(b.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.success){e.next=2;break}return e.abrupt("return",{status:"ok"});case 2:return e.abrupt("return",{});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"configureEmailSTMP",value:function(){var e=Object(b.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.success){e.next=2;break}return e.abrupt("return",{status:"ok"});case 2:return e.abrupt("return",{});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"configureSMS",value:function(){var e=Object(b.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.success){e.next=2;break}return e.abrupt("return",{status:"ok"});case 2:return e.abrupt("return",{});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getEmailConfiguration",value:function(){var e=Object(b.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t&&Object.keys(t).length>0)){e.next=2;break}return e.abrupt("return",Object(f.a)({},t,{status:"ok"}));case 2:return e.abrupt("return",{});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getSMSConfiguration",value:function(){var e=Object(b.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t&&Object.keys(t).length>0)){e.next=2;break}return e.abrupt("return",Object(f.a)({},t,{status:"ok"}));case 2:return e.abrupt("return",{});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendCustomEmail",value:function(){var e=Object(b.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||!t.msg){e.next=2;break}return e.abrupt("return",{status:"ok"});case 2:return e.abrupt("return",{});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"configureAutoEmailTemplate",value:function(){var e=Object(b.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||!t.success){e.next=2;break}return e.abrupt("return",{status:"ok"});case 2:return e.abrupt("return",{});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getConfigureAutoEmailTemplate",value:function(){var e=Object(b.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t&&Object.keys(t).length>0)){e.next=2;break}return e.abrupt("return",Object(f.a)({},t,{id:t._id}));case 2:return e.abrupt("return",{});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getConfigureAutoSMSTemplate",value:function(){var e=Object(b.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t&&Object.keys(t).length>0)){e.next=2;break}return e.abrupt("return",Object(f.a)({},t,{id:t._id}));case 2:return e.abrupt("return",{});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendCustomSMS",value:function(){var e=Object(b.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||!t.success){e.next=2;break}return e.abrupt("return",{status:"ok"});case 2:return e.abrupt("return",{});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateSiteLogoAndIcon",value:function(){var e=Object(b.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.success){e.next=2;break}return e.abrupt("return",{status:"ok"});case 2:return e.abrupt("return",{});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateStock",value:function(){var e=Object(b.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.succes){e.next=2;break}return e.abrupt("return",{status:"ok"});case 2:return e.abrupt("return",{});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"brandDetail",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=Object.keys(t).length>0?t:null)){e.next=3;break}return e.abrupt("return",Object(f.a)({},a,{id:a._id||"",key:a._id||"",name:a.name&&a.name,description:a.description&&a.description,url:a.url&&a.url,cover:{cover:"".concat(k.baseURL).concat(a.cover?a.cover.original&&a.cover.original:""),id:a.cover?a.cover._id:""},image:a.image&&a.image.length>0&&a.image.map((function(e){return{id:e._id||"",name:e.name&&e.name,cover:"".concat(k.baseURL).concat(e.thumbnail),added:e.added,title:e.title,labels:e.labels,alt:e.alt,caption:e.caption}}))||[]}));case 3:return e.abrupt("return",{});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"tagDetail",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=Object.keys(t).length>0?t:null)){e.next=3;break}return e.abrupt("return",Object(f.a)({},a,{id:a._id||"",key:a._id||"",name:a.name&&a.name,url:a.url&&a.url,description:a.description&&a.description}));case 3:return e.abrupt("return",{});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"customerList",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data||[],n=a.length>0&&a.map((function(e){return Object(f.a)({},e,{id:e._id||"",key:e._id||"",firstName:e.firstName||"",lastName:e.lastName||"",name:e.firstName+" "+e.lastName,dealerName:e.dealer&&Object.keys(e.dealer).length>0?e.dealer.firstName+" "+e.dealer.lastName:"None",country:e.country||"",city:e.city||"",email:e.email||"",phone:e.phone||"",address1:e.address1||"",address2:e.address2||"",created:e.added||""})})),e.abrupt("return",n);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"staffList",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data||[],n=a.length>0&&a.map((function(e){return Object(f.a)({},e,{id:e._id||"",key:e._id||"",firstName:e.firstName||"",lastName:e.lastName||"",name:e.firstName+" "+e.lastName,country:e.country||"",city:e.city||"",email:e.email||"",phone:e.phone||"",address:e.address||""})})),e.abrupt("return",n);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"dealerRegisteredCustomerList",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data||[],n=a.length>0&&a.map((function(e){return Object(f.a)({},e,{id:e._id||"",key:e._id||"",firstName:e.firstName||"",lastName:e.lastName||"",name:e.firstName+" "+e.lastName,dealerName:e.dealer&&Object.keys(e.dealer).length>0?e.dealer.firstName+" "+e.dealer.lastName:"None",country:e.country||"",city:e.city||"",email:e.email||"",phone:e.phone||"",address1:e.address1||"",address2:e.address2||"",created:e.added||""})})),e.abrupt("return",n);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"dealerList",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data||[],n=a.length>0&&a.map((function(e){return Object(f.a)({},e,{id:e._id||"",key:e._id||"",code:e.code||"",commission:e.commission||"",depositMoney:e.depositMoney||"",name:e.firstName+" "+e.lastName,country:e.country||"",city:e.city||"",email:e.email||"",phone:e.phone||"",address1:e.address1||"",address2:e.address2||"",created:e.added||""})})),e.abrupt("return",n);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"dealerListByArea",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(a=t||[]).length>0&&a.map((function(e){return Object(f.a)({},e,{id:e._id||"",key:e._id||"",code:e.code||"",commission:e.commission||"",depositMoney:e.depositMoney||"",name:e.firstName+" "+e.lastName,country:e.country||"",city:e.city||"",email:e.email||"",phone:e.phone||"",address1:e.address1||"",address2:e.address2||"",created:e.added||""})})),e.abrupt("return",n);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"dealerDetail",value:function(){var e=Object(b.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=4;break}return e.abrupt("return",Object(f.a)({},t,{id:t._id||"",key:t._id||"",code:t.code||"",commission:t.commission||"",depositMoney:t.depositMoney||"",name:t.firstName+" "+t.lastName,country:t.country||"",city:t.city||"",email:t.email||"",phone:t.phone||"",address1:t.address1||"",address2:t.address2||"",created:t.added||""}));case 4:return e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"pageList",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data||[],n=a.length>0&&a.map((function(e){return Object(f.a)({},e,{id:e._id||"",key:e._id||"",name:e.name&&e.name,description:e.description&&e.description,cover:e.cover?"".concat(k.baseURL).concat(e.cover?e.cover.thumbnail:""):null})})),e.abrupt("return",n);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"themeList",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(a=t||[]).length>0&&a.map((function(e){return{id:e._id||"",key:e._id||"",name:e.name||"",added:e.added||"",thumbnail:"".concat(k.baseURL).concat(e.thumbnail?e.thumbnail:"")}})),e.abrupt("return",n);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentList",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((a=t.components||{})&&a.length>0)){e.next=4;break}return n=a.length>0&&a.map((function(e){return{id:e._id||"",key:e._id||"",name:e.name||"",items:e.items.length>0?e.items.map((function(e){return Object(f.a)({},e,{image:e.image.length>0?e.image.map((function(e){return{cover:"".concat(k.baseURL).concat(e.thumbnail?e.thumbnail:""),id:e._id,name:e.name&&e.name,added:e.added,title:e.title,labels:e.labels,alt:e.alt,caption:e.caption}})):[]})})):[]}})),e.abrupt("return",n);case 4:return e.abrupt("return",[]);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"regionList",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.length>0&&t.map((function(e){return{id:e._id||"",key:e._id||"",name:e.name||"",pickUpLocation:e.pickUpLocation||"",country:e.country||"",countryCode:e.countryCode||"",countryName:e.countryName||"",city:e.city||"",time:e.time||"",charge:e.charge||{}}})),e.abrupt("return",a);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"attributeList",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object.keys(t).length>0&&t,e.abrupt("return",a);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"ImageListFromLibrary",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a,n,r,i,o,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.data||[],i=null===(a=t.page)||void 0===a?void 0:a.next,o=null===(n=t.page)||void 0===n?void 0:n.totalIndex,c=r.length>0&&r.map((function(e){return{id:e._id||"",name:e.name&&e.name,cover:"".concat(k.baseURL).concat(e.thumbnail),added:e.added,title:e.title,labels:e.labels,alt:e.alt,caption:e.caption}})),e.abrupt("return",{data:c,next:i,total:o});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"countryList",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(a=t||[]).length>0&&a.map((function(e){return{id:e._id||"",name:e.name&&e.name}})),e.abrupt("return",n);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getDeliveryRegion",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t,e.abrupt("return",a);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"cityList",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(a=t||[]).length>0&&a.map((function(e){return{id:e._id||"",name:e.name&&e.name}})),e.abrupt("return",n);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"forAnalytics",value:function(){var e=Object(b.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"productDetail",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object.keys(t).length>0&&Object(f.a)({},t,{id:t._id||t.id||"",name:t.name||"",description:t.description.replace(/<[^>]+>/g,"")||"",regularPrice:t.price&&t.price.regular,offerPrice:t.price&&t.price.offer,url:t.url,availableStock:t.availableStock,minimumStock:t.minimumStock,unit:t.unit,date:t.date,venue:t.venue,brand:t.brand&&Object.key(t.brand).length>0?{id:t.brand.id,name:t.brand.name}:{},price:parseInt(t.price.offer)>parseInt(t.price.regular)?t.price.offer:t.price.regular,pricing:t.pricing,category:t.category&&t.category.length>0&&t.category.map((function(e){return{id:e._id,name:e.name}}))||t.category,tags:t.tags&&t.tags.length>0?t.tags:[],cover:{cover:"".concat(k.baseURL).concat(t.cover?t.cover.original&&t.cover.original:""),id:t.cover?t.cover._id:""},image:t.image&&t.image.length>0&&t.image.map((function(e){return{id:e._id||"",name:e.name&&e.name,cover:"".concat(k.baseURL).concat(e.original),added:e.added,title:e.title,labels:e.labels,alt:e.alt,caption:e.caption}}))||[],available:t.pricing&&t.pricing.length>0?t.pricing[0].stock&&t.pricing[0].stock.available:0,minimum:t.pricing&&t.pricing.length>0?t.pricing[0].stock&&t.pricing[0].stock.minimum:0})||{},e.abrupt("return",a);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"couponDetail",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object.keys(t).length>0&&Object(f.a)({},t,{id:t._id||"",name:t.name&&t.name,cover:{cover:"".concat(k.baseURL).concat(t.cover?t.cover.original&&t.cover.original:""),id:t.cover?t.cover._id:""},code:t.code,minimumOrder:t.minimumOrder,maximumOrder:t.maximumOrder,freeProducts:t.freeProducts||[],orderedProducts:t.orderedProducts&&t.orderedProducts.length>0?t.orderedProducts.map((function(e){return console.log("fuckingOrderProduct",e),Object(f.a)({},e,{id:e.id},e.detail&&Object.keys(e.detail).length>0&&Object(f.a)({},e.detail,{cover:{cover:"".concat(k.baseURL).concat(e.detail.cover?e.detail.cover.original&&e.detail.cover.original:""),id:e.detail.cover?e.detail.cover._id:""},price:parseInt(e.detail.price.offer)>parseInt(e.detail.price.regular)?e.detail.price.offer:e.detail.price.regular}))})):[],freeProductsCount:t.freeProducts&&t.orderedProducts.length,amountType:t.amountType,amount:t.amount,freeDelivery:t.freeDelivery,startDate:t.startDate,endDate:t.endDate,maxUsePerUser:t.maxUsePerUser,actualPrice:t.actualPrice,unit:t.unit,category:t.category,pricing:t.pricing,date:t.date,time:t.time,venue:t.venue,brand:t.brand,tags:t.tags})||{},console.log("fuckingOrderProduct",a),e.abrupt("return",a);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"productDetailById",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object.keys(t).length>0&&Object(f.a)({},t,{id:t._id||t.id||"",name:t.name||"",description:t.description.replace(/<[^>]+>/g,"")||"",regularPrice:t.price&&t.price.regular,offerPrice:t.price&&t.price.offer,url:t.url,unit:t.unit,date:t.date,venue:t.venue,pricing:t.pricing,price:parseInt(t.price.offer)>parseInt(t.price.regular)?t.price.offer:t.price.regular,category:t.category&&t.category.length>0&&t.category.map((function(e){return{id:e._id,name:e.name,cover:"".concat(k.baseURL).concat(e.cover?e.cover.original&&e.cover.original:"")}}))||t.category,brand:t.brand&&Object.keys(t.brand).length>0?{id:t.brand._id,name:t.brand.name,cover:"".concat(k.baseURL).concat(t.brand.cover?t.brand.cover.original&&t.brand.cover.original:"")}:t.brand,primaryCategory:t.primaryCategory&&Object.keys(t.primaryCategory).length>0?{id:t.primaryCategory._id,name:t.primaryCategory.name,cover:"".concat(k.baseURL).concat(t.primaryCategory.cover?t.primaryCategory.cover.original&&t.primaryCategory.cover.original:"")}:t.primaryCategory,tags:t.tags&&t.tags.length>0?t.tags:[],availableStock:t.availableStock,cover:{cover:"".concat(k.baseURL).concat(t.cover?t.cover.original&&t.cover.original:""),id:t.cover?t.cover._id:""},image:t.image&&t.image.length>0&&t.image.map((function(e){return{id:e._id||"",name:e.name&&e.name,cover:"".concat(k.baseURL).concat(e.original),added:e.added,title:e.title,labels:e.labels,alt:e.alt,caption:e.caption}}))||[]})||{},e.abrupt("return",a);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateProduct",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t,!(t&&t.updated&&Object.keys(t.updated).length>0)){e.next=3;break}return e.abrupt("return",Object(f.a)({},t.updated,{id:t.updated._id||t.updated.id||"",name:t.updated.name||"",description:t.updated.description.replace(/<[^>]+>/g,"")||"",regularPrice:t.updated.price&&t.updated.price.regular,offerPrice:t.updated.price&&t.updated.price.offer,url:t.updated.url,availableStock:t.updated.availableStock,minimumStock:t.updated.minimumStock,unit:t.updated.unit,date:t.updated.date,venue:t.updated.venue,brand:t.updated.brand&&Object.keys(t.updated.brand).length>0?{id:t.updated.brand.id,name:t.updated.brand.name}:{},price:parseInt(t.updated.price.offer)>parseInt(t.updated.price.regular)?t.updated.price.offer:t.updated.price.regular,pricing:t.updated.pricing,category:t.updated.category&&t.updated.category.length>0&&t.updated.category.map((function(e){return{id:e._id,name:e.name}}))||t.updated.category,tags:t.updated.tags&&t.updated.tags.length>0?t.updated.tags:[],cover:{cover:"".concat(k.baseURL).concat(t.updated.cover?t.updated.cover.original&&t.updated.cover.original:""),id:t.updated.cover?t.updated.cover._id:""},image:t.updated.image&&t.updated.image.length>0&&t.updated.image.map((function(e){return{id:e._id||"",name:e.name&&e.name,cover:"".concat(k.baseURL).concat(e.original),added:e.added,title:e.title,labels:e.labels,alt:e.alt,caption:e.caption}}))||[],status:"ok"}));case 3:return e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"updatePost",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t,!(t&&t.updated&&t.updated[0])){e.next=4;break}return console.log("dataUpdate",t.updated),e.abrupt("return",Object(f.a)({},t.updated[0],{id:t.updated[0]._id||t.updated[0].id||"",name:t.updated[0].name||"",url:t.updated[0].url,category:t.updated[0].category,tags:t.updated[0].tags&&t.updated[0].tags.length>0?t.updated[0].tags:[],cover:{cover:"".concat(k.baseURL).concat(t.updated[0].cover?t.updated[0].cover.original&&t.updated[0].cover.original:""),id:t.updated[0].cover?t.updated[0].cover._id:""},image:t.updated[0].image&&t.updated[0].image.length>0&&t.updated[0].image.map((function(e){return{id:e._id||"",name:e.name&&e.name,cover:"".concat(k.baseURL).concat(e.original),added:e.added,title:e.title,labels:e.labels,alt:e.alt,caption:e.caption}}))||[],status:"ok"}));case 4:return e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateComponent",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t,!t||!t.updated){e.next=3;break}return e.abrupt("return",Object(f.a)({},t.updated,{status:"ok"}));case 3:return e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCoupon",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t,!t||!t.updated){e.next=3;break}return e.abrupt("return",Object(f.a)({},t.updated,{status:"ok"}));case 3:return e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"uploadProductCSV",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t,e.abrupt("return",a);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"categoryUpdateIcon",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t,!t||!t.updated){e.next=3;break}return e.abrupt("return",Object(f.a)({},t.updated,{status:"ok"}));case 3:return e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"categoryUpdateThumbnail",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t,!t||!t.updated){e.next=3;break}return e.abrupt("return",Object(f.a)({},t.updated,{status:"ok"}));case 3:return e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateImageFromLibrary",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t,!t||!t.updated){e.next=3;break}return e.abrupt("return",Object(f.a)({},t.updated,{status:"ok"}));case 3:return e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateTag",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t,!t||!t.updated){e.next=3;break}return e.abrupt("return",Object(f.a)({},t.updated,{status:"ok"}));case 3:return e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateDealerArea",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t,!t||!t.updated){e.next=3;break}return e.abrupt("return",Object(f.a)({},t.updated,{status:"ok"}));case 3:return e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateDealer",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t,!t||!t.updated){e.next=3;break}return e.abrupt("return",Object(f.a)({},t.updated,{status:"ok"}));case 3:return e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"updatePage",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t,!t||!t.updated){e.next=3;break}return e.abrupt("return",Object(f.a)({},t.updated,{status:"ok"}));case 3:return e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateBrand",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t,!t||!t.updated){e.next=3;break}return e.abrupt("return",Object(f.a)({},t.updated,{status:"ok"}));case 3:return e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateBundle",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t,!(t&&Object.keys(t).length>0)){e.next=3;break}return e.abrupt("return",Object(f.a)({},t,{status:"ok"}));case 3:return e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCategory",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t,!t||!t.updated){e.next=3;break}return e.abrupt("return",Object(f.a)({},t.updated,{status:"ok"}));case 3:return e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCustomer",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t,!t||!t.updated){e.next=3;break}return e.abrupt("return",Object(f.a)({},t.updated,{status:"ok"}));case 3:return e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateStaff",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t,!(t&&Object.keys(t).length>0)){e.next=3;break}return e.abrupt("return",Object(f.a)({},a,{status:"ok"}));case 3:return e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateRegion",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t,!t||!t.updated){e.next=3;break}return e.abrupt("return",Object(f.a)({},t.updated,{status:"ok"}));case 3:return e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteProduct",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t,!t||!t.success){e.next=3;break}return e.abrupt("return",{status:"ok"});case 3:return e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteExpense",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t,!t||!t.success){e.next=3;break}return e.abrupt("return",{status:"ok"});case 3:return e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"postCategoryDelete",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t,!t||!t.success){e.next=3;break}return e.abrupt("return",{status:"ok"});case 3:return e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"deletePost",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t,!t||!t.success){e.next=3;break}return e.abrupt("return",{status:"ok"});case 3:return e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteBundle",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t,!t||!t.success){e.next=3;break}return e.abrupt("return",{status:"ok"});case 3:return e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteCoupon",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t,!t||!t.success){e.next=3;break}return e.abrupt("return",{status:"ok"});case 3:return e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"pageDetail",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((a=t)&&Object.keys(a).length>0)){e.next=3;break}return e.abrupt("return",Object(f.a)({},a,{id:a._id,cover:{cover:"".concat(k.baseURL).concat(a.cover?a.cover.original&&a.cover.original:""),id:a.cover?a.cover._id:""}}));case 3:return e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateOrderStatus",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t,!t||!t.success){e.next=3;break}return e.abrupt("return",Object(f.a)({},t,{status:"ok"}));case 3:return e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"postUpdateTag",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t,!t||!t.updated){e.next=3;break}return e.abrupt("return",Object(f.a)({},t.updated,{name:t.updated.name&&t.updated.name,description:t.updated.description&&t.updated.description,status:"ok"}));case 3:return e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateExpense",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t,!(t&&Object.keys(a).length>0)){e.next=3;break}return e.abrupt("return",Object(f.a)({},t,{status:"ok"}));case 3:return e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteImageFromLibrary",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t,!t||!t.success){e.next=3;break}return e.abrupt("return",{status:"ok"});case 3:return e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"deletePage",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t,!t||!t.msg){e.next=3;break}return e.abrupt("return",{status:"ok"});case 3:return e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"addTag",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t,!t||!t[0]){e.next=3;break}return e.abrupt("return",Object(f.a)({},t[0],{status:"ok"}));case 3:return e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"addExpense",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t,!t||!t.inserted){e.next=3;break}return e.abrupt("return",Object(f.a)({},t.inserted[0],{status:"ok"}));case 3:return e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"addStaff",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t,!(t&&t.inserted&&t.inserted)){e.next=3;break}return e.abrupt("return",Object(f.a)({},t.inserted[0],{status:"ok"}));case 3:return e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"generateSalaryReport",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t,!(t&&t&&t[0])){e.next=3;break}return e.abrupt("return",Object(f.a)({},t[0],{status:"ok"}));case 3:return e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getSalaryReport",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data||[],n=a.length>0&&a.map((function(e){return Object(f.a)({},e,{id:e._id||""})})),e.abrupt("return",n);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getSalaryReportDetail",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((a=t||[])&&Object.keys(a).length>0)){e.next=5;break}return e.abrupt("return",Object(f.a)({},a,{id:a._id||"",staff:a.staff&&a.staff.length>0?a.staff.map((function(e){return Object(f.a)({},e,{id:e._id||"",key:e._id||"",firstName:e.firstName||"",lastName:e.lastName||"",name:e.firstName+" "+e.lastName,country:e.country||"",city:e.city||"",email:e.email||"",phone:e.phone||"",address:e.address||""})})):[]}));case 5:return e.abrupt("return",{});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"staffDetail",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((a=t)&&Object.keys(a).length>0)){e.next=3;break}return e.abrupt("return",Object(f.a)({},a,{id:a._id||"",key:a._id||"",firstName:a.firstName||"",lastName:a.lastName||"",name:a.firstName+" "+a.lastName,country:a.country||"",city:a.city||"",email:a.email||"",phone:a.phone||"",address:a.address||""}));case 3:return e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"expenseDetail",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((a=t)&&Object.keys(a).length>0)){e.next=3;break}return e.abrupt("return",Object(f.a)({},a,{id:a._id||"",key:a._id||""}));case 3:return e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"addDealerArea",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t,!t||!t[0]){e.next=3;break}return e.abrupt("return",Object(f.a)({},t[0],{status:"ok"}));case 3:return e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"postAddCategory",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t,!t||!t[0]){e.next=3;break}return e.abrupt("return",Object(f.a)({},t[0],{cover:t[0].cover?"".concat(k.baseURL).concat(t[0].cover?t[0].cover.thumbnail:""):"",status:"ok"}));case 3:return e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"postCategoryUpdate",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t,!t||!t.updated){e.next=3;break}return e.abrupt("return",Object(f.a)({},t.updated,{cover:t.updated.cover?"".concat(k.baseURL).concat(t.updated.cover?t.updated.cover.thumbnail:""):"",status:"ok"}));case 3:return e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"dealerAreaList",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(a=t||[]).length>0&&a.map((function(e){return Object(f.a)({},e,{id:e._id||"",key:e._id||"",name:e.name&&e.name})})),e.abrupt("return",n);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"expenseList",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data||[],console.log("expenseList",a),n=a.length>0&&a.map((function(e){return Object(f.a)({},e,{id:e._id||"",key:e._id||"",topic:e.topic&&e.topic,amount:e.amount&&e.amount})})),e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"addDealer",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t,!t||!t.inserted){e.next=3;break}return e.abrupt("return",Object(f.a)({},t.inserted[0],{status:"ok"}));case 3:return e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"addCategory",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t,!t||!t.inserted){e.next=3;break}return e.abrupt("return",Object(f.a)({},t.inserted[0],{status:"ok",cover:t.inserted[0].cover?"".concat(k.baseURL).concat(t.inserted[0].cover?t.inserted[0].cover.thumbnail:""):""}));case 3:return e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"postAddCategory",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t,!t||!t.inserted){e.next=3;break}return e.abrupt("return",Object(f.a)({},t.inserted[0],{status:"ok"}));case 3:return e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"addProduct",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t,!t||!t.inserted){e.next=3;break}return e.abrupt("return",Object(f.a)({},t.inserted[0],{status:"ok",cover:t.inserted[0].cover?"".concat(k.baseURL).concat(t.inserted[0].cover?t.inserted[0].cover.thumbnail:""):""}));case 3:return e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"addPost",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t,!t||!t.inserted){e.next=3;break}return e.abrupt("return",Object(f.a)({},t.inserted[0],{status:"ok",cover:t.inserted[0].cover?"".concat(k.baseURL).concat(t.inserted[0].cover?t.inserted[0].cover.thumbnail:""):""}));case 3:return e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"addOrderNote",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t,!t||!t[0]){e.next=3;break}return e.abrupt("return",Object(f.a)({},t[0],{status:"ok"}));case 3:return e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateOrderNote",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t,!t||!t.updated){e.next=3;break}return e.abrupt("return",Object(f.a)({},t.updated,{status:"ok"}));case 3:return e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateAdminRole",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t,!t||!t.updated){e.next=3;break}return e.abrupt("return",Object(f.a)({},t.updated,{status:"ok"}));case 3:return e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"postAddTag",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t,!t||!t.inserted){e.next=3;break}return e.abrupt("return",Object(f.a)({},t.inserted[0],{status:"ok"}));case 3:return e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"addOrder",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t,!t||!t.inserted){e.next=3;break}return e.abrupt("return",Object(f.a)({},t.inserted[0],{status:"ok"}));case 3:return e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getOrderNote",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t,e.abrupt("return",a);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"addTheme",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t,!t||!t.success){e.next=3;break}return e.abrupt("return",Object(f.a)({},t.inserted[0],{status:"ok"}));case 3:return e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"postDeleteTag",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t,!t||!t.success){e.next=3;break}return e.abrupt("return",{status:"ok"});case 3:return e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteSalaryReport",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t,!t||!t.success){e.next=3;break}return e.abrupt("return",{status:"ok"});case 3:return e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteOrderNote",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t,!t||!t.success){e.next=3;break}return e.abrupt("return",{status:"ok"});case 3:return e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"addPage",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t,!t||!t[0]){e.next=3;break}return e.abrupt("return",Object(f.a)({},t[0],{status:"ok"}));case 3:return e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"addBrand",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t,!t||!t.inserted){e.next=3;break}return e.abrupt("return",Object(f.a)({},t.inserted[0],{status:"ok",cover:t.inserted[0].cover?"".concat(k.baseURL).concat(t.inserted[0].cover?t.inserted[0].cover.thumbnail:""):""}));case 3:return e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"addComponent",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t,!t||!t.inserted){e.next=3;break}return e.abrupt("return",Object(f.a)({},t.inserted[0],{status:"ok"}));case 3:return e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"addCustomer",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t,!t||!t.inserted){e.next=3;break}return e.abrupt("return",Object(f.a)({},t.inserted[0],{status:"ok"}));case 3:return e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"addRegion",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t,!t||!t.inserted){e.next=3;break}return e.abrupt("return",Object(f.a)({},t.inserted[0],{status:"ok"}));case 3:return e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteTag",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t,!t||!t.success){e.next=3;break}return e.abrupt("return",{status:"ok"});case 3:return e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteDealerArea",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t,!t||!t.success){e.next=3;break}return e.abrupt("return",{status:"ok"});case 3:return e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteDealer",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t,!t||!t.success){e.next=3;break}return e.abrupt("return",{status:"ok"});case 3:return e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"logout",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t,!t||!t.success){e.next=3;break}return e.abrupt("return",{status:"ok"});case 3:return e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"activeTheme",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t,!t||!t.success){e.next=3;break}return e.abrupt("return",{status:"ok"});case 3:return e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"deletetheme",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t,!t||!t.success){e.next=3;break}return e.abrupt("return",{status:"ok"});case 3:return e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteCustomer",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t,!t||!t.success){e.next=3;break}return e.abrupt("return",{status:"ok"});case 3:return e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteStaff",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t,!t||!t.success){e.next=3;break}return e.abrupt("return",{status:"ok"});case 3:return e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteComponent",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t,!t||!t.success){e.next=3;break}return e.abrupt("return",{status:"ok"});case 3:return e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteBrand",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t,!t||!t.success){e.next=3;break}return e.abrupt("return",{status:"ok"});case 3:return e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteCategory",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t,!t||!t.success){e.next=3;break}return e.abrupt("return",{status:"ok"});case 3:return e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteRegion",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t,!t||!t.success){e.next=3;break}return e.abrupt("return",{status:"ok"});case 3:return e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"siteSettings",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t,!t.data){e.next=3;break}return e.abrupt("return",Object(f.a)({},t.data));case 3:return e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getSiteSEO",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t,!t.data){e.next=3;break}return e.abrupt("return",Object(f.a)({},t.data));case 3:return e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getAdminCredential",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t,!t.data){e.next=3;break}return e.abrupt("return",Object(f.a)({},t.data));case 3:return e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateSiteSettings",value:function(){var e=Object(b.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.updated){e.next=2;break}return e.abrupt("return",{status:"ok"});case 2:return e.abrupt("return",t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateSiteSEO",value:function(){var e=Object(b.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.updated){e.next=2;break}return e.abrupt("return",Object(f.a)({},t.updated,{status:"ok"}));case 2:return e.abrupt("return",t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateAdminCredential",value:function(){var e=Object(b.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t&&Object.keys(t).length>0)){e.next=2;break}return e.abrupt("return",Object(f.a)({},t,{status:"ok"}));case 2:return e.abrupt("return",t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"adminUpdatePassword",value:function(){var e=Object(b.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.updated){e.next=2;break}return e.abrupt("return",Object(f.a)({},t.updated,{status:"ok"}));case 2:return e.abrupt("return",t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateInvoiceSettings",value:function(){var e=Object(b.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.updated){e.next=2;break}return e.abrupt("return",{status:"ok"});case 2:return e.abrupt("return",t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"invoiceSettingsDetail",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t,!t.data){e.next=3;break}return e.abrupt("return",Object(f.a)({},t.data));case 3:return e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"categoryDetail",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(f.a)({},t,{id:t.id||t._id||"",name:t.name&&t.name,description:t.description&&t.description,productCount:t.productCount||0,icon:t.icon?"".concat(k.baseURL).concat(t.icon):"",thumbnail:t.thumbnail?"".concat(k.baseURL).concat(t.thumbnail):null,type:t.subCategory.length>0&&t.subCategory[0]&&t.subCategory[0].name?"Top category":"Child category",url:t.url||"",subCategory:t.subCategory.length>0&&t.subCategory[0]&&t.subCategory[0].name?t.subCategory.map((function(e){return{id:e._id||"",name:e.name&&e.name,description:e.description&&e.description,cover:e.cover?"".concat(k.baseURL).concat(e.cover.medium):""}})):[],cover:{cover:"".concat(k.baseURL).concat(t.cover?t.cover.original&&t.cover.original:""),id:t.cover?t.cover._id:""},image:t.image&&t.image.length>0&&t.image.map((function(e){return{id:e._id||"",name:e.name&&e.name,cover:"".concat(k.baseURL).concat(e.medium),added:e.added,title:e.title,labels:e.labels,alt:e.alt,caption:e.caption}}))||[]}),e.abrupt("return",a);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"createOrder",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(f.a)({},t),e.abrupt("return",a);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"adminRoleRegister",value:function(){var e=Object(b.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t&&t.length>0)){e.next=4;break}return e.abrupt("return",Object(f.a)({status:"ok"},t[0]));case 4:return e.abrupt("return",{});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"adminList",value:function(){var e=Object(b.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"adminDetail",value:function(){var e=Object(b.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"orderDetail",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=t.order||!1)){e.next=5;break}return e.abrupt("return",Object(f.a)({},a,{id:a.id||a._id,shippingAddress:a.shippingAddress,name:a.shippingAddress.firstName+" "+a.shippingAddress.lastName,country:a.shippingAddress.country,city:a.shippingAddress.city,address:a.shippingAddress.address1,phone:a.shippingAddress.phone,email:a.shippingAddress.email,shortCode:a.shortCode||"",status:"string"===typeof a.status?a.status:a.status&&Object.keys(a.status).length>0?a.status.name:"pending",total:a.totalPrice,deliveryCharge:a.totalCharge-a.totalPrice,deliveryRegion:a.deliveryRegion,deliveryName:a.deliveryRegion&&a.deliveryRegion.name,deliveryPickUpLocation:a.deliveryRegion&&a.deliveryRegion.pickUpLocation,deliveryCountryName:a.deliveryRegion&&a.deliveryRegion.countryName,products:a.products&&a.products.length>0?a.products.map((function(e){return Object(f.a)({},e,{id:e._id||"",name:e.name&&e.name,description:e.description&&e.description,cover:"".concat(k.baseURL).concat(e.cover&&e.cover.thumbnail||""),regularPrice:e.price&&e.price.regular,offerPrice:e.price&&e.price.offer,url:e.url,unit:e.unit,category:e.category,pricing:e.pricing,date:e.date,time:e.time,venue:e.venue,brand:e.brand,tags:e.tags,price:e.price,available:e.pricing&&e.pricing.length>0?e.pricing[0].stock&&e.pricing[0].stock.available:0,minimum:e.pricing&&e.pricing.length>0?e.pricing[0].stock&&e.pricing[0].stock.minimum:0})})):[],date_created:a.added,paymentMethod:a.payment.paymentMethod,paymentStatus:a.payment.status,payment:a.payment,customerId:a.customer?a.customer._id:""}));case 5:return e.abrupt("return",{});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"signup",value:function(){var e=Object(b.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{status:"ok"});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"signin",value:function(){var e=Object(b.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.msg){e.next=2;break}return e.abrupt("return",{status:"ok"});case 2:return e.abrupt("return",!1);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"login",value:function(){var e=Object(b.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.msg){e.next=2;break}return e.abrupt("return",{status:"ok"});case 2:return e.abrupt("return",!1);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"addImageToLibrary",value:function(){var e=Object(b.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getCurrentCustomerData",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(f.a)({},t),e.abrupt("return",a);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getAutoEmailConfiguration",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(f.a)({},t),e.abrupt("return",a);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getAutoSMSConfiguration",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(f.a)({},t),e.abrupt("return",a);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getEmailDetails",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(f.a)({},t),e.abrupt("return",a);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getSMSDetails",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(f.a)({},t),e.abrupt("return",a);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"currentCustomerData",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(f.a)({},t),e.abrupt("return",a);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentCustomerData",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={status:"ok"},e.abrupt("return",a);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"changePassword",value:function(){var e=Object(b.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.success){e.next=2;break}return e.abrupt("return",{status:"ok"});case 2:return e.abrupt("return",t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"configureAutoEmail",value:function(){var e=Object(b.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.success){e.next=2;break}return e.abrupt("return",{status:"ok"});case 2:return e.abrupt("return",t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"configureAutoSMS",value:function(){var e=Object(b.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.success){e.next=2;break}return e.abrupt("return",{status:"ok"});case 2:return e.abrupt("return",t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getCurrentUserOrders",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a,n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data||[],n=t.page.next,r={data:r=a.length>0&&a.map((function(e){return Object(f.a)({},e,{id:e.id||e._id,billingAddress:e.billingAddress,status:e.status,total:e.totalPrice,products:e.products,date_created:e.date,paymentMethod:e.payment.paymentMethod,customerId:e.customer._id})}))||[],isNext:n},e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"orderList",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data||[],console.log("orderListDAta",a),n=a.length>0&&a.map((function(e){return Object(f.a)({},e,{id:e.id||e._id,shippingAddress:e.billingAddress,shortCode:e.shortCode||"",name:e.customer?e.customer.firstName+" "+e.customer.lastName:e.shippingAddress&&e.shippingAddress.firstName+e.shippingAddress.lastName,country:e.shippingAddress&&e.shippingAddress.country&&e.shippingAddress.country,city:e.shippingAddress&&e.shippingAddress.city&&e.shippingAddress.city,status:"string"===typeof e.status?e.status:e.status&&Object.keys(e.status).length>0?e.status.name:"pending",total:e.totalPrice,products:e.products,date_created:e.added,paymentMethod:e.payment&&e.payment.paymentMethod,paymentStatus:e.payment&&e.payment.status,payment:e.payment,customerId:e.customer?e.customer._id:"",deliveryName:e.deliveryRegion&&Object.keys(e.deliveryRegion).length>0?"".concat(e.deliveryRegion.name):""})}))||[],e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"dealerOrderList",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data||[],console.log("orderListDAta",a),n=a.length>0&&a.map((function(e){return Object(f.a)({},e,{id:e.id||e._id,shippingAddress:e.billingAddress,shortCode:e.shortCode||"",name:e.shippingAddress&&e.shippingAddress.firstName&&e.shippingAddress.firstName+" "+e.shippingAddress&&e.shippingAddress.lastName&&e.shippingAddress.lastName,country:e.shippingAddress&&e.shippingAddress.country&&e.shippingAddress.country,city:e.shippingAddress&&e.shippingAddress.city&&e.shippingAddress.city,status:"string"===typeof e.status?e.status:e.status&&Object.keys(e.status).length>0?e.status.name:"pending",total:e.totalPrice,products:e.products,date_created:e.added,paymentMethod:e.payment&&e.payment.paymentMethod,paymentStatus:e.payment&&e.payment.status,payment:e.payment,customerId:e.customer?e.customer._id:""})}))||[],e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"orderListForCustomer",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data||[],n=a.length>0&&a.map((function(e){return{id:e.id||e._id,shortCode:e.shortCode||"",shippingAddress:e.billingAddress,status:"string"===typeof e.status?e.status:e.status&&Object.keys(e.status).length>0?e.status.name:"pending",name:e.customer?e.customer.firstName+" "+e.customer.lastName:e.shippingAddress&&e.shippingAddress.firstName+e.shippingAddress.lastName,country:e.shippingAddress&&e.shippingAddress.country&&e.shippingAddress.country,city:e.shippingAddress&&e.shippingAddress.city&&e.shippingAddress.city,total:e.totalPrice,products:e.products,date_created:e.added,paymentMethod:e.payment&&e.payment.paymentMethod,paymentStatus:e.payment&&e.payment.status,payment:e.payment,customerId:e.customer?e.customer._id:"",deliveryName:e.deliveryRegion&&Object.keys(e.deliveryRegion).length>0?"".concat(e.deliveryRegion.name):""}}))||[],e.abrupt("return",n);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"currentUserOrders",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=w[k.server].currentUserOrders,n=t.length>0&&t.map((function(e){return Object(f.a)({},a,{id:e.id,status:e.status,total:e.total,line_items:e.line_items,date_created:e.date_created})}))||[],e.abrupt("return",n);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"payment",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(!(a=t.items).length>0)){e.next=3;break}return e.abrupt("return",a);case 3:return n=a.map((function(e){return{name:e.name||"",number:e.text||""}})),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"welcome",value:function(){var e=Object(b.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{text:t.text});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"logo",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.image&&t.image.length>0?"".concat(k.baseURL).concat(t.image[0].original):"",e.abrupt("return",{src:a,target:t.target});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"hotline",value:function(){var e=Object(b.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{text:t.text});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"navLinks",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(!(a=t.items).length>0)){e.next=3;break}return e.abrupt("return",[]);case 3:return n=a.map((function(e){return{text:e.name||e.text,target:e.target}})),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"slider",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(!(a=t.items).length>0)){e.next=3;break}return e.abrupt("return",a);case 3:return n=a.map((function(e){return{target:e.target,src:"".concat(k.baseURL).concat(e.image[0].medium)}})),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"sliderRight",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(!(a=t.items).length>0)){e.next=3;break}return e.abrupt("return",a);case 3:return n=a.map((function(e){return{target:e.target,src:"".concat(k.baseURL).concat(e.image[0].medium)}})),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"address",value:function(){var e=Object(b.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{name:t.name,text:t.text});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"Links",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(!(a=t.items).length>0)){e.next=3;break}return e.abrupt("return",a);case 3:return n=a.map((function(e){return{target:e.target,name:e.name||e.text}})),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"Account",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(!(a=t.items).length>0)){e.next=3;break}return e.abrupt("return",a);case 3:return n=a.map((function(e){return{target:e.target,name:e.name||e.text}})),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"About Us",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(!(a=t.items).length>0)){e.next=3;break}return e.abrupt("return",a);case 3:return n=a.map((function(e){return{target:e.target,name:e.name||e.text}})),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getTotalUserCount",value:function(){var e=Object(b.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"addCoupon",value:function(){var e=Object(b.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||!t[0]){e.next=2;break}return e.abrupt("return",Object(f.a)({status:"ok"},t[0],{cover:t[0].cover?"".concat(k.baseURL).concat(t[0].cover?t[0].cover.thumbnail:""):""}));case 2:return e.abrupt("return",{});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"addBundle",value:function(){var e=Object(b.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||!t[0]){e.next=2;break}return e.abrupt("return",Object(f.a)({status:"ok"},t[0],{price:parseInt(t[0].price.offer)>parseInt(t[0].price.regular)?t[0].price.offer:t[0].price.regular,cover:t[0].cover?"".concat(k.baseURL).concat(t[0].cover?t[0].cover.thumbnail:""):""}));case 2:return e.abrupt("return",{});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}()),M=function(){function e(){Object(N.a)(this,e),this.options={}}return Object(x.a)(e,[{key:"request",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a,n,r,i,o,c,l,s,u,m=arguments;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=function(e){return e&&"get"===r.method?e.includes("?")?e+"&limit=limitNumber":e+"?limit=limitNumber":e},i=function(e){if("get"===r.method){var t,a={};return(null===e||void 0===e||null===(t=e.params)||void 0===t?void 0:t.limitNumber)||(a.limitNumber=1e11),console.log("urlparams",e),Object(f.a)({},e&&Object(f.a)({},e),{params:Object(f.a)({},e&&e.params&&Object(f.a)({},e.params),{},a)})}return e},a=m.length>1&&void 0!==m[1]?m[1]:"json",n=m.length>2&&void 0!==m[2]?m[2]:{},r=S[k.server][t],this.options=Object(f.a)({},this.options,{method:r.method,credentials:"include",headers:new Headers(Object(f.a)({},"json"===a&&{"Content-Type":"application/json"},{},n.headers&&Object(f.a)({},n.headers)))},"json"===a?{body:"get"!==r.method?JSON.stringify(n.body):null}:{body:"get"!==r.method?n.body:null}),c=L(o(r.url),i(n.urlOptions)),console.log("myUrl",c),k.server,e.prev=9,e.next=12,fetch(k.baseURL+c,this.options);case 12:if(!((l=e.sent).status>=200&&l.status<300)){e.next=25;break}return e.next=16,l.json();case 16:if("error"!==(s=e.sent).status){e.next=19;break}throw s.error;case 19:return e.next=21,P[t||""](s);case 21:return u=e.sent,e.abrupt("return",u);case 25:return e.next=27,l.json();case 27:throw e.sent;case 29:e.next=34;break;case 31:throw e.prev=31,e.t0=e.catch(9),e.t0;case 34:case"end":return e.stop()}}),e,this,[[9,31]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),R=new M,F=function(e,t){switch(t.type){case"FETCH_INIT":return Object(f.a)({},e,{isLoading:!0,error:{isError:!1,error:{}},done:!1});case"FETCH_SUCCESS":return Object(f.a)({},e,{isLoading:!1,data:t.payload,done:!0});case"FETCH_FAILURE":return Object(f.a)({},e,{isLoading:!1,error:{isError:!0,error:t.payload,done:!0}});default:throw new Error}},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,r=arguments.length>4?arguments[4]:void 0,i={isLoading:!1,error:{isError:!1,error:{}},data:t,done:!1},c=Object(o.useReducer)(F,i),l=Object(g.a)(c,2),s=l[0],u=l[1];return Object(o.useEffect)((function(){var e=!1;return function(){var t=Object(b.a)(p.a.mark((function t(){var i;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u({type:"FETCH_INIT"}),t.prev=1,t.next=4,R.request(a,r,n);case 4:i=t.sent,e||u({type:"FETCH_SUCCESS",payload:i}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),e||u({type:"FETCH_FAILURE",payload:t.t0});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(){return t.apply(this,arguments)}}()(),function(){e=!0}}),e),s},B=new M,V=function(e,t){switch(t.type){case"FETCH_INIT":return Object(f.a)({},e,{isLoading:!0,error:{isError:!1,error:{}},done:!1});case"FETCH_SUCCESS":return Object(f.a)({},e,{isLoading:!1,data:t.payload,done:!0});case"FETCH_FAILURE":return Object(f.a)({},e,{isLoading:!1,error:{isError:!0,error:t.payload},done:!0});default:throw new Error}},U=function(e,t,a){var n={isLoading:!1,error:{isError:!1,error:{}},data:e,done:!1},r=Object(o.useReducer)(V,n),i=Object(g.a)(r,2),c=i[0],l=i[1];return[c,function(){var n=Object(b.a)(p.a.mark((function n(r){var i;return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return l({type:"FETCH_INIT"}),n.prev=1,n.next=4,B.request(t,a||"json",r);case 4:return i=n.sent,l({type:"FETCH_SUCCESS",payload:i}),n.abrupt("return",i);case 9:return n.prev=9,n.t0=n.catch(1),l({type:"FETCH_FAILURE",payload:n.t0}),n.abrupt("return",e);case 13:case"end":return n.stop()}}),n,null,[[1,9]])})));return function(e){return n.apply(this,arguments)}}()]},G=(new M,new M),z=function(e,t,a){var n=Object(m.e)(),r=Object(o.useState)(1),i=Object(g.a)(r,2),c=i[0],l=i[1],s=Object(o.useState)(11),u=Object(g.a)(s,2),d=u[0],h=u[1],E=Object(o.useCallback)(function(){var a=Object(b.a)(p.a.mark((function a(n){var r,i,o,c,l,s=arguments;return p.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c=s.length>1&&void 0!==s[1]?s[1]:1,l=s.length>2&&void 0!==s[2]?s[2]:11,console.log({limit:l}),t=Object(f.a)({},t,{urlOptions:Object(f.a)({},null===(r=t)||void 0===r?void 0:r.urlOptions,{params:Object(f.a)({},null===(i=t)||void 0===i||null===(o=i.urlOptions)||void 0===o?void 0:o.params,{pageNumber:c,limitNumber:l})})}),a.abrupt("return",G.request(e,"json",t));case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),[]),v=Object(m.d)([a||e,c,d],E,{retry:0,refetchOnWindowFocus:!1}),y=v.isLoading,O=v.isError,j=v.data,C=v.error,N=v.isSuccess,x=v.isFetching,k=v.status,S=v.resolvedData,w=v.latestData,T=v.isFetchingMore;return Object(o.useEffect)((function(){(null===w||void 0===w?void 0:w.next)&&n.prefetchQuery([a||e,c],E)}),[w,E,c]),{isLoading:y,isError:O,data:j,error:C,isSuccess:N,isFetching:x,status:k,resolvedData:S,latestData:w,setPage:l,setLimit:h,isFetchingMore:T,limit:d}},H=y.a().shape({username:y.c().label("Username").required("Username is required").min(3,"Username must have at least 3 characters"),password:y.c().label("Password").required("Password is required")}),W={username:"",password:""},q=function(e){Object(h.a)(e);var t=U({},"login"),a=Object(g.a)(t,2),n=a[0],r=a[1],i=function(){var e=Object(b.a)(p.a.mark((function e(t,a){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r({body:{username:t.username,password:t.password}});case 2:e.sent,a.setSubmitting(!1);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),o=function(e,t){return!(e.username&&e.password&&t)};return c.a.createElement(v.a,{onSubmit:function(e,t){return i(e,t)},validationSchema:H,validateOnBlur:!1,enableReinitialize:!0,initialValues:Object(f.a)({},W)},(function(e){var t=e.handleChange,a=e.values,r=e.handleSubmit,i=e.errors,l=e.isValid,s=e.isSubmitting,u=e.touched,m=(e.handleBlur,e.setFieldTouched);e.handleReset;return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{style:{maxWidth:"400px",margin:"20px"}},c.a.createElement(C,{label:"Username",value:a.username,name:"username",isError:u.username&&i.username||!s&&n.error.error.username,errorString:u.username&&i.username||!s&&n.error.error.username,onChange:function(e){t(e),m("username")}}),c.a.createElement(C,{label:"Password",value:a.password,name:"password",isError:u.password&&i.password||!s&&n.error.error.password,errorString:u.password&&i.password||!s&&n.error.error.password,onChange:function(e){t(e),m("password")}}),c.a.createElement(E.a,{type:"primary",onClick:function(e){return r(e)},disabled:o(a,l),loading:s,style:{}},"Login")))}))},Y=a(31),K=a(885),J=a(146),Q=a(906),X=a(907),Z=a(908),$=a(909),ee=a(910),te=a(911),ae=a(912),ne=a(913),re=a(914),ie=a(915),oe=a(916),ce=a(917),le=a(918),se=a(919),ue=a(920),me=a(921),de=a(922),pe=a(923),be=a(924),ge=a(21),fe=a(7),he=function(e){return function(t){return function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e,n=arguments.length>1?arguments[1]:void 0,r=t[n.type];return r?r(a,n):a}}},Ee=a(440),ve=a.n(Ee),ye=function(e,t,a){var n={method:t,headers:{Accept:"application/json","Content-Type":"application/json"},body:"GET"!==t?JSON.stringify(a):null};return ve()(e,n).then((function(e){return function(e,t){return new Promise((function(a,n){e>=200&&e<300?t.then((function(e){return a(e)})):t.then((function(t){return n({status:e,response:t})}))}))}(e.status,e.json())}))};var Oe=he([])(Object(ge.a)({},"session/SAVE_ROLES",(function(e,t){var a=t.payload;return Object(fe.a)(a)}))),je=function(e){return{type:"session/SAVE_ROLES",payload:e}},Ce=Oe,Ne=(K.a.Header,K.a.Content,K.a.Footer,K.a.Sider),xe=J.a.SubMenu,ke={saveRoles:n.saveRoles},Se=Object(u.b)((function(e){return{roles:e.globalState}}),ke)((function(e){var t=e.roles,a=Object(o.useState)(!1),n=Object(g.a)(a,2),r=n[0],i=n[1];return c.a.createElement(Ne,{width:260,className:"siderForAlphaAdmin",style:{boxShadow:"7px 0 60px rgba(0,0,0,.05)",border:"none",overflowY:"auto",overflowX:"hidden",height:"calc(100vh - 100px)",position:"fixed",top:"60px"},collapsible:!0,collapsed:r,onCollapse:function(e){i(e)},theme:"light"},c.a.createElement(J.a,{selectable:!0,mode:"inline"},D("analytics",t)&&c.a.createElement(J.a.Item,{key:"1",icon:c.a.createElement(Q.a,null)},c.a.createElement(Y.b,{to:"/admin"},"Dashboard")),D("getCatalogue",t)&&c.a.createElement(xe,{key:"sub3",icon:c.a.createElement(X.a,null),title:"Product"},c.a.createElement(J.a.Item,{icon:c.a.createElement(Z.a,null),key:"6"},c.a.createElement(Y.b,{to:"/admin/product"},"Products")),c.a.createElement(J.a.Item,{key:"9",icon:c.a.createElement($.a,null)},c.a.createElement(Y.b,{to:"/admin/tag"},"Tags")),c.a.createElement(J.a.Item,{key:"2",icon:c.a.createElement(ee.a,null)},c.a.createElement(Y.b,{to:"/admin/category"},"Categories")),c.a.createElement(J.a.Item,{key:"5",icon:c.a.createElement(te.a,null)},c.a.createElement(Y.b,{to:"/admin/brand"},"Brand"))),c.a.createElement(J.a.Item,{key:"1011",icon:c.a.createElement(ae.a,null)},c.a.createElement(Y.b,{to:"/admin/coupon"},"Coupon")),D("getDelivery",t)&&c.a.createElement(J.a.Item,{key:"10",icon:c.a.createElement(ne.a,null)},c.a.createElement(Y.b,{to:"/admin/delivery"},"Delivery")),D("getOrder",t)&&c.a.createElement(xe,{key:"sub4",icon:c.a.createElement(re.a,null),title:"Orders"},c.a.createElement(J.a.Item,{key:"11"},c.a.createElement(Y.b,{to:"/admin/order"},"List Orders")),c.a.createElement(J.a.Item,{key:"11222"},c.a.createElement(Y.b,{to:"/admin/order/overview"},"Order Analytics")),c.a.createElement(J.a.Item,{key:"12"},c.a.createElement(Y.b,{to:"/admin/order/new"},"Add Order"))),c.a.createElement(J.a.Item,{key:"13",icon:c.a.createElement(ie.a,null)},c.a.createElement(Y.b,{to:"/admin/customer"},"Customer")),c.a.createElement(J.a.Item,{key:"1888",icon:c.a.createElement(oe.a,null)},c.a.createElement(Y.b,{to:"/admin/email"},"Email")),c.a.createElement(J.a.Item,{key:"199",icon:c.a.createElement(ce.a,null)},c.a.createElement(Y.b,{to:"/admin/sms"},"SMS")),D("getDealer",t)&&c.a.createElement(xe,{key:"sub6",icon:c.a.createElement(le.a,null),title:"Pages"},c.a.createElement(J.a.Item,{key:"18",icon:c.a.createElement(se.a,null)},c.a.createElement(Y.b,{to:"/admin/page"}," List Pages")),c.a.createElement(J.a.Item,{icon:c.a.createElement(ue.a,null),key:"17"},c.a.createElement(Y.b,{to:"/admin/page/new"}," Add new Page"))),c.a.createElement(xe,{key:"sub7",icon:c.a.createElement(me.a,null),title:"Settings"},c.a.createElement(J.a.Item,{icon:c.a.createElement(ie.a,null),key:"19"},c.a.createElement(Y.b,{to:"/admin/settings/siteInfo"},"Site information")),c.a.createElement(J.a.Item,{icon:c.a.createElement(de.a,null),key:"19999"},c.a.createElement(Y.b,{to:"/admin/settings/admins"},"Admins")),c.a.createElement(J.a.Item,{key:"23",icon:c.a.createElement(pe.a,null)},c.a.createElement(Y.b,{to:"/admin/settings/components"},"Components")),c.a.createElement(J.a.Item,{icon:c.a.createElement(be.a,null),key:"20"},c.a.createElement(Y.b,{to:"/admin/settings/themes"},"Themes")))))})),we=a(192),Te=function(e){var t=e.title,a=void 0===t?"No Data found":t,n=e.height,r=void 0===n?300:n;return c.a.createElement("div",{style:{height:r,display:"flex",justifyContent:"center",alignItems:"center"}},c.a.createElement(we.a,{description:a,image:we.a.PRESENTED_IMAGE_SIMPLE}))},_e=a(15),De=a(925),Ie=a(926),Le=a(927),Pe=a(928),Me=a(903),Re=a(442),Fe=a(274),Ae=a(904),Be=K.a.Header,Ve=function(e){var t=Object(_e.g)(),a=U({},"getAllNotification"),n=Object(g.a)(a,2),r=n[0],i=n[1],l=U({},"markNotificationAsRead"),s=Object(g.a)(l,2),u=(s[0],s[1]),m=U({},"markAllNotificationAsRead"),d=Object(g.a)(m,2),f=(d[0],d[1]),h=Object(o.useState)({}),E=Object(g.a)(h,2),v=E[0],y=E[1];Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i({urlOptions:{params:{sortItem:"added",sortOrderValue:"-1",limitNumber:1e5}}});case 2:(t=e.sent)&&y(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var O=function(){var e=Object(b.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u({body:{id:[t]}});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f({});case 2:(t=e.sent)&&"ok"===t.status&&(a="Notification cleared!",Me.a.success({message:a||"Product Deleted",description:"",icon:c.a.createElement(De.a,{style:{color:"rgba(0, 128, 0, 0.493)"}})}),y([]));case 4:case"end":return e.stop()}var a}),e)})));return function(){return e.apply(this,arguments)}}();console.log("getAllNotificationState",r);var C={customer:c.a.createElement(ie.a,null),order:c.a.createElement(re.a,null)};return console.log("notificationList",v),c.a.createElement(Be,{style:{background:"#fff",height:"60px",display:"flex",justifyContent:"space-between",boxShadow:"0 0.46875rem 2.1875rem rgba(8,10,37,.01), 0 0.9375rem 1.40625rem rgba(8,10,37,.01), 0 0.25rem 0.53125rem rgba(8,10,37,.02), 0 0.125rem 0.1875rem rgba(8,10,37,.01)",zIndex:10,transition:" all .2s",alignItems:"center",alignContent:"center",position:"fixed",width:"100%"}},c.a.createElement("h2",{onClick:function(){return t.push("/admin")},style:{color:"#0072EA",marginTop:"10px",marginLeft:"-20px",cursor:"pointer"}},"Admin"),c.a.createElement("div",{style:{marginRight:"-28px"}},c.a.createElement(Fe.a,{placement:"bottomLeft",overlay:function(){return r.isLoading?c.a.createElement("div",{style:{height:"100%",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"#fff",padding:"0 50px"}},c.a.createElement(Re.a,null)):r.done&&v&&!v[0]?c.a.createElement("div",{className:"notificationListItemContainer",style:{height:"100%",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"#fff",padding:"0 50px"}},c.a.createElement(Te,{title:"No Notification found"})):c.a.createElement("div",{style:{},className:"notificationListItemContainer"},r.done&&v[0]&&c.a.createElement("div",{style:{}},c.a.createElement("div",{style:{width:"100%",display:"flex",justifyContent:"space-around"}},c.a.createElement("a",{onClick:function(){return j()},style:{textAlign:"center",backgroundColor:"#f7f7f7",padding:"10px",width:"50%",fontSize:"13px"},href:"##"},"CLEAR ALL"),c.a.createElement("a",{onClick:function(){return t.push("/admin/notification")},style:{textAlign:"center",backgroundColor:"#eee",padding:"10px",width:"50%",fontSize:"13px"},href:"##"},"SEE ALL"))),r.done&&v[0]&&v.map((function(e,a){return console.log("notificationItem",e),c.a.createElement("div",{onClick:function(){O(e._id),t.push("/admin/".concat(e.type,"/").concat(e.eventId))},className:e.read?"notificationListItemContainer__item":"notificationListItemContainer__item notificationListItemContainer__item-active"},c.a.createElement("span",{className:"notificationListItemContainer__item-icon"},C[e.type]),c.a.createElement("div",{className:"notificationListItemContainer__item-info"},c.a.createElement("h3",null,e.heading),c.a.createElement("h4",null,e.text),c.a.createElement("h2",null,e.added&&_()(e.added).format("MMMM Do YYYY, h:mm a"))))})))}},c.a.createElement("a",{style:{marginRight:"10px"},href:"###",className:"notificationIconContainer"},c.a.createElement(Ae.a,{overflowCount:100,showZero:Ie.a,count:r.done&&!v?0:v&&v.length?v.length:0},c.a.createElement("span",{style:{marginLeft:"10px",fontWeight:600,borderRadius:"25px",color:"#1890ff",padding:"2px 20px",cursor:"pointer",marginRight:"-5px"}},c.a.createElement(Le.a,null))))),c.a.createElement("a",{href:"/admin/auth/logout"},c.a.createElement("span",{style:{marginLeft:"10px",fontWeight:600,borderRadius:"25px",color:"#1890ff",padding:"2px 20px",cursor:"pointer"}},c.a.createElement(Pe.a,null),c.a.createElement("span",{style:{marginLeft:"10px"}},"logout")))))},Ue=a(18),Ge=a(107),ze=a(891),He=Ge.a.Option,We=ze.a.RangePicker,qe=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Ye={border:0,borderRadius:"8px",fontSize:14,boxShadow:"2px 2px 5px 3px rgba(0,0,0,0.15)"},Ke=function(e){var t=Object(o.useState)("date"),a=Object(g.a)(t,2),n=a[0],r=a[1],i=Object(o.useState)(""),l=Object(g.a)(i,2),s=l[0],u=l[1],m=Object(o.useState)(""),d=Object(g.a)(m,2),f=d[0],h=d[1],E=U({},"getAnalyticsDemographicVisits"),v=Object(g.a)(E,2),y=v[0],O=v[1],j=Object(o.useState)([]),C=Object(g.a)(j,2),N=C[0],x=C[1];Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O({urlOptions:{params:{metricType:n,startDateValue:s,endDateValue:f}}});case 2:t=e.sent,console.log("uservisitsData",t),t&&x(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[n,s,f]),console.log("demoGraphicVisitsState",y);var k=new Date,S=qe[k.getMonth()];return c.a.createElement("div",{className:"overviewContainer__userVisits"},c.a.createElement("div",{className:"overviewContainer__body-apiVisits-header"},c.a.createElement("div",{className:"overviewContainer__body-apiVisits-header-info"},c.a.createElement("h2",null,"Users"),c.a.createElement("h3",null,"All users that visited")),c.a.createElement("div",{className:"overviewContainer__body-apiVisits-header-controller"},c.a.createElement(Ge.a,{bordered:!1,showSearch:!0,style:{width:"130px",borderRadius:"6px",color:"#1890ff"},placeholder:"Select an api",optionFilterProp:"children",onChange:function(e){r(e)},defaultValue:n,filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0}},[{value:"date",name:"Date"},{value:"hour",name:"Hour"},{value:"dayOfWeek",name:"Day of week"},{value:"dayOfMonth",name:"Day of month"},{value:"month",name:"Month"},{value:"year",name:"Year"}].map((function(e){return c.a.createElement(He,{value:e.value},e.name)}))))),c.a.createElement("div",{className:"overviewContainer__body-body"},y.isLoading&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{style:{margin:"100px 0",display:"flex",justifyContent:"center",alignItems:"center"}},c.a.createElement(Re.a,{size:"large"}))),y.done&&!(y.data.length>0)&&c.a.createElement("div",{style:{marginTop:"00px"}},c.a.createElement(we.a,{description:"No User visited",image:we.a.PRESENTED_IMAGE_SIMPLE})),y.done&&N&&N.length>0&&c.a.createElement(Ue.g,{width:"100%",height:300},c.a.createElement(Ue.b,{data:N,fontSize:12},c.a.createElement("defs",null,c.a.createElement("linearGradient",{id:"rainGradient",x1:"0",y1:"0",x2:"0",y2:"1"},c.a.createElement("stop",{offset:"0%",stopColor:"#1890ff"}),c.a.createElement("stop",{offset:"100%",stopColor:"#3066BE22"}))),c.a.createElement(Ue.c,{vertical:!1,strokeDasharray:"3 3",stroke:"#d6d9da"}),c.a.createElement(Ue.i,{dataKey:n,tickFormatter:function(e){return"day"===n?e?_()(e).format("MMMM Do YYYY, h:mm:ss a"):e:"date"===n?e?_()(e).format("MMMM Do YYYY"):e:"month"===n&&e?qe[e-1]:e}}),c.a.createElement(Ue.j,{orientation:"left",width:20,axisLine:!1,tickLine:!1}),c.a.createElement(Ue.h,{cursor:!1,contentStyle:Ye,formatter:function(e,t){return["".concat(e),"".concat(t)]}}),c.a.createElement(Ue.a,{dataKey:"count",name:"Count",type:"basis",unit:"month"===n?S:"",fill:"url(#rainGradient)"})))),c.a.createElement("div",{className:"overviewContainer__body-footer"},c.a.createElement(We,{showTime:!0,onChange:function(e){if(e&&e[0]){var t=new Date(_()(e[0]).format()),a=new Date(_()(e[1]).format());u(t),h(a)}},bordered:!1,picker:"date"})))},Je=Ge.a.Option,Qe=ze.a.RangePicker,Xe=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Ze={border:0,borderRadius:"8px",fontSize:14,boxShadow:"2px 2px 5px 3px rgba(0,0,0,0.15)"},$e=function(e){var t=Object(o.useState)("date"),a=Object(g.a)(t,2),n=a[0],r=a[1],i=U({},"getAnalyticsOrders"),l=Object(g.a)(i,2),s=l[0],u=l[1],m=Object(o.useState)([]),d=Object(g.a)(m,2),f=d[0],h=d[1],E=Object(o.useState)(""),v=Object(g.a)(E,2),y=v[0],O=v[1],j=Object(o.useState)(""),C=Object(g.a)(j,2),N=C[0],x=C[1];Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u({urlOptions:{params:{metricType:n,startDateValue:y,endDateValue:N}}});case 2:t=e.sent,console.log("ordersDataRes",t),t&&h(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[n,y,N]),console.log("orderAnalyticsVisitsState",s);var k=new Date,S=Xe[k.getMonth()];return c.a.createElement("div",{className:"overviewContainer__userVisits"},c.a.createElement("div",{className:"overviewContainer__body-apiVisits-header"},c.a.createElement("div",{className:"overviewContainer__body-apiVisits-header-info"},c.a.createElement("h2",null,"Orders"),c.a.createElement("h3",null,"All orders that visited")),c.a.createElement("div",{className:"overviewContainer__body-apiVisits-header-controller"},c.a.createElement(Ge.a,{bordered:!1,showSearch:!0,style:{width:"130px",borderRadius:"6px",color:"#1890ff"},placeholder:"Select an api",optionFilterProp:"children",onChange:function(e){r(e)},defaultValue:n,filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0}},[{value:"date",name:"Date"},{value:"hour",name:"Hour"},{value:"dayOfWeek",name:"Day of week"},{value:"dayOfMonth",name:"Day of month"},{value:"month",name:"Month"},{value:"year",name:"Year"}].map((function(e){return c.a.createElement(Je,{value:e.value},e.name)}))))),c.a.createElement("div",{className:"overviewContainer__body-body"},s.isLoading&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{style:{margin:"100px 0",display:"flex",justifyContent:"center",alignItems:"center"}},c.a.createElement(Re.a,{size:"large"}))),s.done&&!(s.data.length>0)&&c.a.createElement("div",{style:{marginTop:"00px"}},c.a.createElement(we.a,{description:"No Orders Created",image:we.a.PRESENTED_IMAGE_SIMPLE})),s.done&&f&&f.length>0&&c.a.createElement(Ue.g,{width:"100%",height:300},c.a.createElement(Ue.b,{data:f,fontSize:12},c.a.createElement("defs",null,c.a.createElement("linearGradient",{id:"rainGradient",x1:"0",y1:"0",x2:"0",y2:"1"},c.a.createElement("stop",{offset:"0%",stopColor:"#1890ff"}),c.a.createElement("stop",{offset:"100%",stopColor:"#3066BE22"}))),c.a.createElement(Ue.c,{vertical:!1,strokeDasharray:"3 3",stroke:"#d6d9da"}),c.a.createElement(Ue.i,{dataKey:n,tickFormatter:function(e){return"day"===n?e?_()(e).format("MMMM Do YYYY, h:mm:ss a"):e:"date"===n?e?_()(e).format("MMMM Do YYYY"):e:"month"===n?Xe[e-1]:e}}),c.a.createElement(Ue.j,{orientation:"left",width:20,axisLine:!1,tickLine:!1}),c.a.createElement(Ue.h,{cursor:!1,contentStyle:Ze,formatter:function(e,t){return["".concat(e),"".concat(t)]}}),c.a.createElement(Ue.a,{dataKey:"count",name:"Count",unit:"month"===n?S:"",type:"basis",fill:"url(#rainGradient)"})))),c.a.createElement("div",{className:"overviewContainer__body-footer"},c.a.createElement(Qe,{showTime:!0,onChange:function(e){console.log("dateOrder",_()(e[0]).format()),console.log("dateOff",_()(e[1]).format());var t=new Date(_()(e[0]).format()),a=new Date(_()(e[1]).format());O(t),x(a)},picker:"date",bordered:!1})))},et=a(929),tt=Ge.a.Option,at=[{value:"browser",name:"Browser"},{value:"device",name:"Device"},{value:"os",name:"OS"},{value:"platform",name:"Platform"}],nt=["#1890ff","#20A39E","#61D095","#FFBA49","#EF5B5B","#A4036F"],rt={border:0,borderRadius:"8px",fontSize:14,boxShadow:"2px 2px 5px 3px rgba(0,0,0,0.15)"},it=function(e){var t=Object(o.useState)(at),a=Object(g.a)(t,2),n=a[0],r=(a[1],Object(o.useState)("browser")),i=Object(g.a)(r,2),l=i[0],s=i[1],u=U({},"getAnalyticsDemographicVisits"),m=Object(g.a)(u,2),d=m[0],f=m[1],h=Object(o.useState)([]),E=Object(g.a)(h,2),v=E[0],y=E[1];Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f({urlOptions:{params:{metricType:l}}});case 2:e.sent;case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[l]),Object(o.useEffect)((function(){d.done&&d.data&&y(d.data)}),[d]),console.log("demoGraphicVisitsState",d),console.log("demographicData",v);var O=Math.PI/180;return c.a.createElement("div",{className:"overviewContainer__body-platformVisits"},c.a.createElement("div",{className:"overviewContainer__body-platformVisits-header"},c.a.createElement("div",{className:"overviewContainer__body-platformVisits-header-info"},c.a.createElement("h2",null,"Demographic"),c.a.createElement("h3",null,l," demography")),c.a.createElement("div",{className:"overviewContainer__body-platformVisits-header-controller"},c.a.createElement(Ge.a,{bordered:!1,showSearch:!0,style:{width:"130px",borderRadius:"6px",color:"#1890ff"},placeholder:"Select Type",optionFilterProp:"children",onChange:function(e){s(e)},defaultValue:"browser",filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0}},n.map((function(e){return c.a.createElement(tt,{value:e.value},e.name)}))))),c.a.createElement("div",{className:"overviewContainer__body-body"},d.isLoading&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",marginTop:"100px",marginBottom:"100px"}},c.a.createElement(Re.a,{size:"large"}))),d.done&&!(d.data.length>0)&&c.a.createElement("div",{style:{marginTop:"00px"}},c.a.createElement(we.a,{description:"No Visits for ".concat(l),image:we.a.PRESENTED_IMAGE_SIMPLE})),d.done&&v&&v.length>0&&c.a.createElement(Ue.g,{width:"100%",height:300},c.a.createElement(Ue.f,{fontSize:14},c.a.createElement(Ue.h,{cursor:!1,contentStyle:rt,formatter:function(e,t){return["".concat(e),"".concat(t)]}}),c.a.createElement(Ue.e,{dataKey:"count",data:v,outerRadius:100,innerRadius:40,name:l,nameKey:l,unit:"%",label:function(e){var t=e.cx,a=e.cy,n=e.midAngle,r=e.innerRadius,i=e.outerRadius,o=(e.value,e.name,e.index,e.percent),l=r+.5*(i-r),s=t+l*Math.cos(-n*O)-10,u=a+l*Math.sin(-n*O);return console.log("percent..",o),c.a.createElement("text",{x:s,y:u,fill:"white",fontSize:12,dominantBaseline:"central"},"".concat((100*o).toFixed(0),"%"))},labelLine:!1},v&&v.map((function(e,t){return c.a.createElement(Ue.d,{key:"cell-".concat(t),fill:nt[t%nt.length]})})))))),c.a.createElement("div",{className:"overviewContainer__body-footer"},c.a.createElement("h3",null,c.a.createElement("span",null,c.a.createElement(et.a,null)),"All Time")))},ot=a(892),ct=Ge.a.Option,lt=ot.a.Column,st=(ot.a.ColumnGroup,[{value:"category",name:"Category"},{value:"product",name:"Product"}]),ut=function(e){var t=Object(_e.g)(),a=Object(o.useState)(st),n=Object(g.a)(a,2),r=n[0],i=(n[1],Object(o.useState)("product")),l=Object(g.a)(i,2),s=l[0],u=l[1],m=U({},"getAnalyticsPageVisits"),d=Object(g.a)(m,2),f=d[0],h=d[1];Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h({urlOptions:{params:{visitType:s,item:"item"}}});case 2:e.sent;case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[s]);return console.log("pageVisitsState",f),c.a.createElement("div",{className:"overviewContainer__body-apiVisits"},c.a.createElement("div",{className:"overviewContainer__body-apiVisits-header"},c.a.createElement("div",{className:"overviewContainer__body-apiVisits-header-info"},c.a.createElement("h2",null,"Popularity"),c.a.createElement("h3",null,"All ",s," that were visited")),c.a.createElement("div",{className:"overviewContainer__body-apiVisits-header-controller"},c.a.createElement(Ge.a,{bordered:!1,showSearch:!0,style:{width:"130px",borderRadius:"6px",color:"#1890ff"},placeholder:"Select an api",optionFilterProp:"children",onChange:function(e){u(e)},defaultValue:s,filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0}},r.map((function(e){return c.a.createElement(ct,{value:e.value},e.name)}))))),c.a.createElement("div",{className:"overviewContainer__body-body"},f.isLoading&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"}},c.a.createElement(Re.a,{size:"large"}))),f.done&&!(f.data.length>0)&&c.a.createElement("div",{style:{marginTop:"00px"}},c.a.createElement(we.a,{description:"No Visits for ".concat(s),image:we.a.PRESENTED_IMAGE_SIMPLE})),f.done&&f.data&&f.data.length>0&&c.a.createElement(c.a.Fragment,null,c.a.createElement(ot.a,{pagination:{defaultPageSize:6},style:{},size:"small",dataSource:f.data,tableLayout:"auto",onHeaderRow:function(e){return{style:{color:"red !important"}}}},c.a.createElement(lt,{title:"Name",dataIndex:"name",key:"id",className:"classnameofthecolumn",render:function(e,a){return c.a.createElement(c.a.Fragment,null,c.a.createElement("a",{href:"##"},c.a.createElement("h4",{onClick:function(){t.push("/admin/".concat(s&&s.toLowerCase(),"/").concat(a.itemId))},style:{fontWeight:400,color:"#555",textTransform:"uppercase",cursor:"pointer"}},e||"".concat(s," Deleted"))))}}),c.a.createElement(lt,{title:"Count",dataIndex:"visit",key:"id",className:"classnameofthecolumn"})))),c.a.createElement("div",{className:"overviewContainer__body-footer"},c.a.createElement("h3",null,c.a.createElement("span",null,c.a.createElement(et.a,null)),"All Time")))},mt=function(e){var t=U({},"getAnalyticsPageVisitCount"),a=Object(g.a)(t,2),n=(a[0],a[1]),r=U({},"getAnalyticsPageVisitCount"),i=Object(g.a)(r,2),l=(i[0],i[1]),s=U({},"getAnalyticsTotalUserCount"),u=Object(g.a)(s,2),m=(u[0],u[1]);return Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m({});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n({params:"product"});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l({params:"category"});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),c.a.createElement("div",{className:"overviewContainer"},c.a.createElement("div",{className:"overviewContainer__body"},c.a.createElement(ut,null),c.a.createElement(it,null)),c.a.createElement("div",{className:"overviewContainer__body"}),c.a.createElement($e,null),c.a.createElement(Ke,null))},dt=a(887),pt=a(121),bt=a(905),gt=a(940),ft=a(932),ht=a(936),Et=a(886),vt=a(898),yt=a(895),Ot=a(897),jt=a(937),Ct=a(930),Nt=a(938),xt=a(931),kt=a(939),St=O.a.TextArea,wt=function(e){var t=e.label,a=(e.type,e.defaultValue,e.value),n=e.onChange,r=e.disabled,i=e.isError,o=e.errorString,l=e.name,s=e.rows,u=void 0===s?4:s,m=e.placeholder;return c.a.createElement(c.a.Fragment,null,t&&c.a.createElement("h3",{className:"inputFieldLabel"},t),c.a.createElement(j.a.Item,{validateStatus:i?"error":"",help:o},c.a.createElement(St,{disabled:r,onChange:n,value:a,name:l,className:"inputclassName",rows:u,placeholder:m})))},Tt=a(483),_t=a(894),Dt=a(479),It=a(181),Lt=a.n(It),Pt=a(933),Mt=a(934),Rt=a(935),Ft=(a(26),yt.a.Dragger),At=_t.a.TabPane,Bt=function(e){Me.a.success({message:e||"Category Updated",description:"",icon:c.a.createElement(De.a,{style:{color:"rgba(0, 128, 0, 0.493)"}})})},Vt=function(e){var t,a,n,r,i,l=e.visible,s=e.setvisible,u=e.setmyImages,d=e.isModalOpenForImages,h=(e.isModalOpenForThumbnail,e.setmyThumbnailImage,e.myImages),y=e.myThumbnailImage,O=(Object(Tt.a)(e,["visible","setvisible","setmyImages","isModalOpenForImages","isModalOpenForThumbnail","setmyThumbnailImage","myImages","myThumbnailImage"]),Object(o.useState)("2")),j=Object(g.a)(O,2),N=j[0],x=j[1],S=Object(o.useState)([]),w=Object(g.a)(S,2),T=w[0],D=w[1],I=Object(o.useState)(!1),L=Object(g.a)(I,2),P=L[0],M=L[1],R=Object(o.useState)([]),F=Object(g.a)(R,2),A=F[0],B=F[1],V=Object(o.useState)(!1),G=Object(g.a)(V,2),H=G[0],W=G[1],q=U({},"updateImageFromLibrary"),Y=Object(g.a)(q,2),K=Y[0],Q=Y[1],X=U({},"ImageListFromLibrary"),Z=Object(g.a)(X,2),$=(Z[0],Z[1]),ee=z("ImageListFromLibrary",{urlOptions:{params:{limitNumber:11,sortItem:"added",sortOrderValue:"-1"}}},"image"),te=Object(m.e)(),ae=U({},"deleteImageFromLibrary"),ne=Object(g.a)(ae,2),re=(ne[0],ne[1]),ie=Object(o.useState)([]),oe=Object(g.a)(ie,2),ce=(oe[0],oe[1]),le=Object(o.useState)(!1),se=Object(g.a)(le,2),ue=se[0],me=se[1],de=function(){var e=Object(b.a)(p.a.mark((function e(t){var a,n,r,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,re({urlOptions:{placeHolders:{id:t}}});case 2:(a=e.sent)&&"ok"===a.status&&(n=te.getQueries(),r=n.filter((function(e){var t=null===e||void 0===e?void 0:e.queryKey;return"image"===(null===t||void 0===t?void 0:t[0])&&"number"===typeof(null===t||void 0===t?void 0:t[1])})).map((function(e){return null===e||void 0===e?void 0:e.queryKey})),(null===(i=r.find((function(e){var a,n=!1;return(null===(a=te.getQueryData(e))||void 0===a?void 0:a.data.find((function(e){return e.id===t})))&&(n=!0),n})))||void 0===i?void 0:i[0])&&te.setQueryData(i,(function(e){var a;return Object(f.a)({},e,{data:null===(a=e.data)||void 0===a?void 0:a.filter((function(e){return e.id!==t}))})})),Bt("Imaged Deleted"));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),pe=function(){var e=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$({urlOptions:{params:{limitNumber:1e4,sortItem:"added",sortOrderValue:"-1"}}});case 2:(t=e.sent)&&ce(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(o.useEffect)((function(){}),[]);var be=function(){var e=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=new FormData,T.forEach((function(e){t.append("images",e,e.name)})),M(!0),Lt()({url:"".concat(k.baseURL,"/admin/api/image/add"),method:"post",processData:!1,data:t,withCredentials:!0,success:function(e){console.log("successResOfMediaLib",e),D([]),M(!1);var t=te.getQueries().filter((function(e){var t=null===e||void 0===e?void 0:e.queryKey;return"image"===(null===t||void 0===t?void 0:t[0])&&"number"===typeof(null===t||void 0===t?void 0:t[1])})).map((function(e){return null===e||void 0===e?void 0:e.queryKey})),a=null===t||void 0===t?void 0:t[0];a&&te.setQueryData(a,(function(t){var a,n,r=null===e||void 0===e||null===(a=e.inserted)||void 0===a?void 0:a[0];return r=Object(f.a)({},r,{id:r._id,cover:"".concat(k.baseURL).concat(null===(n=r)||void 0===n?void 0:n.thumbnail)}),Object(f.a)({},t,{data:[r].concat(Object(fe.a)(null===t||void 0===t?void 0:t.data))})})),pe(),Et.a.success("upload successfully."),e&&e.inserted&&e.inserted[0]&&W(Object(f.a)({cover:"".concat(k.baseURL).concat(e.inserted[0].thumbnail&&e.inserted[0].thumbnail)},e.inserted[0])),x("2")},error:function(){M(!1),Et.a.error("upload failed.")}});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(o.useEffect)((function(){h&&h.length>0&&B(Object(fe.a)(h))}),[h]),Object(o.useEffect)((function(){ue&&d&&h&&B(Object(fe.a)(h))}),[h,ue]),Object(o.useEffect)((function(){}),[y,ue]);var ge={multiple:!0,onRemove:function(e){D((function(t){var a=T.indexOf(e),n=T.slice();return n.splice(a,1),n}))},beforeUpload:function(e){return D((function(t){var a=t;return[].concat(Object(fe.a)(a),[e])})),!1},fileList:T},he=function(e,t){if(A&&A.length>0)if(A.find((function(e){return e.id===t}))){var a=A.filter((function(e){return e.id!==t}));B(a)}else B([e].concat(Object(fe.a)(A))),W(e);else B([e].concat(Object(fe.a)(A))),W(e)},Ee=function(){var e=Object(b.a)(p.a.mark((function e(t,a){var n,r,i,o;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q({body:{id:t.id,alt:t.alt,title:t.title,caption:t.caption,labels:t.labels}});case 2:(n=e.sent)&&"ok"===n.status?(Bt("Image Updated"),r=te.getQueries(),i=r.filter((function(e){var t=null===e||void 0===e?void 0:e.queryKey;return"image"===(null===t||void 0===t?void 0:t[0])&&"number"===typeof(null===t||void 0===t?void 0:t[1])})).map((function(e){return null===e||void 0===e?void 0:e.queryKey})),(null===(o=i.find((function(e){var t,a=!1;return(null===(t=te.getQueryData(e))||void 0===t?void 0:t.data.find((function(e){return e.id===id})))&&(a=!0),a})))||void 0===o?void 0:o[0])&&te.setQueryData(o,(function(e){var a=null===e||void 0===e?void 0:e.data,r=a.map((function(e){return e.id})).indexOf(t.id),i=Object.assign({},a[r],Object(f.a)({},n)),o=[].concat(Object(fe.a)(a.slice(0,r)),[i],Object(fe.a)(a.slice(r+1)));return Object(f.a)({},e,{data:o})}))):(l=void 0,Me.a.success({message:l||"Something Went Wrong",description:"",icon:c.a.createElement(Ct.a,{style:{color:"rgb(241, 67, 67)"}})})),a.setSubmitting(!1);case 5:case"end":return e.stop()}var l}),e)})));return function(t,a){return e.apply(this,arguments)}}(),ve=function(e,t){return!t};return c.a.createElement(c.a.Fragment,null,c.a.createElement(Ot.a,{style:{top:"40px"},title:"Media Library",visible:l,onOk:function(e){d?(u(A),me(!0)):(console.log(""),console.log("selectedimages,,,",A[0]),u(A&&A[0]?[A[0]]:[]),me(!0)),s(!1)},onCancel:function(e){s(!1)},width:"80vw",bodyStyle:{margin:"0",padding:"0"},okText:"Done"},c.a.createElement("div",{className:"mediaLibraryBodyContainer"},c.a.createElement("div",{className:"mediaLibraryBodyContainer-left"},c.a.createElement(_t.a,{onChange:function(e){x("".concat(e))},activeKey:N,type:"card",size:"middle"},c.a.createElement(At,{tab:"Upload New Media",key:"1"},c.a.createElement("div",{className:"mediaLibraryBodyContainer-left-header"},c.a.createElement("div",null,c.a.createElement(Ft,Object.assign({className:"upload-list-inline",listType:"picture",style:{background:"#fff",borderRadius:"8px"}},ge),c.a.createElement("p",{className:"ant-upload-drag-icon"},c.a.createElement(Pt.a,null)),c.a.createElement("p",{className:"ant-upload-text"},"Click or drag file to this area to upload"),c.a.createElement("p",{className:"ant-upload-hint"},"Support for a single or bulk upload.")))),c.a.createElement(E.a,{className:"btnPrimaryClassNameoutline",type:"primary",onClick:be,disabled:0===T.length,loading:P,icon:c.a.createElement(Mt.a,null),style:{marginTop:"20px",marginBottom:"10px"}},"Upload")),c.a.createElement(At,{tab:"Media Library",key:"2"},c.a.createElement("div",{className:"mediaLibraryBodyContainer-left-imageListContainer"},ee.isSuccess&&(null===ee||void 0===ee||null===(t=ee.resolvedData)||void 0===t?void 0:t.data.length)>0&&(null===ee||void 0===ee||null===(a=ee.resolvedData)||void 0===a?void 0:a.data.map((function(e){return c.a.createElement("div",{key:e.id,className:"mediaLibraryBodyContainer-left-imageListContainer-item"},function(e){return!!(A&&A.length>0)&&!!A.find((function(t){return t.id===e}))}(e.id)?c.a.createElement("div",{className:"mediaLibraryBodyContainer-left-imageListContainer-item-icon"},c.a.createElement(xt.a,null)):"",c.a.createElement(Fe.a,{overlay:function(){return function(e,t,a,n){return c.a.createElement(J.a,null,c.a.createElement(J.a.Item,{onClick:function(){return a(n,t)},key:"1",icon:c.a.createElement(xt.a,null)},"Select"),c.a.createElement(J.a.Item,{onClick:function(){return e(t)},key:"1",icon:c.a.createElement(ft.a,{color:"red"})},"Delete"))}(de,e.id,he,e)},placement:"bottomRight"},c.a.createElement("div",{className:"mediaLibraryBodyContainer-left-imageListContainer-item-menu"},c.a.createElement(Rt.a,null))),c.a.createElement("img",{onClick:function(){he(e,e.id)},src:e.cover,alt:"img"}))}))),(null===ee||void 0===ee?void 0:ee.isError)||!((null===ee||void 0===ee||null===(n=ee.resolvedData)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.length)>0)&&c.a.createElement("div",{style:{display:"flex",justifyContent:"center",width:"100%"}},c.a.createElement(Te,{title:"No Image Found in the library"})),ee.isLoading&&c.a.createElement("div",{style:{display:"flex",justifyContent:"center",width:"100%",margin:"100px 0 50px 0"}},c.a.createElement(Re.a,{size:"large"}))),c.a.createElement("div",{style:{marginTop:"20px",display:"block"}},c.a.createElement(Dt.a,{onChange:function(e,t){null===ee||void 0===ee||ee.setPage(e)},defaultCurrent:1,total:null===ee||void 0===ee||null===(i=ee.resolvedData)||void 0===i?void 0:i.total,pageSize:11}))))),c.a.createElement("div",{className:"mediaLibraryBodyContainer-right"},H&&c.a.createElement(c.a.Fragment,null,c.a.createElement(v.a,{onSubmit:function(e,t){return Ee(e,t)},validateOnBlur:!1,enableReinitialize:!0,initialValues:Object(f.a)({},H)},(function(e){var t=e.handleChange,a=e.values,n=e.handleSubmit,r=e.errors,i=e.isValid,o=e.isSubmitting,l=e.touched,s=(e.handleBlur,e.setFieldTouched);e.handleReset;return c.a.createElement(c.a.Fragment,null,c.a.createElement("h4",null,"Attachment Details"),c.a.createElement("div",{className:"mediaLibraryBodyContainer-right-ImageDetails"},c.a.createElement("div",{className:"mediaLibraryBodyContainer-right-ImageDetails-imageContainer"},c.a.createElement("img",{src:H.cover,alt:"img"})),c.a.createElement("div",{className:"mediaLibraryBodyContainer-right-ImageDetails-infoContainer"},c.a.createElement("h5",{className:"imageLibnameText"},H.name),c.a.createElement("h5",null,H.added&&_()(H.added).format("MMMM Do YYYY, h:mm a")),c.a.createElement(bt.a,{onConfirm:function(){return de(H.id)},title:"Are you sure\uff1f",okText:"Yes",cancelText:"No"},c.a.createElement("h5",{className:"imageLibdeleteText"},"Delete parmanently")))),c.a.createElement(C,{label:"Alternate Text",value:a.alt,name:"alt",isError:l.alt&&r.alt||!o&&K.error.error.alt,errorString:l.alt&&r.alt||!o&&K.error.error.alt,onChange:function(e){t(e),s("alt")}}),c.a.createElement(C,{label:"Title",value:a.title,name:"title",isError:l.title&&r.title||!o&&K.error.error.title,errorString:l.title&&r.title||!o&&K.error.error.title,onChange:function(e){t(e),s("title")}}),c.a.createElement(C,{label:"Caption",value:a.caption,name:"caption",isError:l.caption&&r.caption||!o&&K.error.error.caption,errorString:l.caption&&r.caption||!o&&K.error.error.caption,onChange:function(e){t(e),s("caption")}}),c.a.createElement(E.a,{type:"default",onClick:function(e){return n(e)},disabled:ve(0,i),loading:o,style:{}},"Update"))}))),!H&&c.a.createElement("div",{style:{height:"100%",display:"flex",justifyContent:"center",alignItems:"center"}},c.a.createElement("h4",{style:{textAlign:"center",fontSize:"13px",color:"#8888"}},"Select an image to preview details"))))))},Ut=a(123),Gt=a(118),zt=a(126),Ht=a(482),Wt=function(e){function t(){var e,a;Object(N.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(Ut.a)(this,(e=Object(Gt.a)(t)).call.apply(e,[this].concat(r)))).state={tags:[],inputVisible:!1,inputValue:"",editInputIndex:-1,editInputValue:""},a.handleClose=function(e){var t=a.props;(0,t.setTags)(t.tags.filter((function(t){return t!==e})))},a.showInput=function(){a.setState({inputVisible:!0},(function(){return a.input.focus()}))},a.handleInputChange=function(e){a.setState({inputValue:e.target.value})},a.handleInputConfirm=function(){console.log("handleInputConfirm",a.props);var e=a.state.inputValue,t=a.props,n=t.tags,r=t.setTags;e&&n&&-1===n.indexOf(e)&&(n=[].concat(Object(fe.a)(n),[e])),r(n),a.setState({inputVisible:!1,inputValue:""})},a.handleEditInputChange=function(e){a.setState({editInputValue:e.target.value}),console.log("tagValue",e.target.value)},a.handleEditInputConfirm=function(){a.setState((function(e){e.editInputIndex,e.editInputValue;return{editInputIndex:-1,editInputValue:""}}));var e=Object(fe.a)(a.props.tags);e[editInputIndex]=editInputValue,a.props.setTags(e)},a.saveInputRef=function(e){a.input=e},a.saveEditInputRef=function(e){a.editInput=e},a}return Object(zt.a)(t,e),Object(x.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.inputVisible,n=t.inputValue,r=t.editInputIndex,i=t.editInputValue,o=this.props,l=o.placeholder,s=o.tags;return c.a.createElement(c.a.Fragment,null,s&&s.length>0&&s.map((function(t,a){if(r===a)return c.a.createElement(O.a,{ref:e.saveEditInputRef,key:t,size:"small",placeholder:l,className:"tag-input",value:i,onChange:e.handleEditInputChange,onBlur:e.handleEditInputConfirm,onPressEnter:e.handleEditInputConfirm});var n=t.length>20,o=c.a.createElement(Ht.a,{className:"edit-tag",key:t,closable:!0,onClose:function(){return e.handleClose(t)}},c.a.createElement("span",{onDoubleClick:function(n){0!==a&&(e.setState({editInputIndex:a,editInputValue:t},(function(){e.editInput.focus()})),n.preventDefault())}},n?"".concat(t.slice(0,20),"..."):t));return n?c.a.createElement(pt.a,{title:t,key:t},o):o})),a&&c.a.createElement(O.a,{style:{margin:"10px 0"},ref:this.saveInputRef,type:"text",size:"small",className:"tag-input",value:n,onChange:this.handleInputChange,onBlur:this.handleInputConfirm,onPressEnter:this.handleInputConfirm}),!a&&c.a.createElement(Ht.a,{className:"site-tag-plus edit-tag",onClick:this.showInput},c.a.createElement(ht.a,null)," New Value"))}}]),t}(c.a.Component),qt=y.a().shape({}),Yt=function(e){Me.a.success({message:e||"Category Updated",description:"",icon:c.a.createElement(De.a,{style:{color:"rgba(0, 128, 0, 0.493)"}})})},Kt=function(e){Me.a.error({message:e||"Something Went Wrong",description:"",icon:c.a.createElement(De.a,{style:{color:"rgb(241, 67, 67)"}})})},Jt={name:"",bnName:"",description:"",bnDescription:"",metaTitle:"",bnMetaTitle:"",metaDescription:"",bnMetaDescription:"",metaTags:"",bnMetaTags:"",image:[],url:"",cover:"",displayOrder:null},Qt=Ge.a.Option,Xt=function(e){e.addNewCategoryVisible;var t=e.setAddNewCategoryVisible,a=e.categoryList,n=e.setcategoryList,r=e.categoryDetailData,i=e.categoryList2;console.log("categoryList211",i);var l=U({},"updateCategory"),s=Object(g.a)(l,2),u=s[0],m=s[1],d=U({},"categoryDetail"),h=Object(g.a)(d,2),y=h[0],O=h[1],j=U({},"categoryUpdateIcon","form"),N=Object(g.a)(j,2),x=(N[0],N[1]),S=U({},"categoryUpdateThumbnail","form"),w=Object(g.a)(S,2),T=(w[0],w[1]),_=Object(o.useState)(!1),D=Object(g.a)(_,2),I=D[0],L=D[1],P=Object(o.useState)(!1),M=Object(g.a)(P,2),R=M[0],F=M[1],A=Object(o.useState)(!1),B=Object(g.a)(A,2),V=(B[0],B[1]),G=Object(o.useState)(!0),z=Object(g.a)(G,2),H=z[0],W=z[1],q=Object(o.useState)(!1),Y=Object(g.a)(q,2),K=Y[0],J=Y[1],Q=Object(o.useState)(!1),X=Object(g.a)(Q,2),Z=X[0],$=X[1],ee=Object(o.useState)(""),te=Object(g.a)(ee,2),ae=te[0],ne=te[1],re=Object(o.useState)(""),ie=Object(g.a)(re,2),oe=ie[0],ce=ie[1],le=Object(o.useState)(""),se=Object(g.a)(le,2),ue=se[0],me=se[1],de=Object(o.useState)(""),pe=Object(g.a)(de,2),be=pe[0],ge=pe[1],he=Object(o.useState)(""),Ee=Object(g.a)(he,2),ve=Ee[0],ye=Ee[1],Oe=Object(o.useState)(!1),je=Object(g.a)(Oe,2),Ce=je[0],Ne=je[1],xe=Object(o.useState)([]),ke=Object(g.a)(xe,2),Se=ke[0],we=ke[1],Te=Object(o.useState)([]),_e=Object(g.a)(Te,2),Ie=_e[0],Le=_e[1],Pe=Object(o.useState)(!1),Me=Object(g.a)(Pe,2),Fe=(Me[0],Me[1],Object(o.useState)("")),Ae=Object(g.a)(Fe,2),Be=Ae[0],Ve=Ae[1],Ue=Object(o.useState)([]),ze=Object(g.a)(Ue,2),He=(ze[0],ze[1],Object(o.useState)("")),We=Object(g.a)(He,2),qe=We[0],Ye=We[1],Ke=U({},"attachImageToItemMultiple"),Je=Object(g.a)(Ke,2),Qe=(Je[0],Je[1]),Xe=U({},"attachImageToItemSingle"),Ze=Object(g.a)(Xe,2),$e=(Ze[0],Ze[1]),et=U({},"detachImageFromItemMultiple"),tt=Object(g.a)(et,2),at=(tt[0],tt[1],U({},"detachImageFromItemSingle")),nt=Object(g.a)(at,2),rt=(nt[0],nt[1]),it=U({},"setImageAsThumbnailToItem"),ot=Object(g.a)(it,2),ct=(ot[0],ot[1]);Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O({urlOptions:{placeHolders:{id:r.id}}});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[r]),Object(o.useEffect)((function(){if(y.done&&Object.keys(y).length>0){var e=y.data.image,t=[];if(e&&e.length>0&&(t=e),y.data.cover&&y.data.cover.id)e.find((function(e){return e.id===y.data.cover.id}))||(t=[y.data.cover].concat(Object(fe.a)(t))),Ve(y.data.cover.id);F(t)}}),[y.done]),Object(o.useEffect)((function(){console.log("thumnail",R),R&&R[0]&&R.length<2&&(console.log("thumnail2",R),Be!==R[0].id&&(Ve(R[0].id),st(R[0])))}),[R]);var lt=function(){var e=Object(b.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,rt({urlOptions:{placeHolders:{imageId:t,collection:"category",itemId:r.id}}});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),st=function(){var e=Object(b.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ct({urlOptions:{placeHolders:{imageId:t.id,collection:"category",itemId:r.id}}});case 2:(a=e.sent)&&"ok"===a.status?Yt("Set as thumbnail!"):Kt("Couldn't set as thumbnail, Something went wrong");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ut=function(){var e=Object(b.a)(p.a.mark((function e(i,o){var c,l,s,u,d,b,g,h,E,v,y;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u=R?R.map((function(e){return e.id})):[],(d=new FormData).append("name",null===(c=i.name)||void 0===c?void 0:c.trim()),d.append("description",i.description),d.append("image",JSON.stringify(u)),d.append("cover",Be||u[0]?u[0]:""),d.append("parent",ae),d.append("icon",oe),d.append("thumbnail",be),console.log("categoryDetailData",r),!(r&&Object.keys(r).length>0)){e.next=21;break}if(b=[],u&&u.length>0&&u.forEach((function(e){r&&r.image&&(r.image.includes(e)||b.push(e))})),!(b[0]&&b.length>1)){e.next=18;break}return e.next=16,Qe({urlOptions:{placeHolders:{collection:"category",itemId:r.id}},body:{image:b}});case 16:e.next=21;break;case 18:if(!(b[0]&&b.length<1)){e.next=21;break}return e.next=21,$e({urlOptions:{placeHolders:{imageId:b[0].id,collection:"category",itemId:r.id}}});case 21:return e.next=23,m({urlOptions:{placeHolders:{id:r.id}},body:{name:null===(l=i.name)||void 0===l?void 0:l.trim(),description:i.description,displayOrder:i.displayOrder,image:u,cover:Be||u[0]?u[0]:"",parent:ae,icon:oe,metaTitle:i.metaTitle,metaDescription:i.metaDescription,metaTags:Se&&Se.length>0?Se.join(","):"",bn:{metaTitle:i.bnMetaTitle,metaDescription:i.bnMetaDescription,metaTags:Ie&&Ie.length>0?Ie.join(","):"",name:null===(s=i.bnName)||void 0===s?void 0:s.trim(),description:i.bnDescription}}});case 23:(g=e.sent)&&"ok"===g.status?(Yt("Category Updated!"),t(!1),h=function(e){if(!(e&&R&&R[0]))return"";if(R&&R.length>0){var t=R.find((function(t){return t.id===e}));if(t)return t.cover}},E=function(){return a.map((function(e){return e.id})).indexOf(i.id)}(),v=Object.assign({},a[E],Object(f.a)({name:g.name||"",description:g.description||"",id:r.id,key:r.id||"",icon:qe},g,{cover:h(Be)})),y=[].concat(Object(fe.a)(a.slice(0,E)),[v],Object(fe.a)(a.slice(E+1))),n(y),o.resetForm(),F([]),Ve(""),ne(""),W(!0),me(""),ye("")):Kt(),o.setSubmitting(!1);case 26:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();Object(o.useEffect)((function(){if(!u.isLoading){var e=u.error;if(e.isError&&Object.keys(e.error).length>0)(Object.values(e.error).length>0?Object.values(e.error):[]).forEach((function(e,t){if("string"===typeof e)Kt(e);else if("object"===typeof e){if(e&&Object.keys(e).length>0)Object.values(e).forEach((function(e){Kt(e)}))}}))}}),[u]);var mt=function(e){W(e),e&&ne("")},dt=function(e){ne(e)};function bt(e,t){var a=new FileReader;a.addEventListener("load",(function(){return t(a.result)})),a.readAsDataURL(e)}function gt(e){return"image/jpeg"===e.type||"image/png"===e.type||Et.a.error("You can only upload JPG/PNG file!"),e.size/1024/1024<2||Et.a.error("Image must smaller than 2MB!"),bt(e,(function(t){me(t),ce(e),function(){var t=Object(b.a)(p.a.mark((function t(){var a,n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(a=new FormData).append("icon",e),t.next=4,x({urlOptions:{placeHolders:{id:r.id}},body:a});case 4:(n=t.sent)&&"ok"===n.status?(Ye("".concat(k.baseURL).concat(n.icon)),Yt("Category Icon updated!")):Kt("Couldn't update category icon, Something went wrong");case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()(),Ne(!1)})),!1}function ft(e){return"image/jpeg"===e.type||"image/png"===e.type||Et.a.error("You can only upload JPG/PNG file!"),e.size/1024/1024<2||Et.a.error("Image must smaller than 2MB!"),bt(e,(function(t){ye(t),ge(e),function(){var t=Object(b.a)(p.a.mark((function t(){var a,n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(a=new FormData).append("thumbnail",e),t.next=4,T({urlOptions:{placeHolders:{id:r.id}},body:a});case 4:(n=t.sent)&&"ok"===n.status?Yt("Category Thumbnail updated!"):Kt("Couldn't update category Thumbnail, Something went wrong");case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()(),Ne(!1)})),!1}Object(o.useEffect)((function(){if(r&&Object.keys(r).length>0){var e=r.icon&&r.icon;me(e)}}),[]),Object(o.useEffect)((function(){if(r&&Object.keys(r).length>0){var e=null===r||void 0===r?void 0:r.parent;e&&(ne(e),W(!1))}}),[r]);var Ot=c.a.createElement("div",null,Ce?c.a.createElement(jt.a,null):c.a.createElement(ht.a,null),c.a.createElement("div",{className:"ant-upload-text"},"Upload"));return Object(o.useEffect)((function(){if(r&&Object.keys(r).length>0){var e=r.metaTags&&r.metaTags.split(",");console.log("localMetaTags",e);var t=r.bn&&r.bn.metaTags&&r.bn.metaTags.split(",");we(e||[]),Le(t||[])}}),[]),c.a.createElement(c.a.Fragment,null,c.a.createElement(v.a,{onSubmit:function(e,t){return ut(e,t)},validationSchema:qt,validateOnBlur:!1,enableReinitialize:!0,initialValues:Object(f.a)({},Jt,{},r,{},r&&Object.keys(r).length>0&&{bnMetaTitle:r.bn&&r.bn.metaTitle&&r.bn.metaTitle,bnMetaDescription:r.bn&&r.bn.metaDescription&&r.bn.metaDescription,bnName:r.bn&&r.bn.name&&r.bn.name,bnDescription:r.bn&&r.bn.description&&r.bn.description})},(function(e){var a=e.handleChange,n=e.values,r=e.handleSubmit,o=e.errors,l=(e.isValid,e.isSubmitting),s=e.touched,m=(e.handleBlur,e.setFieldTouched);e.handleReset;return c.a.createElement(c.a.Fragment,null,c.a.createElement("section",{className:"addProductGridContainer"},c.a.createElement("div",{className:"addProductGridContainer__left"},c.a.createElement("div",{className:"addProductGridContainer__name"},c.a.createElement("div",{className:"addProductGridContainer__item-header"},c.a.createElement("h3",null,"Category Information *"),c.a.createElement("div",{className:n.name&&n.name.length>2?"checkicon-active":"checkicon"},c.a.createElement(De.a,null))),c.a.createElement("div",{className:"addProductGridContainer__item-body"},c.a.createElement(C,{label:"Name *",value:n.name,placeHolder:"grocery,fashion",name:"name",isError:s.name&&o.name||!l&&u.error.error.name,errorString:s.name&&o.name||!l&&u.error.error.name,onChange:function(e){a(e),m("name")}}),c.a.createElement(C,{label:"BN Name",value:n.bnName,placeHolder:"\u09ae\u09c1\u09a6\u09bf\u0996\u09be\u09a8\u09be,\u09ab\u09cd\u09af\u09be\u09b6\u09a8",name:"bnName",isError:s.bnName&&o.bnName||!l&&u.error.error.bnName,errorString:s.bnName&&o.bnName||!l&&u.error.error.bnName,onChange:function(e){a(e),m("bnName")}}),c.a.createElement(wt,{label:"Description",value:n.description,placeholder:"This category...",name:"description",isError:s.description&&o.description||!l&&u.error.error.description,errorString:s.description&&o.description||!l&&u.error.error.description,onChange:function(e){a(e),m("description")}}),c.a.createElement(wt,{label:"BN Description",value:n.bnDescription,placeholder:"\u098f\u0987 \u0995\u09cd\u09af\u09be\u099f\u09be\u0997\u09dc\u09bf...",name:"bnDescription",isError:s.bnDescription&&o.bnDescription||!l&&u.error.error.bnDescription,errorString:s.bnDescription&&o.bnDescription||!l&&u.error.error.bnDescription,onChange:function(e){a(e),m("bnDescription")}}),c.a.createElement(C,{label:"Display Order",value:n.displayOrder,placeHolder:"1,3,7",name:"displayOrder",type:"number",isError:s.displayOrder&&o.displayOrder||!l&&u.error.error.displayOrder,errorString:s.displayOrder&&o.displayOrder||!l&&u.error.error.displayOrder,onChange:function(e){a(e),m("displayOrder")}}),c.a.createElement("div",{style:{marginTop:"25px"}}),c.a.createElement("div",{className:"switchLabelContainer"},c.a.createElement(vt.a,{checked:H,defaultChecked:!0,onChange:mt}),c.a.createElement("div",{className:"switchLabelContainer-textContainer"},c.a.createElement("h5",null,"Top level Category"),c.a.createElement("h5",{className:"switchLabelContainer-desc"},"Disable to select a Parent Category"))),!H&&c.a.createElement(c.a.Fragment,null,c.a.createElement("h3",{className:"inputFieldLabel"},"Parent Category"),c.a.createElement(Ge.a,{showSearch:!0,style:{width:300},placeholder:"Select a Parent Category",optionFilterProp:"children",value:ae,onChange:dt,filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0}},i&&i.length>0&&i.map((function(e){return c.a.createElement(Qt,{value:e.id},e.name)})))),c.a.createElement("div",{style:{marginTop:"20px"}}),c.a.createElement("div",{className:"addproductSection-left-header"},c.a.createElement("h3",{className:"inputFieldLabel"},"Icon "),c.a.createElement(pt.a,{placement:"left",title:"Add Icon image for this category"},c.a.createElement("a",{href:"###"},c.a.createElement(Ct.a,null)))),c.a.createElement(yt.a,{style:{borderRadius:"8px"},name:"avatar",listType:"picture-card",className:"avatar-uploader",showUploadList:!1,beforeUpload:gt,multiple:!1},ue?c.a.createElement("img",{src:ue,alt:"avatar",style:{width:"100%"}}):Ot),c.a.createElement("div",{style:{marginTop:"20px"}}),c.a.createElement("div",{className:"addproductSection-left-header"},c.a.createElement("h3",{className:"inputFieldLabel"},"Thumbnail"),c.a.createElement(pt.a,{placement:"left",title:"Add thumbnail image for this category"},c.a.createElement("a",{href:"###"},c.a.createElement(Ct.a,null)))),c.a.createElement(yt.a,{style:{borderRadius:"8px"},name:"avatar",listType:"picture-card",className:"avatar-uploader",showUploadList:!1,beforeUpload:ft,multiple:!1},ve?c.a.createElement("img",{src:ve,alt:"avatar",style:{width:"100%"}}):Ot))),c.a.createElement("div",{className:"addProductGridContainer__image"},c.a.createElement("div",{className:"addProductGridContainer__item-header"},c.a.createElement("h3",null,"Image"),c.a.createElement(pt.a,{placement:"left",title:"Click on the image to select cover image, By default 1st image is selected as cover"},c.a.createElement("a",{href:"###"},c.a.createElement(Ct.a,null)))),c.a.createElement("div",{style:{padding:"10px"},className:"aboutToUploadImagesContainer"},y.isLoading&&c.a.createElement("div",{style:{padding:"20px 0"}},c.a.createElement(Re.a,null)),y.done&&c.a.createElement(c.a.Fragment,null,R&&R.length>0&&R.map((function(e,t){return c.a.createElement("div",{className:"aboutToUploadImagesContainer__item"},c.a.createElement("div",{className:"aboutToUploadImagesContainer__item-imgContainer",onClick:function(){Ve(e.id),st(e)}},c.a.createElement("img",{src:e.cover,alt:e.alt})),c.a.createElement("span",{onClick:function(){!function(e){var t=R&&R.filter((function(t){return t.id!==e}));F(t)}(e.id),lt(e.id)},className:"aboutToUploadImagesContainer__item-remove"},c.a.createElement(Nt.a,null)),(Be===e.id||!Be&&0===t)&&c.a.createElement("span",{className:"aboutToUploadImagesContainer__item-cover"},c.a.createElement(xt.a,null)))})),c.a.createElement(pt.a,{title:"Attach images"},c.a.createElement("div",{onClick:function(){L(!0),$(!0),J(!1)},className:"aboutToUploadImagesContainer__uploadItem"},c.a.createElement(kt.a,null),c.a.createElement("span",{className:"aboutToUploadImagesContainer__uploadItem-plus"},c.a.createElement(ht.a,null)))))))),c.a.createElement("div",{className:"addProductGridContainer__right"},c.a.createElement("div",{className:"addProductGridContainer__category"},c.a.createElement("div",{className:"addProductGridContainer-rightItemContainer"},c.a.createElement("div",{className:"addProductGridContainer-rightItemContainer-header"},c.a.createElement("h3",null,"Meta Tags"),c.a.createElement(pt.a,{placement:"left",title:"Meta data will be used to make the user's easy and for search engine optimization."},c.a.createElement("a",{href:"###"},c.a.createElement(Ct.a,null)))),c.a.createElement("div",{className:"addProductGridContainer-rightItemContainer-body"},c.a.createElement(C,{label:"Meta title",value:n.metaTitle,placeHolder:"...",name:"metaTitle",isError:s.metaTitle&&o.metaTitle||!l&&u.error.error.metaTitle,errorString:s.metaTitle&&o.metaTitle||!l&&u.error.error.metaTitle,onChange:function(e){a(e),m("metaTitle")}}),c.a.createElement(C,{label:"BN Meta title",value:n.bnMetaTitle,placeHolder:"...",name:"bnMetaTitle",isError:s.bnMetaTitle&&o.bnMetaTitle||!l&&u.error.error.bnMetaTitle,errorString:s.bnMetaTitle&&o.bnMetaTitle||!l&&u.error.error.bnMetaTitle,onChange:function(e){a(e),m("bnMetaTitle")}}),c.a.createElement(wt,{label:"Meta description",value:n.metaDescription,placeholder:"meta...",name:"metaDescription",isError:s.metaDescription&&o.metaDescription||!l&&u.error.error.metaDescription,errorString:s.metaDescription&&o.metaDescription||!l&&u.error.error.metaDescription,onChange:function(e){a(e),m("metaDescription")}}),c.a.createElement(wt,{label:"BN Meta Description",value:n.bnMetaDescription,placeholder:"\u098f\u0987\u09df \u09ae\u09c7\u099f...",name:"bnMetaDescription",isError:s.bnMetaDescription&&o.bnMetaDescription||!l&&u.error.error.bnMetaDescription,errorString:s.bnMetaDescription&&o.bnMetaDescription||!l&&u.error.error.bnMetaDescription,onChange:function(e){a(e),m("bnMetaDescription")}}),c.a.createElement("h3",{className:"inputFieldLabel"},"Meta Tags "),c.a.createElement(Wt,{setTags:we,tags:Se}),c.a.createElement("div",{style:{marginTop:"15px"}}),c.a.createElement("h3",{className:"inputFieldLabel"},"BN Meta Tags "),c.a.createElement(Wt,{setTags:Le,tags:Ie})))))),c.a.createElement("div",{style:{padding:"15px",display:"flex",justifyContent:"flex-end"}},c.a.createElement(E.a,{style:{color:"#555",marginRight:"10px"},className:"btnPrimaryClassNameoutline-cancle",onClick:function(){return t(!1)},type:"default"},"Cancel"),c.a.createElement(E.a,{className:"btnPrimaryClassNameoutline",onClick:r,loading:u.isLoading,type:"link",icon:c.a.createElement(xt.a,null)},"Update")),c.a.createElement(Vt,{setvisible:L,visible:I,setmyImages:F,myImages:R,setmyThumbnailImage:V,isModalOpenForThumbnail:K,isModalOpenForImages:Z}))})))},Zt=function(e){var t=e.addNewCategoryVisible,a=e.setAddNewCategoryVisible,n=e.categoryList,r=e.setcategoryList,i=e.categoryDetailData,o=e.categoryList2;return c.a.createElement(Ot.a,{destroyOnClose:!0,style:{top:"40px"},bodyStyle:{margin:0,padding:0},title:"Edit Category",visible:t,onCancel:function(){a(!1)},footer:!1,okText:"Update",width:"70vw",okButtonProps:{htmlType:"submit"}},c.a.createElement(Xt,{addNewCategoryVisible:t,setAddNewCategoryVisible:a,categoryList:n,setcategoryList:r,categoryDetailData:i,categoryList2:o}))},$t=a(469),ea=function(e){return c.a.createElement($t.a,Object.assign({speed:.5,width:1300,height:400,viewBox:"0 0 1300 400",backgroundColor:"#f3f3f3",foregroundColor:"#ecebeb"},e),c.a.createElement("rect",{x:"27",y:"139",rx:"4",ry:"4",width:"20",height:"20"}),c.a.createElement("rect",{x:"67",y:"140",rx:"10",ry:"10",width:"85",height:"19"}),c.a.createElement("rect",{x:"188",y:"141",rx:"10",ry:"10",width:"169",height:"19"}),c.a.createElement("rect",{x:"402",y:"140",rx:"10",ry:"10",width:"85",height:"19"}),c.a.createElement("rect",{x:"523",y:"141",rx:"10",ry:"10",width:"169",height:"19"}),c.a.createElement("rect",{x:"731",y:"139",rx:"10",ry:"10",width:"85",height:"19"}),c.a.createElement("rect",{x:"852",y:"138",rx:"10",ry:"10",width:"85",height:"19"}),c.a.createElement("rect",{x:"1424",y:"137",rx:"10",ry:"10",width:"68",height:"19"}),c.a.createElement("rect",{x:"26",y:"196",rx:"4",ry:"4",width:"20",height:"20"}),c.a.createElement("rect",{x:"66",y:"197",rx:"10",ry:"10",width:"85",height:"19"}),c.a.createElement("rect",{x:"187",y:"198",rx:"10",ry:"10",width:"169",height:"19"}),c.a.createElement("rect",{x:"401",y:"197",rx:"10",ry:"10",width:"85",height:"19"}),c.a.createElement("rect",{x:"522",y:"198",rx:"10",ry:"10",width:"169",height:"19"}),c.a.createElement("rect",{x:"730",y:"196",rx:"10",ry:"10",width:"85",height:"19"}),c.a.createElement("rect",{x:"851",y:"195",rx:"10",ry:"10",width:"85",height:"19"}),c.a.createElement("circle",{cx:"1456",cy:"203",r:"12"}),c.a.createElement("rect",{x:"26",y:"258",rx:"4",ry:"4",width:"20",height:"20"}),c.a.createElement("rect",{x:"66",y:"259",rx:"10",ry:"10",width:"85",height:"19"}),c.a.createElement("rect",{x:"187",y:"260",rx:"10",ry:"10",width:"169",height:"19"}),c.a.createElement("rect",{x:"401",y:"259",rx:"10",ry:"10",width:"85",height:"19"}),c.a.createElement("rect",{x:"522",y:"260",rx:"10",ry:"10",width:"169",height:"19"}),c.a.createElement("rect",{x:"730",y:"258",rx:"10",ry:"10",width:"85",height:"19"}),c.a.createElement("rect",{x:"851",y:"257",rx:"10",ry:"10",width:"85",height:"19"}),c.a.createElement("circle",{cx:"1456",cy:"265",r:"12"}),c.a.createElement("rect",{x:"26",y:"316",rx:"4",ry:"4",width:"20",height:"20"}),c.a.createElement("rect",{x:"66",y:"317",rx:"10",ry:"10",width:"85",height:"19"}),c.a.createElement("rect",{x:"187",y:"318",rx:"10",ry:"10",width:"169",height:"19"}),c.a.createElement("rect",{x:"401",y:"317",rx:"10",ry:"10",width:"85",height:"19"}),c.a.createElement("rect",{x:"522",y:"318",rx:"10",ry:"10",width:"169",height:"19"}),c.a.createElement("rect",{x:"730",y:"316",rx:"10",ry:"10",width:"85",height:"19"}),c.a.createElement("rect",{x:"851",y:"315",rx:"10",ry:"10",width:"85",height:"19"}),c.a.createElement("circle",{cx:"1456",cy:"323",r:"12"}),c.a.createElement("rect",{x:"26",y:"379",rx:"4",ry:"4",width:"20",height:"20"}),c.a.createElement("rect",{x:"66",y:"380",rx:"10",ry:"10",width:"85",height:"19"}),c.a.createElement("rect",{x:"187",y:"381",rx:"10",ry:"10",width:"169",height:"19"}),c.a.createElement("rect",{x:"401",y:"380",rx:"10",ry:"10",width:"85",height:"19"}),c.a.createElement("rect",{x:"522",y:"381",rx:"10",ry:"10",width:"169",height:"19"}),c.a.createElement("rect",{x:"730",y:"379",rx:"10",ry:"10",width:"85",height:"19"}),c.a.createElement("rect",{x:"851",y:"378",rx:"10",ry:"10",width:"85",height:"19"}),c.a.createElement("circle",{cx:"1456",cy:"386",r:"12"}),c.a.createElement("rect",{x:"978",y:"138",rx:"10",ry:"10",width:"169",height:"19"}),c.a.createElement("rect",{x:"977",y:"195",rx:"10",ry:"10",width:"169",height:"19"}),c.a.createElement("rect",{x:"977",y:"257",rx:"10",ry:"10",width:"169",height:"19"}),c.a.createElement("rect",{x:"977",y:"315",rx:"10",ry:"10",width:"169",height:"19"}),c.a.createElement("rect",{x:"977",y:"378",rx:"10",ry:"10",width:"169",height:"19"}),c.a.createElement("rect",{x:"1183",y:"139",rx:"10",ry:"10",width:"85",height:"19"}),c.a.createElement("rect",{x:"1182",y:"196",rx:"10",ry:"10",width:"85",height:"19"}),c.a.createElement("rect",{x:"1182",y:"258",rx:"10",ry:"10",width:"85",height:"19"}),c.a.createElement("rect",{x:"1182",y:"316",rx:"10",ry:"10",width:"85",height:"19"}),c.a.createElement("rect",{x:"1182",y:"379",rx:"10",ry:"10",width:"85",height:"19"}),c.a.createElement("rect",{x:"1305",y:"137",rx:"10",ry:"10",width:"85",height:"19"}),c.a.createElement("rect",{x:"1304",y:"194",rx:"10",ry:"10",width:"85",height:"19"}),c.a.createElement("rect",{x:"1304",y:"256",rx:"10",ry:"10",width:"85",height:"19"}),c.a.createElement("rect",{x:"1304",y:"314",rx:"10",ry:"10",width:"85",height:"19"}),c.a.createElement("rect",{x:"1304",y:"377",rx:"10",ry:"10",width:"85",height:"19"}),c.a.createElement("circle",{cx:"37",cy:"97",r:"11"}),c.a.createElement("rect",{x:"26",y:"23",rx:"5",ry:"5",width:"153",height:"30"}),c.a.createElement("circle",{cx:"1316",cy:"88",r:"11"}),c.a.createElement("rect",{x:"1337",y:"94",rx:"0",ry:"0",width:"134",height:"3"}),c.a.createElement("circle",{cx:"77",cy:"96",r:"11"}))};ea.metadata={name:"Mohd Arif Un",github:"arif-un",description:"Data Table skeleton",filename:"DataTable"};var ta=ea,aa=ot.a.Column,na=O.a.Search,ra=function(e){var t=e.data,a=e.setcategoryList,n=e.history,r=e.roles,i=e.data2;console.log("categoryList22222",i);var l=Object(o.useState)(!1),s=Object(g.a)(l,2),u=s[0],m=s[1],d=Object(o.useState)(!1),f=Object(g.a)(d,2),h=f[0],E=f[1],v=U({},"deleteCategory"),y=Object(g.a)(v,2),O=(y[0],y[1]),j=function(){var e=Object(b.a)(p.a.mark((function e(n){var r,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O({urlOptions:{placeHolders:{id:n}}});case 2:(r=e.sent)&&"ok"===r.status&&(o="Deleted Category",Me.a.success({message:o||"Category Created",description:"",icon:c.a.createElement(De.a,{style:{color:"rgba(0, 128, 0, 0.493)"}})}),i=t.filter((function(e){return e.id!==n})),a(i));case 4:case"end":return e.stop()}var o}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(e){return e.cover?e.cover:!e.cover&&e.icon?e.icon:""};return console.log("catshit",i),c.a.createElement(c.a.Fragment,null,c.a.createElement(ot.a,{style:{paddingTop:"10px",borderRadius:"5px !important",overflow:"hidden",boxShadow:"0 0.125rem 0.625rem rgba(227, 231, 250, 0.3), 0 0.0625rem 0.125rem rgba(206, 220, 233, 0.4)"},size:"small",dataSource:t,tableLayout:"auto",onHeaderRow:function(e){return{style:{color:"red !important"}}}},c.a.createElement(aa,{title:"",dataIndex:"cover",key:"id",width:"80px",className:"classnameofthecolumn",render:function(e,t){return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"listCoverImage",onClick:function(){n.push("/admin/category/".concat(t.id)),E(t)}},c.a.createElement("img",{src:C(t),alt:""})))}}),c.a.createElement(aa,{title:"Name",dataIndex:"name",key:"id",className:"classnameofthecolumn",render:function(e,t){return c.a.createElement(c.a.Fragment,null,c.a.createElement("h4",{onClick:function(){n.push("/admin/category/".concat(t.id)),E(t)},style:{fontWeight:400,color:"#555",cursor:"pointer"}},e))}}),c.a.createElement(aa,{title:"Sub Cateogory",dataIndex:"subCount",key:"id",className:"classnameofthecolumn"}),c.a.createElement(aa,{title:"Product",dataIndex:"productCount",key:"id",className:"classnameofthecolumn"}),D("postCatalogue",r)&&c.a.createElement(aa,{className:"classnameofthecolumn",title:"",key:"action",align:"right",render:function(e,t){return c.a.createElement(dt.a,{size:"middle"},c.a.createElement("a",{href:"##"},c.a.createElement(pt.a,{placement:"top",title:"Edit Category"},c.a.createElement("span",{className:"iconSize",onClick:function(){m(!0),E(t)}},c.a.createElement(gt.a,null)))),c.a.createElement(bt.a,{onConfirm:function(){return j(t.id)},title:"Are you sure\uff1f",okText:"Yes",cancelText:"No"},c.a.createElement("span",{className:"iconSize iconSize-danger"},c.a.createElement(ft.a,null))))}})),h&&c.a.createElement(Zt,{categoryDetailData:h,setcategoryList:a,categoryList:t,setAddNewCategoryVisible:m,addNewCategoryVisible:u,categoryList2:i}))},ia=Object(u.b)((function(e){return{roles:e.globalState}}),null)(Object(_e.i)((function(e){var t=e.history,a=e.roles,n=U({},"categoryList"),r=Object(g.a)(n,2),i=r[0],l=r[1],s=Object(o.useState)([]),u=Object(g.a)(s,2),m=u[0],d=u[1],f=Object(o.useState)([]),h=Object(g.a)(f,2),v=h[0],y=h[1];Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l({urlOptions:{params:{isSubCategory:!0,productCountValue:!0,sortItem:"added",sortOrderValue:"-1",limitNumber:5e6}}});case 2:t=e.sent,d(t),y(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var O=Object(o.useState)(!1),j=Object(g.a)(O,2),C=j[0],N=j[1];return console.log("categoryList22",v),c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"categoryListContainer"},c.a.createElement("div",{className:"categoryListContainer__header"},c.a.createElement("div",{className:"categoryListContainer__header-searchBar"},c.a.createElement("h2",{className:"categoryListContainer__header-title"},"Categories"),c.a.createElement(na,{enterButton:!1,className:"searchbarClassName",placeholder:"search categories..",onChange:function(e){return function(e){if(i.data.length>0){var t=i.data.filter((function(t){var a;return!!t.name.toLowerCase().includes(e.toLowerCase())||!!(t.subCategory&&t.subCategory.length>0&&t.subCategory[0]&&(null===(a=t.subCategory[0].name)||void 0===a?void 0:a.toLowerCase().includes(null===e||void 0===e?void 0:e.toLowerCase())))}));d(t)}}(e.target.value)}})),D("postCatalogue",a)&&c.a.createElement(E.a,{className:"btnPrimaryClassNameoutline",icon:c.a.createElement(ht.a,null),onClick:function(){N(!0)}},"Add New")),c.a.createElement("div",{className:"categoryListContainer__afterHeader"}),c.a.createElement("div",{className:"categoryListContainer__categoryList"},i.done&&m.length>0&&c.a.createElement(ra,{roles:a,history:t,setcategoryList:d,data:m,data2:v}),i.isLoading&&c.a.createElement(ta,null),i.done&&!(m.length>0)&&c.a.createElement("div",{style:{marginTop:"50px"}},c.a.createElement(Te,{title:"No Category found"})))),i.done&&c.a.createElement(ua,{addNewCategoryVisible:C,setAddNewCategoryVisible:N,categoryList:m,setcategoryList:d,categoryList2:v}))}))),oa=y.a().shape({}),ca=function(e){Me.a.error({message:e||"Something Went Wrong",description:"",icon:c.a.createElement(De.a,{style:{color:"rgb(241, 67, 67)"}})})},la={name:"",bnName:"",description:"",bnDescription:"",metaTitle:"",bnMetaTitle:"",metaDescription:"",bnMetaDescription:"",metaTags:"",bnMetaTags:"",image:[],url:"",cover:"",displayOrder:null},sa=Ge.a.Option,ua=function(e){var t=e.addNewCategoryVisible,a=e.setAddNewCategoryVisible,n=e.categoryList,r=e.setcategoryList,i=e.categoryList2,l=U({},"addCategory","form"),s=Object(g.a)(l,2),u=s[0],m=s[1],d=Object(o.useState)(!1),h=Object(g.a)(d,2),E=h[0],y=h[1],O=Object(o.useState)(!1),j=Object(g.a)(O,2),N=j[0],x=j[1],k=Object(o.useState)(!1),S=Object(g.a)(k,2),w=(S[0],S[1]),T=Object(o.useState)(!0),_=Object(g.a)(T,2),D=_[0],I=_[1],L=Object(o.useState)(!1),P=Object(g.a)(L,2),M=P[0],R=P[1],F=Object(o.useState)(!1),A=Object(g.a)(F,2),B=A[0],V=A[1],G=Object(o.useState)(""),z=Object(g.a)(G,2),H=z[0],W=z[1],q=Object(o.useState)(""),Y=Object(g.a)(q,2),K=Y[0],J=Y[1],Q=Object(o.useState)(""),X=Object(g.a)(Q,2),Z=X[0],$=X[1],ee=Object(o.useState)(""),te=Object(g.a)(ee,2),ae=te[0],ne=te[1],re=Object(o.useState)(!1),ie=Object(g.a)(re,2),oe=ie[0],ce=ie[1],le=Object(o.useState)(""),se=Object(g.a)(le,2),ue=se[0],me=se[1],de=Object(o.useState)(""),pe=Object(g.a)(de,2),be=pe[0],ge=pe[1],he=Object(o.useState)([]),Ee=Object(g.a)(he,2),ve=Ee[0],ye=Ee[1],Oe=Object(o.useState)([]),je=Object(g.a)(Oe,2),Ce=je[0],Ne=je[1],xe=function(){var e=Object(b.a)(p.a.mark((function e(t,i){var o,l,s,u,d,b,g,h;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=N?N.map((function(e){return e.id})):[],u=new FormData,d={metaTitle:t.bnMetaTitle,metaDescription:t.bnMetaDescription,metaTags:Ce.join(","),name:null===(o=t.bnName)||void 0===o?void 0:o.trim(),description:t.bnDescription},u.append("name",null===(l=t.name)||void 0===l?void 0:l.trim()),u.append("description",t.description),u.append("image",JSON.stringify(s)),u.append("cover",H||s[0]?s[0]:""),u.append("parent",K),u.append("icon",ue),u.append("thumbnail",be),u.append("metaTitle",t.metaTitle),u.append("displayOrder",t.displayOrder),u.append("metaDescription",t.metaDescription),u.append("metaTags",ve),b=JSON.stringify(d),(g=new FormData).append("bn",b),u.append("bn",g.get("bn")),console.log("addcategoryREsBody",Object(f.a)({},u)),e.next=21,m({body:u});case 21:(h=e.sent)&&"ok"===h.status?(p="Category Created!",Me.a.success({message:p||"Category Updated",description:"",icon:c.a.createElement(De.a,{style:{color:"rgba(0, 128, 0, 0.493)"}})}),a(!1),r([Object(f.a)({id:h._id||"",key:h._id||"",name:h.name||"",description:h.description||"",cover:h.cover||""},h)].concat(Object(fe.a)(n))),i.resetForm(),x([]),W(""),J(""),I(!0),$(""),ne("")):ca(),i.setSubmitting(!1);case 24:case"end":return e.stop()}var p}),e)})));return function(t,a){return e.apply(this,arguments)}}();console.log("addCategoryState",u),Object(o.useEffect)((function(){if(!u.isLoading){var e=u.error;if(e.isError&&Object.keys(e.error).length>0)(Object.values(e.error).length>0?Object.values(e.error):[]).forEach((function(e,t){if("string"===typeof e)ca(e);else if("object"===typeof e){if(e&&Object.keys(e).length>0)Object.values(e).forEach((function(e){ca(e)}))}}))}}),[u]);var ke=function(e){I(e)},Se=function(e){a(!1)},we=function(e){J(e)};function Te(e,t){var a=new FileReader;a.addEventListener("load",(function(){return t(a.result)})),a.readAsDataURL(e)}function _e(e){return"image/jpeg"===e.type||"image/png"===e.type||Et.a.error("You can only upload JPG/PNG file!"),e.size/1024/1024<2||Et.a.error("Image must smaller than 2MB!"),Te(e,(function(t){$(t),me(e),ce(!1)})),!1}function Ie(e){return"image/jpeg"===e.type||"image/png"===e.type||Et.a.error("You can only upload JPG/PNG file!"),e.size/1024/1024<2||Et.a.error("Image must smaller than 2MB!"),Te(e,(function(t){ne(t),ge(e),ce(!1)})),!1}var Le=c.a.createElement("div",null,oe?c.a.createElement(jt.a,null):c.a.createElement(ht.a,null),c.a.createElement("div",{className:"ant-upload-text"},"Upload"));return c.a.createElement(v.a,{onSubmit:function(e,t){return xe(e,t)},validationSchema:oa,validateOnBlur:!1,enableReinitialize:!0,initialValues:Object(f.a)({},la)},(function(e){var a=e.handleChange,n=e.values,r=e.handleSubmit,o=e.errors,l=(e.isValid,e.isSubmitting),s=e.touched,m=(e.handleBlur,e.setFieldTouched);e.handleReset;return c.a.createElement(c.a.Fragment,null,c.a.createElement(Ot.a,{style:{top:"40px"},title:"Add New Category",visible:t,onOk:function(e){return r(e)},onCancel:Se,okText:"Create",okButtonProps:{loading:l,htmlType:"submit"}},c.a.createElement(C,{label:"Name *",value:n.name,placeHolder:"",name:"name",isError:s.name&&o.name||!l&&u.error.error.name,errorString:s.name&&o.name||!l&&u.error.error.name,onChange:function(e){a(e),m("name")}}),c.a.createElement(C,{label:"BN Name",value:n.bnName,placeHolder:"",name:"bnName",isError:s.bnName&&o.bnName||!l&&u.error.error.bnName,errorString:s.bnName&&o.bnName||!l&&u.error.error.bnName,onChange:function(e){a(e),m("bnName")}}),c.a.createElement(wt,{label:"Description",value:n.description,placeholder:"This category...",name:"description",isError:s.description&&o.description||!l&&u.error.error.description,errorString:s.description&&o.description||!l&&u.error.error.description,onChange:function(e){a(e),m("description")}}),c.a.createElement(wt,{label:"BN Description",value:n.bnDescription,placeholder:"\u098f\u0987 \u0995\u09cd\u09af\u09be\u099f\u09be\u0997\u09dc\u09bf...",name:"bnDescription",isError:s.bnDescription&&o.bnDescription||!l&&u.error.error.bnDescription,errorString:s.bnDescription&&o.bnDescription||!l&&u.error.error.bnDescription,onChange:function(e){a(e),m("bnDescription")}}),c.a.createElement(C,{label:"Display Order",value:n.displayOrder,placeHolder:"1,3,7",name:"displayOrder",type:"number",isError:s.displayOrder&&o.displayOrder||!l&&u.error.error.displayOrder,errorString:s.displayOrder&&o.displayOrder||!l&&u.error.error.displayOrder,onChange:function(e){a(e),m("displayOrder")}}),c.a.createElement("div",{style:{marginTop:"25px"}}),c.a.createElement("div",{className:"switchLabelContainer"},c.a.createElement(vt.a,{checked:D,defaultChecked:!0,onChange:ke}),c.a.createElement("div",{className:"switchLabelContainer-textContainer"},c.a.createElement("h5",null,"Top level Category"),c.a.createElement("h5",{className:"switchLabelContainer-desc"},"Disable to select a Parent Category"))),!D&&c.a.createElement(c.a.Fragment,null,c.a.createElement("h3",{className:"inputFieldLabel"},"Parent Category"),c.a.createElement(Ge.a,{showSearch:!0,style:{width:300},placeholder:"Select a Parent Category",optionFilterProp:"children",onChange:we,filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0}},i.length>0&&i.map((function(e){return c.a.createElement(sa,{value:e.id},e.name)})))),c.a.createElement("div",{style:{marginTop:"20px"}}),c.a.createElement("div",{className:"addproductSection-left-header"},c.a.createElement("h3",{className:"inputFieldLabel"},"Icon "),c.a.createElement(pt.a,{placement:"left",title:"Add Icon image for this category"},c.a.createElement("a",{href:"###"},c.a.createElement(Ct.a,null)))),c.a.createElement(yt.a,{style:{borderRadius:"8px"},name:"avatar",listType:"picture-card",className:"avatar-uploader",showUploadList:!1,beforeUpload:_e,multiple:!1},Z?c.a.createElement("img",{src:Z,alt:"avatar",style:{width:"100%"}}):Le),c.a.createElement("div",{style:{marginTop:"20px"}}),c.a.createElement("div",{className:"addproductSection-left-header"},c.a.createElement("h3",{className:"inputFieldLabel"},"Thumbnail"),c.a.createElement(pt.a,{placement:"left",title:"Add thumbnail image for this category"},c.a.createElement("a",{href:"###"},c.a.createElement(Ct.a,null)))),c.a.createElement(yt.a,{style:{borderRadius:"8px"},name:"avatar",listType:"picture-card",className:"avatar-uploader",showUploadList:!1,beforeUpload:Ie,multiple:!1},ae?c.a.createElement("img",{src:ae,alt:"avatar",style:{width:"100%"}}):Le),c.a.createElement("div",{style:{marginTop:"10px"}}),c.a.createElement("div",{className:"addproductSection-left-header",style:{marginBottom:"-5px"}},c.a.createElement("h3",{className:"inputFieldLabel"},"Images"),c.a.createElement(pt.a,{placement:"left",title:"Click on the image to select cover image, By default 1st image is selected as cover"},c.a.createElement("a",{href:"###"},c.a.createElement(Ct.a,null)))),c.a.createElement("div",{className:"aboutToUploadImagesContainer"},N&&N.length>0&&N.map((function(e,t){return c.a.createElement("div",{className:"aboutToUploadImagesContainer__item"},c.a.createElement("div",{className:"aboutToUploadImagesContainer__item-imgContainer",onClick:function(){return W(e.id)}},c.a.createElement("img",{src:e.cover,alt:e.alt})),c.a.createElement("span",{onClick:function(){return function(e){var t=N&&N.filter((function(t){return t.id!==e}));x(t)}(e.id)},className:"aboutToUploadImagesContainer__item-remove"},c.a.createElement(Nt.a,null)),(H===e.id||!H&&0===t)&&c.a.createElement("span",{className:"aboutToUploadImagesContainer__item-cover"},c.a.createElement(xt.a,null)))})),c.a.createElement(pt.a,{title:"Attach images"},c.a.createElement("div",{onClick:function(){y(!0),V(!0),R(!1)},className:"aboutToUploadImagesContainer__uploadItem"},c.a.createElement(kt.a,null),c.a.createElement("span",{className:"aboutToUploadImagesContainer__uploadItem-plus"},c.a.createElement(ht.a,null))))),c.a.createElement(C,{label:"Meta title",value:n.metaTitle,placeHolder:"...",name:"metaTitle",isError:s.metaTitle&&o.metaTitle||!l&&u.error.error.metaTitle,errorString:s.metaTitle&&o.metaTitle||!l&&u.error.error.metaTitle,onChange:function(e){a(e),m("metaTitle")}}),c.a.createElement(C,{label:"BN Meta title",value:n.bnMetaTitle,placeHolder:"...",name:"bnMetaTitle",isError:s.bnMetaTitle&&o.bnMetaTitle||!l&&u.error.error.bnMetaTitle,errorString:s.bnMetaTitle&&o.bnMetaTitle||!l&&u.error.error.bnMetaTitle,onChange:function(e){a(e),m("bnMetaTitle")}}),c.a.createElement(wt,{label:"Meta description",value:n.metaDescription,placeholder:"meta...",name:"metaDescription",isError:s.metaDescription&&o.metaDescription||!l&&u.error.error.metaDescription,errorString:s.metaDescription&&o.metaDescription||!l&&u.error.error.metaDescription,onChange:function(e){a(e),m("metaDescription")}}),c.a.createElement(wt,{label:"BN Meta Description",value:n.bnMetaDescription,placeholder:"\u098f\u0987\u09df \u09ae\u09c7\u099f...",name:"bnMetaDescription",isError:s.bnMetaDescription&&o.bnMetaDescription||!l&&u.error.error.bnMetaDescription,errorString:s.bnMetaDescription&&o.bnMetaDescription||!l&&u.error.error.bnMetaDescription,onChange:function(e){a(e),m("bnMetaDescription")}}),c.a.createElement("h3",{className:"inputFieldLabel"},"Meta Tags"),c.a.createElement(Wt,{setTags:ye,tags:ve}),c.a.createElement("div",{style:{marginTop:"15px"}}),c.a.createElement("h3",{className:"inputFieldLabel"},"BN Meta Tags"),c.a.createElement(Wt,{setTags:Ne,tags:Ce})),c.a.createElement(Vt,{setvisible:y,visible:E,setmyImages:x,myImages:N,setmyThumbnailImage:w,isModalOpenForThumbnail:M,isModalOpenForImages:B}))}))},ma=(y.a().shape({name:y.c().label("Name").required("Name is required").min(3,"Name must have at least 3 characters")}),a(901)),da=y.a().shape({}),pa=function(e){Me.a.success({message:e||"Category Updated",description:"",icon:c.a.createElement(De.a,{style:{color:"rgba(0, 128, 0, 0.493)"}})})},ba=function(e){Me.a.error({message:e||"Something Went Wrong",description:"",icon:c.a.createElement(De.a,{style:{color:"rgb(241, 67, 67)"}})})},ga={name:"",bnName:"",description:"",bnDescription:"",metaTitle:"",bnMetaTitle:"",metaDescription:"",bnMetaDescription:"",metaTags:"",bnMetaTags:"",image:[],url:"",cover:"",displayOrder:null},fa=Ge.a.Option,ha=function(e){var t=e.setAddNewCategoryVisible,a=e.categoryList,n=e.categoryDetailData,r=e.setcategoryDetailData,i=U({},"updateCategory"),l=Object(g.a)(i,2),s=l[0],u=l[1],m=U({},"categoryDetail"),d=Object(g.a)(m,2),h=d[0],y=d[1],O=U({},"categoryUpdateIcon","form"),j=Object(g.a)(O,2),N=(j[0],j[1]),x=U({},"categoryUpdateThumbnail","form"),S=Object(g.a)(x,2),w=(S[0],S[1]),T=Object(o.useState)(!1),_=Object(g.a)(T,2),D=_[0],I=_[1],L=Object(o.useState)(!1),P=Object(g.a)(L,2),M=P[0],R=P[1],F=Object(o.useState)(!1),A=Object(g.a)(F,2),B=(A[0],A[1]),V=Object(o.useState)(!0),G=Object(g.a)(V,2),z=G[0],H=G[1],W=Object(o.useState)(!1),q=Object(g.a)(W,2),Y=q[0],K=q[1],J=Object(o.useState)(!1),Q=Object(g.a)(J,2),X=Q[0],Z=Q[1],$=Object(o.useState)(""),ee=Object(g.a)($,2),te=ee[0],ae=ee[1],ne=Object(o.useState)(""),re=Object(g.a)(ne,2),ie=re[0],oe=re[1],ce=Object(o.useState)(!1),le=Object(g.a)(ce,2),se=le[0],ue=le[1],me=Object(o.useState)(""),de=Object(g.a)(me,2),pe=de[0],be=de[1],ge=Object(o.useState)(""),he=Object(g.a)(ge,2),Ee=he[0],ve=he[1],ye=Object(o.useState)(""),Oe=Object(g.a)(ye,2),je=Oe[0],Ce=Oe[1],Ne=Object(o.useState)([]),xe=Object(g.a)(Ne,2),ke=xe[0],Se=xe[1],we=Object(o.useState)([]),Te=Object(g.a)(we,2),_e=Te[0],Ie=Te[1],Le=Object(o.useState)(!1),Pe=Object(g.a)(Le,2),Me=(Pe[0],Pe[1],Object(o.useState)("")),Fe=Object(g.a)(Me,2),Ae=Fe[0],Be=Fe[1],Ve=Object(o.useState)([]),Ue=Object(g.a)(Ve,2),ze=(Ue[0],Ue[1],Object(o.useState)("")),He=Object(g.a)(ze,2),We=He[0],qe=He[1],Ye=U({},"attachImageToItemMultiple"),Ke=Object(g.a)(Ye,2),Je=(Ke[0],Ke[1]),Qe=U({},"attachImageToItemSingle"),Xe=Object(g.a)(Qe,2),Ze=(Xe[0],Xe[1]),$e=U({},"detachImageFromItemMultiple"),et=Object(g.a)($e,2),tt=(et[0],et[1],U({},"detachImageFromItemSingle")),at=Object(g.a)(tt,2),nt=(at[0],at[1]),rt=U({},"setImageAsThumbnailToItem"),it=Object(g.a)(rt,2),ot=(it[0],it[1]);Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y({urlOptions:{placeHolders:{id:n.id}}});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[n]),Object(o.useEffect)((function(){if(h.done&&Object.keys(h).length>0){var e=h.data.image,t=[];if(e&&e.length>0&&(t=e),h.data.cover&&h.data.cover.id)e.find((function(e){return e.id===h.data.cover.id}))||(t=[h.data.cover].concat(Object(fe.a)(t))),Be(h.data.cover.id);R(t)}}),[h.done]),Object(o.useEffect)((function(){console.log("thumnail",M),M&&M[0]&&M.length<2&&(console.log("thumnail2",M),Ae!==M[0].id&&(Be(M[0].id),lt(M[0])))}),[M]);var ct=function(){var e=Object(b.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nt({urlOptions:{placeHolders:{imageId:t,collection:"category",itemId:n.id}}});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),lt=function(){var e=Object(b.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ot({urlOptions:{placeHolders:{imageId:t.id,collection:"category",itemId:n.id}}});case 2:(a=e.sent)&&"ok"===a.status?pa("Set as thumbnail!"):ba("Couldn't set as thumbnail, Something went wrong");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),st=function(){var e=Object(b.a)(p.a.mark((function e(a,i){var o,c,l,s,m,d,b;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=M?M.map((function(e){return e.id})):[],(m=new FormData).append("name",null===(o=a.name)||void 0===o?void 0:o.trim()),m.append("description",a.description),m.append("image",JSON.stringify(s)),m.append("cover",Ae||s[0]?s[0]:""),m.append("parent",te),m.append("icon",pe),m.append("thumbnail",Ee),console.log("categoryDetailData",n),!(n&&Object.keys(n).length>0)){e.next=21;break}if(d=[],s&&s.length>0&&s.forEach((function(e){n&&n.image&&(n.image.includes(e)||d.push(e))})),!(d[0]&&d.length>1)){e.next=18;break}return e.next=16,Je({urlOptions:{placeHolders:{collection:"category",itemId:n.id}},body:{image:d}});case 16:e.next=21;break;case 18:if(!(d[0]&&d.length<1)){e.next=21;break}return e.next=21,Ze({urlOptions:{placeHolders:{imageId:d[0].id,collection:"category",itemId:n.id}}});case 21:return e.next=23,u({urlOptions:{placeHolders:{id:n.id}},body:{name:null===(c=a.name)||void 0===c?void 0:c.trim(),description:a.description,displayOrder:a.displayOrder,image:s,cover:Ae||s[0]?s[0]:"",parent:te,icon:pe,metaTitle:a.metaTitle,metaDescription:a.metaDescription,metaTags:ke&&ke.length>0?ke.join(","):"",bn:{metaTitle:a.bnMetaTitle,metaDescription:a.bnMetaDescription,metaTags:_e&&_e.length>0?_e.join(","):"",name:null===(l=a.bnName)||void 0===l?void 0:l.trim(),description:a.bnDescription}}});case 23:(b=e.sent)&&"ok"===b.status?(pa("Category Updated!"),t(!1),r(Object(f.a)({name:b.name||"",description:b.description||"",cover:n.cover||"",id:n.id,key:n.id||"",icon:We},b)),i.resetForm()):ba(),i.setSubmitting(!1);case 26:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();Object(o.useEffect)((function(){if(!s.isLoading){var e=s.error;if(e.isError&&Object.keys(e.error).length>0)(Object.values(e.error).length>0?Object.values(e.error):[]).forEach((function(e,t){if("string"===typeof e)ba(e);else if("object"===typeof e){if(e&&Object.keys(e).length>0)Object.values(e).forEach((function(e){ba(e)}))}}))}}),[s]);var ut=function(e){H(e),e&&ae("")},mt=function(e){ae(e)};function dt(e,t){var a=new FileReader;a.addEventListener("load",(function(){return t(a.result)})),a.readAsDataURL(e)}function bt(e){return"image/jpeg"===e.type||"image/png"===e.type||Et.a.error("You can only upload JPG/PNG file!"),e.size/1024/1024<2||Et.a.error("Image must smaller than 2MB!"),dt(e,(function(t){oe(t),be(e),function(){var t=Object(b.a)(p.a.mark((function t(){var a,r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(a=new FormData).append("icon",e),t.next=4,N({urlOptions:{placeHolders:{id:n.id}},body:a});case 4:(r=t.sent)&&"ok"===r.status?(qe("".concat(k.baseURL).concat(r.icon)),pa("Category Icon updated!")):ba("Couldn't update category icon, Something went wrong");case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()(),ue(!1)})),!1}function gt(e){return"image/jpeg"===e.type||"image/png"===e.type||Et.a.error("You can only upload JPG/PNG file!"),e.size/1024/1024<2||Et.a.error("Image must smaller than 2MB!"),dt(e,(function(t){Ce(t),ve(e),function(){var t=Object(b.a)(p.a.mark((function t(){var a,r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(a=new FormData).append("thumbnail",e),t.next=4,w({urlOptions:{placeHolders:{id:n.id}},body:a});case 4:(r=t.sent)&&"ok"===r.status?pa("Category Thumbnail updated!"):ba("Couldn't update category Thumbnail, Something went wrong");case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()(),ue(!1)})),!1}Object(o.useEffect)((function(){if(n&&Object.keys(n).length>0){var e=n.icon&&n.icon;oe(e)}}),[n]),Object(o.useEffect)((function(){if(n&&Object.keys(n).length>0){var e=null===n||void 0===n?void 0:n.parent;e&&(ae(e),H(!1))}}),[n]),Object(o.useEffect)((function(){if(n&&Object.keys(n).length>0){var e=n.thumbnail&&n.thumbnail;Ce(e)}}),[]);var ft=c.a.createElement("div",null,se?c.a.createElement(jt.a,null):c.a.createElement(ht.a,null),c.a.createElement("div",{className:"ant-upload-text"},"Upload"));return Object(o.useEffect)((function(){if(n&&Object.keys(n).length>0){var e=n.metaTags&&n.metaTags.split(",");console.log("localMetaTags",e);var t=n.bn&&n.bn.metaTags&&n.bn.metaTags.split(",");Se(e||[]),Ie(t||[])}}),[]),c.a.createElement(c.a.Fragment,null,c.a.createElement(v.a,{onSubmit:function(e,t){return st(e,t)},validationSchema:da,validateOnBlur:!1,enableReinitialize:!0,initialValues:Object(f.a)({},ga,{},n,{},n&&Object.keys(n).length>0&&{bnMetaTitle:n.bn&&n.bn.metaTitle&&n.bn.metaTitle,bnMetaDescription:n.bn&&n.bn.metaDescription&&n.bn.metaDescription,bnName:n.bn&&n.bn.name&&n.bn.name,bnDescription:n.bn&&n.bn.description&&n.bn.description})},(function(e){var n=e.handleChange,r=e.values,i=e.handleSubmit,o=e.errors,l=(e.isValid,e.isSubmitting),u=e.touched,m=(e.handleBlur,e.setFieldTouched);e.handleReset;return c.a.createElement(c.a.Fragment,null,c.a.createElement("section",{className:"addProductGridContainer"},c.a.createElement("div",{className:"addProductGridContainer__left"},c.a.createElement("div",{className:"addProductGridContainer__name"},c.a.createElement("div",{className:"addProductGridContainer__item-header"},c.a.createElement("h3",null,"Category Information *"),c.a.createElement("div",{className:r.name&&r.name.length>2?"checkicon-active":"checkicon"},c.a.createElement(De.a,null))),c.a.createElement("div",{className:"addProductGridContainer__item-body"},c.a.createElement(C,{label:"Name *",value:r.name,placeHolder:"",name:"name",isError:u.name&&o.name||!l&&s.error.error.name,errorString:u.name&&o.name||!l&&s.error.error.name,onChange:function(e){n(e),m("name")}}),c.a.createElement(C,{label:"BN Name",value:r.bnName,placeHolder:"",name:"bnName",isError:u.bnName&&o.bnName||!l&&s.error.error.bnName,errorString:u.bnName&&o.bnName||!l&&s.error.error.bnName,onChange:function(e){n(e),m("bnName")}}),c.a.createElement(wt,{label:"Description",value:r.description,placeholder:"This category...",name:"description",isError:u.description&&o.description||!l&&s.error.error.description,errorString:u.description&&o.description||!l&&s.error.error.description,onChange:function(e){n(e),m("description")}}),c.a.createElement(wt,{label:"BN Description",value:r.bnDescription,placeholder:"\u098f\u0987 \u0995\u09cd\u09af\u09be\u099f\u09be\u0997\u09dc\u09bf...",name:"bnDescription",isError:u.bnDescription&&o.bnDescription||!l&&s.error.error.bnDescription,errorString:u.bnDescription&&o.bnDescription||!l&&s.error.error.bnDescription,onChange:function(e){n(e),m("bnDescription")}}),c.a.createElement(C,{label:"Display Order",value:r.displayOrder,placeHolder:"1,3,7",name:"displayOrder",type:"number",isError:u.displayOrder&&o.displayOrder||!l&&s.error.error.displayOrder,errorString:u.displayOrder&&o.displayOrder||!l&&s.error.error.displayOrder,onChange:function(e){n(e),m("displayOrder")}}),c.a.createElement("div",{style:{marginTop:"25px"}}),c.a.createElement("div",{className:"switchLabelContainer"},c.a.createElement(vt.a,{checked:z,defaultChecked:!0,onChange:ut}),c.a.createElement("div",{className:"switchLabelContainer-textContainer"},c.a.createElement("h5",null,"Top level Category"),c.a.createElement("h5",{className:"switchLabelContainer-desc"},"Disable to select a Parent Category"))),!z&&c.a.createElement(c.a.Fragment,null,c.a.createElement("h3",{className:"inputFieldLabel"},"Parent Category"),c.a.createElement(Ge.a,{showSearch:!0,style:{width:300},placeholder:"Select a Parent Category",optionFilterProp:"children",onChange:mt,value:te,filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0}},a.length>0&&a.map((function(e){return c.a.createElement(fa,{value:e.id},e.name)})))),c.a.createElement("div",{style:{marginTop:"20px"}}),c.a.createElement("div",{className:"addproductSection-left-header"},c.a.createElement("h3",{className:"inputFieldLabel"},"Icon "),c.a.createElement(pt.a,{placement:"left",title:"Add Icon image for this category"},c.a.createElement("a",{href:"###"},c.a.createElement(Ct.a,null)))),c.a.createElement(yt.a,{style:{borderRadius:"8px"},name:"avatar",listType:"picture-card",className:"avatar-uploader",showUploadList:!1,beforeUpload:bt,multiple:!1},ie?c.a.createElement("img",{src:ie,alt:"avatar",style:{width:"100%"}}):ft),c.a.createElement("div",{style:{marginTop:"20px"}}),c.a.createElement("div",{className:"addproductSection-left-header"},c.a.createElement("h3",{className:"inputFieldLabel"},"Thumbnail"),c.a.createElement(pt.a,{placement:"left",title:"Add thumbnail image for this category"},c.a.createElement("a",{href:"###"},c.a.createElement(Ct.a,null)))),c.a.createElement(yt.a,{style:{borderRadius:"8px"},name:"avatar",listType:"picture-card",className:"avatar-uploader",showUploadList:!1,beforeUpload:gt,multiple:!1},je?c.a.createElement("img",{src:je,alt:"avatar",style:{width:"100%"}}):ft))),c.a.createElement("div",{className:"addProductGridContainer__image"},c.a.createElement("div",{className:"addProductGridContainer__item-header"},c.a.createElement("h3",null,"Image"),c.a.createElement(pt.a,{placement:"left",title:"Click on the image to select cover image, By default 1st image is selected as cover"},c.a.createElement("a",{href:"###"},c.a.createElement(Ct.a,null)))),c.a.createElement("div",{style:{padding:"10px"},className:"aboutToUploadImagesContainer"},h.isLoading&&c.a.createElement("div",{style:{padding:"20px 0"}},c.a.createElement(Re.a,null)),h.done&&c.a.createElement(c.a.Fragment,null,M&&M.length>0&&M.map((function(e,t){return c.a.createElement("div",{className:"aboutToUploadImagesContainer__item"},c.a.createElement("div",{className:"aboutToUploadImagesContainer__item-imgContainer",onClick:function(){Be(e.id),lt(e)}},c.a.createElement("img",{src:e.cover,alt:e.alt})),c.a.createElement("span",{onClick:function(){!function(e){var t=M&&M.filter((function(t){return t.id!==e}));R(t)}(e.id),ct(e.id)},className:"aboutToUploadImagesContainer__item-remove"},c.a.createElement(Nt.a,null)),(Ae===e.id||!Ae&&0===t)&&c.a.createElement("span",{className:"aboutToUploadImagesContainer__item-cover"},c.a.createElement(xt.a,null)))})),c.a.createElement(pt.a,{title:"Attach images"},c.a.createElement("div",{onClick:function(){I(!0),Z(!0),K(!1)},className:"aboutToUploadImagesContainer__uploadItem"},c.a.createElement(kt.a,null),c.a.createElement("span",{className:"aboutToUploadImagesContainer__uploadItem-plus"},c.a.createElement(ht.a,null)))))))),c.a.createElement("div",{className:"addProductGridContainer__right"},c.a.createElement("div",{className:"addProductGridContainer__category"},c.a.createElement("div",{className:"addProductGridContainer-rightItemContainer"},c.a.createElement("div",{className:"addProductGridContainer-rightItemContainer-header"},c.a.createElement("h3",null,"Meta Tags"),c.a.createElement(pt.a,{placement:"left",title:"Meta data will be used to make the user's easy and for search engine optimization."},c.a.createElement("a",{href:"###"},c.a.createElement(Ct.a,null)))),c.a.createElement("div",{className:"addProductGridContainer-rightItemContainer-body"},c.a.createElement(C,{label:"Meta title",value:r.metaTitle,placeHolder:"...",name:"metaTitle",isError:u.metaTitle&&o.metaTitle||!l&&s.error.error.metaTitle,errorString:u.metaTitle&&o.metaTitle||!l&&s.error.error.metaTitle,onChange:function(e){n(e),m("metaTitle")}}),c.a.createElement(C,{label:"BN Meta title",value:r.bnMetaTitle,placeHolder:"...",name:"bnMetaTitle",isError:u.bnMetaTitle&&o.bnMetaTitle||!l&&s.error.error.bnMetaTitle,errorString:u.bnMetaTitle&&o.bnMetaTitle||!l&&s.error.error.bnMetaTitle,onChange:function(e){n(e),m("bnMetaTitle")}}),c.a.createElement(wt,{label:"Meta description",value:r.metaDescription,placeholder:"meta...",name:"metaDescription",isError:u.metaDescription&&o.metaDescription||!l&&s.error.error.metaDescription,errorString:u.metaDescription&&o.metaDescription||!l&&s.error.error.metaDescription,onChange:function(e){n(e),m("metaDescription")}}),c.a.createElement(wt,{label:"BN Meta Description",value:r.bnMetaDescription,placeholder:"\u098f\u0987\u09df \u09ae\u09c7\u099f...",name:"bnMetaDescription",isError:u.bnMetaDescription&&o.bnMetaDescription||!l&&s.error.error.bnMetaDescription,errorString:u.bnMetaDescription&&o.bnMetaDescription||!l&&s.error.error.bnMetaDescription,onChange:function(e){n(e),m("bnMetaDescription")}}),c.a.createElement("h3",{className:"inputFieldLabel"},"Meta Tags "),c.a.createElement(Wt,{setTags:Se,tags:ke}),c.a.createElement("div",{style:{marginTop:"15px"}}),c.a.createElement("h3",{className:"inputFieldLabel"},"BN Meta Tags "),c.a.createElement(Wt,{setTags:Ie,tags:_e})))))),c.a.createElement("div",{style:{padding:"15px",display:"flex",justifyContent:"flex-end"}},c.a.createElement(E.a,{style:{color:"#555",marginRight:"10px"},className:"btnPrimaryClassNameoutline-cancle",onClick:function(){return t(!1)},type:"default"},"Cancel"),c.a.createElement(E.a,{className:"btnPrimaryClassNameoutline",onClick:i,loading:s.isLoading,type:"link",icon:c.a.createElement(xt.a,null)},"Update")),c.a.createElement(Vt,{setvisible:I,visible:D,setmyImages:R,myImages:M,setmyThumbnailImage:B,isModalOpenForThumbnail:Y,isModalOpenForImages:X}))})))},Ea=function(e){var t=e.setAddNewCategoryVisible,a=e.addNewCategoryVisible,n=e.categoryList,r=e.categoryDetailData,i=e.setcategoryDetailData;return c.a.createElement(Ot.a,{destroyOnClose:!0,style:{top:"40px"},bodyStyle:{margin:0,padding:0},title:"Edit Category",visible:a,onCancel:function(){t(!1)},footer:!1,okText:"Update",width:"70vw",okButtonProps:{htmlType:"submit"}},c.a.createElement(ha,{setAddNewCategoryVisible:t,categoryList:n,categoryDetailData:r,setcategoryDetailData:i}))},va=ot.a.Column,ya=(ot.a.ColumnGroup,O.a.Search,Object(u.b)((function(e){return{roles:e.globalState}}),null)((function(e){var t=e.roles,a=U({},"categoryDetail"),n=Object(g.a)(a,2),r=n[0],i=n[1],l=U({},"categoryProducts"),s=Object(g.a)(l,2),u=s[0],m=s[1],d=U({},"categoryList"),f=Object(g.a)(d,2),h=(f[0],f[1]),v=Object(o.useState)([]),y=Object(g.a)(v,2),O=y[0],j=y[1];Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h({urlOptions:{params:{isSubCategory:!0,productCountValue:!0,sortItem:"added",sortOrderValue:"-1",limitNumber:5e6}}});case 2:t=e.sent,j(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var C=Object(_e.h)(),N=Object(_e.g)(),x=C.id,k=Object(o.useState)(!1),S=Object(g.a)(k,2),w=S[0],T=S[1],_=Object(o.useState)({}),I=Object(g.a)(_,2),L=I[0],P=I[1];Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i({urlOptions:{placeHolders:{id:x}}});case 2:(t=e.sent)&&P(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[x]),Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m({urlOptions:{placeHolders:{id:x}}});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[x]),console.log("categoryProductsState",u),console.log("brandParams",C);var M=r.done&&L&&L.image?function(e){if(!e[0])return!1;e=e.map((function(e){return e.cover}));var t={},a=0,n=0;return e.forEach((function(e,r){a<3?(t[n]?t[n]=[].concat(Object(fe.a)(t[n]),[e]):t[n]=[e],a+=1,n+=1):(a=0,n=0,console.log("localIndex",a))})),t}(L.image):[];return c.a.createElement("div",{className:"brandDetailContainer"},c.a.createElement("div",{className:"brandDetailContainer__heading"},c.a.createElement("h3",null,"Category Detail"),r.done&&L&&Object.keys(L).length>0&&c.a.createElement(c.a.Fragment,null,c.a.createElement(Ea,{addNewCategoryVisible:w,setAddNewCategoryVisible:T,categoryDetailData:L,setcategoryDetailData:P,categoryList:O}),D("postCatalogue",t)&&c.a.createElement(E.a,{onClick:function(){return T(!0)},type:"link",icon:c.a.createElement(gt.a,null)},"Edit"))),c.a.createElement(ma.a,{avatar:!0,paragraph:{rows:3},loading:r.isLoading},r.done&&L&&!(Object.keys(L).length>0)&&c.a.createElement(we.a,{description:"No Category found",image:we.a.PRESENTED_IMAGE_SIMPLE}),r.done&&L&&Object.keys(L).length>0&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"brandDetailContainer__header"},c.a.createElement("div",{className:"brandDetailContainer__header-coverContainer brandDetailContainer__header-coverContainer-category"},c.a.createElement("img",{src:L.cover&&L.cover.cover,alt:""})),c.a.createElement("div",{className:"brandDetailContainer__header-info"},c.a.createElement("h2",null,L.name),c.a.createElement("h3",null,L.description),c.a.createElement("h3",null,"Category type: ",c.a.createElement("span",null,L.type)),L.url&&c.a.createElement("h3",null,"URL:",c.a.createElement("span",null,L.url)))),L.icon&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"brandDetailContainer__heading"},c.a.createElement("h3",null,"Icon")),c.a.createElement("div",{className:"brandDetailContainer__inlineBox"},c.a.createElement("div",{className:"brandDetailContainer__header-coverContainer brandDetailContainer__header-coverContainer-icon"},c.a.createElement("img",{src:L.icon&&L.icon,alt:""}))),c.a.createElement("div",{style:{marginBottom:"25px"}})),L.thumbnail&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"brandDetailContainer__heading"},c.a.createElement("h3",null,"Thumbnail")),c.a.createElement("div",{className:"brandDetailContainer__inlineBox"},c.a.createElement("div",{className:"brandDetailContainer__header-coverContainer brandDetailContainer__header-coverContainer-thumbnail"},c.a.createElement("img",{src:L.thumbnail&&L.thumbnail,alt:""}))),c.a.createElement("div",{style:{marginBottom:"25px"}})),L.image&&L.image.length>0&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"brandDetailContainer__heading"},c.a.createElement("h3",null,"Image Gallary")),c.a.createElement("div",{className:"brandDetailContainer__imageGallary"},c.a.createElement("div",{className:"imgGallaryContainer"},c.a.createElement("div",{className:"imgGallary-row"},M&&Object.keys(M).map((function(e){return c.a.createElement("div",{className:"imgGallary-column"},M[e]&&M[e].map((function(e){return c.a.createElement("img",{alt:"..",src:e,style:{width:"100%"}})})))}))))),c.a.createElement("div",{style:{marginBottom:"25px"}})),L.subCategory&&L.subCategory.length>0&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"brandDetailContainer__heading"},c.a.createElement("h3",null,"Child Categories")),c.a.createElement("div",{className:"smallcatCardContainer"},L.subCategory.map((function(e){return c.a.createElement("div",{onClick:function(){return N.push("/admin/category/".concat(e.id))},className:"smallcatCardContainer__card"},c.a.createElement("div",{className:"smallcatCardContainer__card-coverbox"},c.a.createElement("img",{src:e.cover,alt:""})),c.a.createElement("div",{className:"smallcatCardContainer__card-info"},c.a.createElement("h3",null,e.name)))}))),c.a.createElement("div",{style:{marginBottom:"25px"}})))),c.a.createElement("div",{className:"brandDetailContainer__heading"},c.a.createElement("h3",null,"Products")),c.a.createElement("div",{className:"brandDetailContainer__body"},u.isLoading&&c.a.createElement(ta,null),u.done&&!(u.data.length>0)&&c.a.createElement("div",{style:{marginTop:"100px"}},c.a.createElement(we.a,{description:"No Products exists in this category",image:we.a.PRESENTED_IMAGE_SIMPLE})),u.done&&u.data&&u.data.length>0&&c.a.createElement(c.a.Fragment,null,c.a.createElement(ot.a,{style:{paddingTop:"10px",borderRadius:"5px !important",overflow:"hidden",boxShadow:"0 0.125rem 0.625rem rgba(227, 231, 250, 0.3), 0 0.0625rem 0.125rem rgba(206, 220, 233, 0.4)"},size:"small",dataSource:u.data,tableLayout:"auto",onHeaderRow:function(e){return{style:{color:"red !important"}}}},c.a.createElement(va,{title:"",dataIndex:"cover",key:"id",width:"80px",className:"classnameofthecolumn",render:function(e,t){return c.a.createElement(c.a.Fragment,null,c.a.createElement("img",{onClick:function(){N.push("/admin/product/".concat(t.id))},src:e,alt:"cover img",style:{height:"40px",width:"40px",objectFit:"contain",borderRadius:"3px",cursor:"pointer"}}))}}),c.a.createElement(va,{title:"Name",dataIndex:"name",key:"id",className:"classnameofthecolumn",render:function(e,t){return c.a.createElement(c.a.Fragment,null,c.a.createElement("h4",{onClick:function(){N.push("/admin/product/".concat(t.id))},style:{fontWeight:400,color:"#555",cursor:"pointer"}},e))}}),c.a.createElement(va,{title:"Offer Price",dataIndex:"offerPrice",key:"id",className:"classnameofthecolumn"}),c.a.createElement(va,{title:"Price",dataIndex:"price",key:"id",className:"classnameofthecolumn"}),c.a.createElement(va,{title:"Available",dataIndex:"available",key:"id",className:"classnameofthecolumn"}),c.a.createElement(va,{title:"Minimum",dataIndex:"minimum",key:"id",className:"classnameofthecolumn"})))))}))),Oa=a(23),ja=a.n(Oa),Ca=a(24),Na=a.n(Ca),xa=function(e){var t=e.min,a=e.label,n=e.type,r=(e.defaultValue,e.value),i=e.onChange,o=e.disabled,l=e.isError,s=e.errorString,u=e.name,m=e.size,d=void 0===m?"middle":m;return c.a.createElement(c.a.Fragment,null,a&&c.a.createElement("h3",{className:"inputFieldLabel-small"},a),c.a.createElement(j.a.Item,{validateStatus:l?"error":"",help:s},c.a.createElement(O.a,{onKeyDown:function(e){"number"===n&&("e"!==e.key&&"-"!==e.key||e.preventDefault())},min:t,type:n,size:d,allowClear:!0,name:u,disabled:o,value:r,onChange:i,className:"inputclassName-small"})))},ka=a(941),Sa=function(e){Me.a.success({message:e||"Succeed",description:"",icon:c.a.createElement(De.a,{style:{color:"rgba(0, 128, 0, 0.493)"}})})},wa=function(e){Me.a.error({message:e||"Something Went Wrong",description:"",icon:c.a.createElement(ka.a,{style:{color:"rgb(241, 67, 67)"}})})},Ta=Ht.a.CheckableTag,_a=O.a.Search,Da=function(e){var t=e.setTagIds,a=e.setSelectedTags,n=e.selectedTags,r=Object(o.useState)([]),i=Object(g.a)(r,2),l=i[0],s=i[1],u=Object(o.useState)([]),m=Object(g.a)(u,2),d=(m[0],m[1],U({},"tagList")),f=Object(g.a)(d,2),h=f[0],E=f[1],v=Object(o.useState)(""),y=Object(g.a)(v,2),O=y[0],j=y[1];Object(o.useEffect)((function(){if(h.done&&h.data.length>0&&n.length>0){var e=n.map((function(e){var t=h.data.find((function(t){return t.name===e}));if(t)return t.name}));n.map((function(e){var t=h.data.find((function(t){return t.name===e}));if(t)return t.id}));a(e)}}),[h]),Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E({urlOptions:{params:{isSubCategory:!1}}});case 2:(t=e.sent)&&t.length>0&&(a=t.map((function(e){return e.name})),s(a));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);return console.log("selectedTags",n),c.a.createElement(c.a.Fragment,null,h.isLoading&&c.a.createElement("div",{style:{padding:"15px 0",width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"}},c.a.createElement(Re.a,null)),h.done&&c.a.createElement("div",{className:"addProduct__categoryBoxContainer-searchBox"},c.a.createElement(_a,{width:"90%",style:{height:"30px",borderRadius:"3px !important",borderColor:"#eee !important"},size:"middle",placeholder:"top, hot",onSearch:function(e){return console.log(e)},onChange:function(e){if(j(e.target.value),""===e.target.value){if(h.data&&h.data.length>0){var t=h.data.map((function(e){return e.name}));s(t)}}else{var a=l.length>0?l.filter((function(e){return e.toLowerCase().includes(O.toLowerCase())})):[];s(a)}}})),h.done&&!(l.length>0)&&c.a.createElement("div",{style:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"}},c.a.createElement(Te,{title:"No Tags found",height:100})),h.done&&h.data.length>0&&l.length>0&&c.a.createElement(c.a.Fragment,null,l.map((function(e){return c.a.createElement(c.a.Fragment,null,c.a.createElement(Ta,{key:e,checked:n.indexOf(e)>-1,onChange:function(r){return function(e,r){var i=r?[].concat(Object(fe.a)(n),[e]):n.filter((function(t){return t!==e}));if(a(i),h.done&&h.data.length>0&&i.length>0){var o=i.map((function(e){var t=h.data.find((function(t){return t.name.toLowerCase()===e.toLowerCase()}));if(t)return t.id}));t(o)}}(e,r)}},e))}))))},Ia=Ge.a.Option,La=function(e){var t=e.setBrandId,a=e.brandId,n=(e.productDetailState,Object(o.useState)([])),r=Object(g.a)(n,2),i=r[0],l=r[1],s=Object(o.useState)(""),u=Object(g.a)(s,2),m=(u[0],u[1]),d=U({},"brandList"),f=Object(g.a)(d,2),h=f[0],E=f[1];return Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E({});case 2:(t=e.sent)&&t.length>0&&(a=t.map((function(e){return{value:e.id,name:e.name}})),l(a));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),c.a.createElement(c.a.Fragment,null,c.a.createElement("div",null),h.isLoading&&c.a.createElement("div",{style:{padding:"15px 0",width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"}},c.a.createElement(Re.a,null)),h.done&&!(h.data.length>0)&&c.a.createElement("div",{style:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"}},c.a.createElement(Te,{title:"No Brand found",height:100})),h.done&&h.data&&h.data.length>0&&i.length>0&&c.a.createElement(Ge.a,{showSearch:!0,style:{width:"210px",borderRadius:"6px"},placeholder:"Select a Brand",optionFilterProp:"children",onChange:function(e){m(e),t(e)},onFocus:function(){},onBlur:function(){},onSearch:function(e){},value:a,filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0}},h.done&&h.data.length>0&&i.map((function(e){return c.a.createElement(Ia,{value:e.value},e.name)}))))},Pa=a(902),Ma=O.a.Search,Ra=function(e){var t=e.setcategoryIds,a=e.categoryOptions,n=e.setCategoryOptions,r=Object(o.useState)([]),i=Object(g.a)(r,2),l=i[0],s=i[1],u=Object(o.useState)(""),m=Object(g.a)(u,2),d=m[0],h=m[1],E=U({},"categorySelectist"),v=Object(g.a)(E,2),y=v[0],O=v[1];Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O({urlOptions:{params:{isSubCategory:!0,productCountValue:!0,sortItem:"added",sortOrderValue:"-1",limitNumber:5e6}}});case 2:(t=e.sent)&&t.length>0&&s(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);return console.log("categoryState",y),console.log("optionsCat",l),c.a.createElement("div",{className:"addProduct__categoryBoxContainer"},y.isLoading&&c.a.createElement("div",{style:{padding:"15px 0",width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"}},c.a.createElement(Re.a,null)),y.done&&c.a.createElement("div",{className:"addProduct__categoryBoxContainer-searchBox"},c.a.createElement(Ma,{width:"100%",style:{height:"30px",borderRadius:"3px !important",borderColor:"#eee !important"},size:"middle",placeholder:"",onSearch:function(e){return console.log(e)},onChange:function(e){if(h(e.target.value),""===e.target.value){if(y.data&&y.data.length>0){var t=y.data.map((function(e){return Object(f.a)({},e)}));s(t)}}else{var a=l.length>0?l.filter((function(e){return e&&e.title.toLowerCase().includes(d.toLowerCase())})):[];s(a)}}})),y.done&&y.data.length>0&&l.length>0&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{style:{overflow:"auto",maxHeight:"300px"}},l.length>0&&c.a.createElement(Pa.a,{checkable:!0,checkedKeys:a,onSelect:function(e,t){},onCheck:function(e,a){var r=e.checked||[];t(r),n(r)},treeData:l,defaultExpandAll:!0,checkStrictly:!0}))),y.done&&!(l.length>0)&&c.a.createElement("div",{style:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"}},c.a.createElement(Te,{title:"No category found",height:100})))},Fa=(_t.a.TabPane,y.a().shape({name:y.c().label("Name").required("Name is required").min(3,"Name must have at least 3 characters")})),Aa={name:"",bundlePrice:null,startDate:"",endDate:"",description:"",bnName:"",bnDescription:"",metaTitle:"",bnMetaTitle:"",metaDescription:"",bnMetaDescription:"",metaTags:"",bnMetaTags:""},Ba=function(e){var t=e.addNewCategoryVisible,a=e.setAddNewCategoryVisible,n=e.productList,r=e.setProductList,i=e.productDetailData,l=U({},"updateProduct"),s=Object(g.a)(l,2),u=s[0],m=(s[1],U({},"bundleDetail")),d=Object(g.a)(m,2),h=d[0],E=d[1],y=U({},"attachImageToItemMultiple"),O=Object(g.a)(y,2),j=(O[0],O[1]),N=U({},"attachImageToItemSingle"),x=Object(g.a)(N,2),k=(x[0],x[1]),S=U({},"detachImageFromItemMultiple"),w=Object(g.a)(S,2),T=(w[0],w[1],U({},"detachImageFromItemSingle")),_=Object(g.a)(T,2),D=(_[0],_[1]),I=U({},"setImageAsThumbnailToItem"),L=Object(g.a)(I,2),P=(L[0],L[1]),M=Object(o.useState)([]),R=Object(g.a)(M,2),F=R[0],A=R[1],B=Object(o.useState)(!1),V=Object(g.a)(B,2),G=V[0],z=V[1],H=Object(o.useState)(!1),W=Object(g.a)(H,2),q=W[0],Y=W[1],K=Object(o.useState)(!1),J=Object(g.a)(K,2),Q=(J[0],J[1]),X=Object(o.useState)(!1),Z=Object(g.a)(X,2),$=Z[0],ee=Z[1],te=Object(o.useState)(!1),ae=Object(g.a)(te,2),ne=ae[0],re=ae[1],ie=Object(o.useState)([]),oe=Object(g.a)(ie,2),ce=oe[0],le=oe[1],se=Object(o.useState)([]),ue=Object(g.a)(se,2),me=ue[0],de=ue[1],pe=Object(o.useState)(""),be=Object(g.a)(pe,2),ge=be[0],he=be[1],Ee=Object(o.useState)([]),ve=Object(g.a)(Ee,2),ye=(ve[0],ve[1]),Oe=Object(o.useState)(""),je=Object(g.a)(Oe,2),Ce=je[0],Ne=je[1],xe=Object(o.useState)([]),ke=Object(g.a)(xe,2),Se=ke[0],we=ke[1],Te=Object(o.useState)([]),_e=Object(g.a)(Te,2),Ie=_e[0],Le=_e[1],Pe=Object(o.useState)(""),Me=Object(g.a)(Pe,2),Fe=(Me[0],Me[1]),Ae=Object(o.useState)(""),Be=Object(g.a)(Ae,2),Ve=(Be[0],Be[1]),Ue=Object(o.useState)(""),Ge=Object(g.a)(Ue,2),ze=Ge[0],He=Ge[1],We=Object(o.useState)(""),qe=Object(g.a)(We,2),Ye=qe[0],Ke=qe[1],Je=Object(o.useState)([]),Qe=Object(g.a)(Je,2),Xe=Qe[0],Ze=Qe[1],$e=Object(o.useState)([]),et=Object(g.a)($e,2),tt=et[0],at=et[1],nt=Object(o.useState)({}),rt=Object(g.a)(nt,2),it=(rt[0],rt[1],Object(o.useState)("2")),ot=Object(g.a)(it,2),ct=(ot[0],ot[1],Object(o.useState)(!1)),lt=Object(g.a)(ct,2),st=(lt[0],lt[1],Object(o.useState)([])),ut=Object(g.a)(st,2),mt=ut[0],dt=ut[1],bt=U({},"updateBundle"),gt=Object(g.a)(bt,2),ft=gt[0],Et=gt[1];Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E({urlOptions:{placeHolders:{id:i.id}}});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[i]);var vt=Object(o.useState)({regular:null,offer:null}),yt=Object(g.a)(vt,2),jt=yt[0],St=yt[1],Tt=function(){var e=Object(b.a)(p.a.mark((function e(t,o){var c,l,s,u,m,d,b;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=q?q.map((function(e){return e.id})):[],console.log("productList",F),l=F.length>0?F.map((function(e){return{_id:e._id,variation:e.variation,quantity:e.quantity}})):[],!(i&&Object.keys(i).length>0)){e.next=14;break}if(s=[],c&&c.length>0&&c.forEach((function(e){i&&i.image&&(i.image.includes(e)||s.push(e))})),!(s[0]&&s.length>1)){e.next=11;break}return e.next=9,j({urlOptions:{placeHolders:{collection:"product",itemId:i.id}},body:{image:s}});case 9:e.next=14;break;case 11:if(!(s[0]&&s.length<1)){e.next=14;break}return e.next=14,k({urlOptions:{placeHolders:{imageId:s[0].id,collection:"product",itemId:i.id}}});case 14:return e.next=16,Et({urlOptions:{placeHolders:{id:i.id}},body:{name:t.name.trim(),category:ce,tags:me,brand:ge,price:jt,description:ze,model:t.model,unit:t.unit,image:c,products:l,metaTitle:t.metaTitle,metaDescription:t.metaDescription,metaTags:Xe.join(","),bn:{metaTitle:t.bnMetaTitle,metaDescription:t.bnMetaDescription,metaTags:tt.join(","),name:t.bnName.trim(),unit:t.metaUnit,description:t.bnDescription}}});case 16:(u=e.sent)&&"ok"===u.status&&(Sa("Bundle Updated"),a(!1),m=function(){return n.map((function(e){return e.id})).indexOf(i.id)}(),d=Object.assign({},n[m],Object(f.a)({},i,{},u)),b=[].concat(Object(fe.a)(n.slice(0,m)),[d],Object(fe.a)(n.slice(m+1))),r(b),Y([]),Ne(""),ye([]),de([]),Le([]),he(""),le([]),we([]),o.resetForm()),o.setSubmitting(!1);case 19:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();Object(o.useEffect)((function(){if(!ft.isLoading){var e=ft.error;if(e.isError&&Object.keys(e.error).length>0)(Object.values(e.error).length>0?Object.values(e.error):[]).forEach((function(e,t){if("string"===typeof e)wa(e);else if("object"===typeof e){if(e&&Object.keys(e).length>0)Object.values(e).forEach((function(e){wa(e)}))}}))}}),[ft]),Object(o.useEffect)((function(){if(h.data&&h.data.products&&h.data.products.length>0){var e=h.data.products.map((function(e){return Object(f.a)({},e,{id:e._id})}));dt(e);var t=h.data.products.map((function(e){return{_id:e._id,variation:e.variation,quantity:e.quantity,totalPrice:e.totalPrice}}));A(t)}console.log("productDetailState['data']",h.data)}),[h.done]),Object(o.useEffect)((function(){if(mt&&mt.length>0&&F){if(mt.length>F.length){var e=mt[mt.length-1].pricing&&mt[mt.length-1].pricing.length>0&&mt[mt.length-1].pricing[0]._id;console.log("variation",e),A([].concat(Object(fe.a)(F),[Object(f.a)({},mt[mt.length-1],{_id:mt[mt.length-1].id,variation:e,quantity:1})]))}else if(mt.length<F.length){console.log("productIds",mt),console.log("productList",F);var t=F.filter((function(e){var t=!1;return mt.forEach((function(a){a.id===e._id&&(t=!0)})),t}));A(t)}}else A([])}),[mt]),Object(o.useEffect)((function(){if(i&&i.brand?he(i.brand.id):he(""),i&&i.tags&&i.tags.length>0?Le(i.tags):Le([]),i&&i.category&&i.category.length>0){var e=i.category;we(e),le(e)}else we([]);i&&i.anotherPrice&&i.anotherPrice?St(i.anotherPrice):ye([]),i&&i.date&&i.date?Fe(i.date):Fe(""),i&&i.time&&i.time?Ve(i.time):Ve("")}),[i]),Object(o.useEffect)((function(){if(h.done&&Object.keys(h).length>0){var e=h.data.image;e&&e.length>0&&Y(e),h.data.cover&&h.data.cover.id&&(Y([h.data.cover].concat(Object(fe.a)(e))),console.log("catcat",[h.data.cover].concat(Object(fe.a)(e))),Ne(h.data.cover.id))}}),[h]),Object(o.useEffect)((function(){console.log("thumnail",q),q&&q[0]&&q.length<2&&(console.log("thumnail2",q),Ce!==q[0].id&&(Ne(q[0].id),Dt(q[0])))}),[q]);var _t=function(){var e=Object(b.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D({urlOptions:{placeHolders:{imageId:t,collection:"product",itemId:i.id}}});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Dt=function(){var e=Object(b.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P({urlOptions:{placeHolders:{imageId:t.id,collection:"product",itemId:i.id}}});case 2:a=e.sent,console.log("thumbnailRes",a),a&&"ok"===a.status?Sa("Set as thumbnail!"):wa("Couldn't set as thumbnail, Something went wrong");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(o.useEffect)((function(){if(!u.isLoading){var e=u.error;if(e.isError&&Object.keys(e.error).length>0)(Object.values(e.error).length>0?Object.values(e.error):[]).forEach((function(e,t){if("string"===typeof e)wa(e);else if("object"===typeof e){if(e&&Object.keys(e).length>0)Object.values(e).forEach((function(e){wa(e)}))}}))}}),[u]);var It=function(e){a(!1)};return Object(o.useEffect)((function(){if(h.data&&Object.keys(h.data).length>0&&h.data.metaTags){var e=h.data.metaTags.split(",");console.log("localMetaTags",e);var t=h.data.bn.metaTags.split(",");Ze(e),at(t)}}),[h.done]),c.a.createElement(v.a,{onSubmit:function(e,t){return Tt(e,t)},validationSchema:Fa,validateOnBlur:!1,enableReinitialize:!0,initialValues:Object(f.a)({},Aa,{},Object(f.a)({},i,{},h.data&&Object.keys(h.data).length>0&&h.data.bn&&{bnMetaTitle:h.data.bn.metaTitle,bnMetaDescription:h.data.bn.metaDescription,bnName:h.data.bn.name,metaUnit:h.data.bn.unit,bnDescription:h.data.bn.description}))},(function(e){var a=e.handleChange,n=e.values,r=e.handleSubmit,i=e.errors,o=(e.isValid,e.isSubmitting),l=e.touched,s=(e.handleBlur,e.setFieldTouched);e.handleReset;return c.a.createElement(c.a.Fragment,null,c.a.createElement(Ot.a,{style:{top:"40px"},bodyStyle:{margin:0,padding:0},width:"70vw",title:"Add New Bundle",visible:t,onOk:function(e){return r(e)},onCancel:It,okText:"Update",okButtonProps:{loading:o,htmlType:"submit"}},c.a.createElement("section",{className:"addProductGridContainer"},c.a.createElement("div",{className:"addProductGridContainer__left"},c.a.createElement("div",{className:"addProductGridContainer__name"},c.a.createElement("div",{className:"addProductGridContainer__item-header"},c.a.createElement("h3",null,"Bundle Information *"),c.a.createElement("div",{className:n.name&&n.name.length>2?"checkicon-active":"checkicon"},c.a.createElement(De.a,null))),c.a.createElement("div",{className:"addProductGridContainer__item-body"},c.a.createElement(C,{label:"Name",value:n.name,placeHolder:"Rafty ox",name:"name",isError:l.name&&i.name||!o&&ft.error.error.name,errorString:l.name&&i.name||!o&&ft.error.error.name,onChange:function(e){a(e),s("name")}}),c.a.createElement(C,{label:"BN Name",value:n.bnName,placeHolder:"\u09b0\u09be\u09ab\u09a4\u09bf \u0985\u0995\u09cd\u09b8",name:"bnName",isError:l.bnName&&i.bnName||!o&&ft.error.error.bnName,errorString:l.bnName&&i.bnName||!o&&ft.error.error.bnName,onChange:function(e){a(e),s("bnName")}}),c.a.createElement("h3",{className:"inputFieldLabel"},"Description"),c.a.createElement("div",{style:{width:"100%",maxWidth:"100%"}},c.a.createElement(ja.a,{editor:Na.a,data:ze,onInit:function(e){console.log("Editor is ready to use!",e)},onChange:function(e,t){var a=t.getData();He(a)},onBlur:function(e,t){console.log("Blur.",t)},onFocus:function(e,t){console.log("Focus.",t)}})),c.a.createElement("div",{style:{marginTop:"15px"}}),c.a.createElement("h3",{className:"inputFieldLabel"},"BN Description"),c.a.createElement("div",{style:{width:"100%",maxWidth:"100%"}},c.a.createElement(ja.a,{editor:Na.a,data:Ye,onInit:function(e){console.log("Editor is ready to use!",e)},onChange:function(e,t){var a=t.getData();Ke(a)},onBlur:function(e,t){console.log("Blur.",t)},onFocus:function(e,t){console.log("Focus.",t)}})),c.a.createElement("div",{style:{marginBottom:"15px"}}),c.a.createElement("div",{className:"addProductGridContainer__item-body-variationCard-item"},c.a.createElement("h4",null,"Price *"),c.a.createElement("div",{className:"addProductGridContainer__item-body-variationCard-item-container"},c.a.createElement("div",{className:"addProductGridContainer__item-body-variationCard-item-container-left"},c.a.createElement(xa,{label:"Regular",value:jt.regular,name:"regular",onChange:function(e){return St(Object(f.a)({},jt,{regular:e.target.value}))}})),c.a.createElement("div",{className:"addProductGridContainer__item-body-variationCard-item-container-right"},c.a.createElement(xa,{label:"Offer",value:jt.offer,name:"offer",onChange:function(e){return St(Object(f.a)({},jt,{offer:e.target.value}))}})))))),c.a.createElement("div",{className:"addProductGridContainer__image"},c.a.createElement("div",{className:"addProductGridContainer__item-header"},c.a.createElement("h3",null,"Image"),c.a.createElement(pt.a,{placement:"left",title:"Click on the image to select cover image, By default 1st image is selected as cover"},c.a.createElement("a",{href:"###"},c.a.createElement(Ct.a,null)))),c.a.createElement("div",{style:{padding:"10px"},className:"aboutToUploadImagesContainer"},h.isLoading&&c.a.createElement("div",{style:{padding:"20px 0"}},c.a.createElement(Re.a,null)),h.done&&c.a.createElement(c.a.Fragment,null,q&&q.length>0&&q.map((function(e,t){return c.a.createElement("div",{className:"aboutToUploadImagesContainer__item"},c.a.createElement("div",{className:"aboutToUploadImagesContainer__item-imgContainer",onClick:function(){Ne(e.id),Dt(e)}},c.a.createElement("img",{src:e.cover,alt:e.alt})),c.a.createElement("span",{onClick:function(){!function(e){var t=q&&q.filter((function(t){return t.id!==e}));Y(t)}(e.id),_t(e.id)},className:"aboutToUploadImagesContainer__item-remove"},c.a.createElement(Nt.a,null)),(Ce===e.id||!Ce&&0===t)&&c.a.createElement("span",{className:"aboutToUploadImagesContainer__item-cover"},c.a.createElement(xt.a,null)))})),c.a.createElement(pt.a,{title:"Attach images"},c.a.createElement("div",{onClick:function(){z(!0),re(!0),ee(!1)},className:"aboutToUploadImagesContainer__uploadItem"},c.a.createElement(kt.a,null),c.a.createElement("span",{className:"aboutToUploadImagesContainer__uploadItem-plus"},c.a.createElement(ht.a,null))))))),c.a.createElement("div",{className:"addProductGridContainer__image"},c.a.createElement("div",{className:"addProductGridContainer__item-header"},c.a.createElement("h3",null,"Meta Data"),c.a.createElement(pt.a,{placement:"left",title:"Meta data will be used to make the user's easy and for search engine optimization."},c.a.createElement("a",{href:"###"},c.a.createElement(Ct.a,null)))),c.a.createElement("div",{className:"addProductGridContainer__item-body"},c.a.createElement(C,{label:"Meta title",value:n.metaTitle,placeHolder:"category...",name:"metaTitle",isError:l.metaTitle&&i.metaTitle||!o&&ft.error.error.metaTitle,errorString:l.metaTitle&&i.metaTitle||!o&&ft.error.error.metaTitle,onChange:function(e){a(e),s("metaTitle")}}),c.a.createElement(C,{label:"BN Meta title",value:n.bnMetaTitle,placeHolder:"\u0995\u09cd\u09af\u09be\u099f\u09be\u0997\u09dc\u09bf...",name:"bnMetaTitle",isError:l.bnMetaTitle&&i.bnMetaTitle||!o&&ft.error.error.bnMetaTitle,errorString:l.bnMetaTitle&&i.bnMetaTitle||!o&&ft.error.error.bnMetaTitle,onChange:function(e){a(e),s("bnMetaTitle")}}),c.a.createElement(wt,{label:"Meta description",value:n.metaDescription,placeholder:"meta...",name:"metaDescription",isError:l.metaDescription&&i.metaDescription||!o&&ft.error.error.metaDescription,errorString:l.metaDescription&&i.metaDescription||!o&&ft.error.error.metaDescription,onChange:function(e){a(e),s("metaDescription")}}),c.a.createElement(wt,{label:"BN Meta Description",value:n.bnMetaDescription,placeholder:"\u098f\u0987\u09df \u09ae\u09c7\u099f...",name:"bnMetaDescription",isError:l.bnMetaDescription&&i.bnMetaDescription||!o&&ft.error.error.bnMetaDescription,errorString:l.bnMetaDescription&&i.bnMetaDescription||!o&&ft.error.error.bnMetaDescription,onChange:function(e){a(e),s("bnMetaDescription")}}),c.a.createElement("h3",{className:"inputFieldLabel"},"Meta Tags (grocery,fashion)"),c.a.createElement(Wt,{setTags:Ze,tags:Xe}),c.a.createElement("div",{style:{marginTop:"15px"}}),c.a.createElement("h3",{className:"inputFieldLabel"},"BN Meta Tags (\u09ae\u09c1\u09a6\u09bf\u0996\u09be\u09a8\u09be,\u09ab\u09cd\u09af\u09be\u09b6\u09a8)"),c.a.createElement(Wt,{setTags:at,tags:tt})))),c.a.createElement("div",{className:"addProductGridContainer__right"},c.a.createElement("div",{className:"addProductGridContainer__category"},c.a.createElement("div",{className:"addProductGridContainer-rightItemContainer"},c.a.createElement("div",{className:"addProductGridContainer-rightItemContainer-header"},c.a.createElement("h3",null,"Categories *"),c.a.createElement(pt.a,{color:"red",visible:ft.error.error.category&&!(ce.length>0),placement:"left",title:"Select at least one category"},c.a.createElement("div",{className:ce.length>0||ft.error.error.category?ft.error.error.category?"checkicon-error":"checkicon-active":"checkicon"},c.a.createElement(De.a,null)))),c.a.createElement("div",{className:"addProductGridContainer-rightItemContainer-body"},c.a.createElement(Ra,{setCategoryOptions:we,categoryOptions:Se,setcategoryIds:le})))),c.a.createElement("div",{className:"addProductGridContainer__tag"},c.a.createElement("div",{className:"addProductGridContainer-rightItemContainer"},c.a.createElement("div",{className:"addProductGridContainer-rightItemContainer-header"},c.a.createElement("h3",null,"Tags")),c.a.createElement("div",{className:"addProductGridContainer-rightItemContainer-body"},c.a.createElement(Da,{setSelectedTags:Le,selectedTags:Ie,setTagIds:de})))),c.a.createElement("div",{className:"addProductGridContainer__brand"},c.a.createElement("div",{className:"addProductGridContainer-rightItemContainer"},c.a.createElement("div",{className:"addProductGridContainer-rightItemContainer-header"},c.a.createElement("h3",null,"Brand")),c.a.createElement("div",{className:"addProductGridContainer-rightItemContainer-body"},c.a.createElement(La,{setBrandId:he}))))))),c.a.createElement(Vt,{setvisible:z,visible:G,setmyImages:Y,myImages:q,setmyThumbnailImage:Q,isModalOpenForThumbnail:$,isModalOpenForImages:ne}))}))},Va=function(e){var t=e.setProductIds,a=e.productIds,n=Object(o.useState)([]),r=Object(g.a)(n,2),i=r[0],l=r[1],s=Object(o.useState)([]),u=Object(g.a)(s,2),m=u[0],d=u[1],f=U({},"productList"),h=Object(g.a)(f,2),E=h[0],v=h[1],y=Object(o.useState)(!1),O=Object(g.a)(y,2),j=O[0];O[1];Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v({urlOptions:{params:{sortItem:"added",sortOrderValue:"-1",pageNumber:1}}});case 2:(t=e.sent)&&t.length>0&&(a=t.map((function(e){return e.name})),l(a));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(o.useEffect)((function(){if(a&&a.length>0&&!j){var e=a.map((function(e){return e.id}));d(e)}}),[a]);return c.a.createElement(c.a.Fragment,null,c.a.createElement(ma.a,{loading:E.isLoading},E.done&&E.data.length>0&&c.a.createElement(Ge.a,{mode:"multiple",placeholder:"search products",value:m,onChange:function(e){if(d(e),console.log("selectItems",e),E.done&&E.data.length>0&&e.length>0){var a=e.map((function(e){var t=E.data.find((function(t){return t.name.toLowerCase()===e.toLowerCase()}));if(t)return t}));t(a)}else t([])},style:{width:"100%"}},i.filter((function(e){return!m.includes(e)})).map((function(e){return c.a.createElement(Ge.a.Option,{key:e,value:e},e)})))))},Ua=function(e){var t=e.productList,a=e.setProductList,n=e.productId,r=e.quantity,i=e.item,l=e.variation,s=U({},"productDetailById"),u=Object(g.a)(s,2),m=u[0],d=u[1],h=Object(o.useState)({}),E=Object(g.a)(h,2),v=(E[0],E[1]),y=Object(o.useState)(!1),O=Object(g.a)(y,2),j=(O[0],O[1]),C=Object(o.useState)(""),N=Object(g.a)(C,2),x=N[0],k=N[1],S=Object(o.useState)(l),w=Object(g.a)(S,2),T=w[0],_=w[1];console.log("productDetailStateByOrder",m),Object(o.useEffect)((function(){j(!0),function(){var e=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d({urlOptions:{placeHolders:{id:n}}});case 2:t=e.sent,v(t),j(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[]);var D=function(){var e=Object(b.a)(p.a.mark((function e(o){var c,l,s,u,m,d;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("minus"!==o){e.next=10;break}if(1!==r){e.next=3;break}return e.abrupt("return");case 3:c=function(){return t.map((function(e){return e._id})).indexOf(n)}(),l=Object.assign({},t[c],Object(f.a)({},i,{quantity:--r})),s=[].concat(Object(fe.a)(t.slice(0,c)),[l],Object(fe.a)(t.slice(c+1))),a(s),e.next=15;break;case 10:u=function(){return t.map((function(e){return e._id})).indexOf(n)}(),m=Object.assign({},t[u],Object(f.a)({},i,{quantity:++r})),d=[].concat(Object(fe.a)(t.slice(0,u)),[m],Object(fe.a)(t.slice(u+1))),a(d);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=function(e){var t=[];return Object.values(e).forEach((function(e){t.push(e)})),t.join(",")},L=i&&Object.keys(i).length>0?function(e){if(e&&e.length>0){var t=[];return e.forEach((function(e){if(Object.values(e.attribute).length>0&&e._id){var a={value:e._id,label:"".concat(I(e.attribute)||"")};t.push(a)}})),t}return!1}(i.pricing):[];console.log("pricingOptions",L);return Object(o.useEffect)((function(){if(T){var e=function(e){var t=!!(i&&Object.keys(i).length>0)&&i.pricing;if(t){var a=t.find((function(t){return t._id===e}));return console.log("priceItem",e),!(!a||!a.price.regular)&&(a.price.offer&&parseInt(a.price.offer)?a.price.offer:a.price.regular)}}(T);k(e)}}),[T]),console.log("modifiedPrice",x),c.a.createElement(c.a.Fragment,null,i&&Object.keys(i).length>0&&c.a.createElement("div",{className:"cart-item",key:""},c.a.createElement("div",{className:"cart-item-quantityCounter"},c.a.createElement("i",{onClick:function(){D("plus")},className:"fa fa-chevron-up"}),c.a.createElement("p",{className:"item-amount"},r),c.a.createElement("i",{onClick:function(){D("minus")},className:"fa fa-chevron-down"})),c.a.createElement("img",{src:i.cover&&i.cover,alt:"Img",style:{cursor:"pointer"}}),c.a.createElement("div",{className:"cart-item-info"},c.a.createElement("h4",null,i.name),c.a.createElement("h5",null,x||i.price),L&&L.length>0&&L.map((function(e){return c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{onClick:function(){return function(e){_(e);var r=t.map((function(e){return e._id})).indexOf(n),o=Object.assign({},t[r],Object(f.a)({},i,{quantity:1})),c=[].concat(Object(fe.a)(t.slice(0,r)),[o],Object(fe.a)(t.slice(r+1)));a(c)}(e.value)},className:T===e.value?"product-attributeTag product-attributeTag-active":"product-attributeTag"},e.label))})))))},Ga=function(e){var t=e.setProductList,a=e.productList;return c.a.createElement("div",{style:{flexDirection:"flex"},className:"addOrderContainer__container-orderSummary"},c.a.createElement("div",{className:"addOrderContainer__container-productItemContainer"},a&&a.length>0&&a.map((function(e){return c.a.createElement(Ua,{setProductList:t,productList:a,productId:e._id,quantity:e.quantity,item:e,variation:e.variation})})),!(a.length>0)&&c.a.createElement("div",{style:{marginLeft:"32px"}},c.a.createElement(Te,{title:"No Product Added",height:150}))))},za=(_t.a.TabPane,y.a().shape({name:y.c().label("Name").required("Name is required").min(3,"Name must have at least 3 characters")})),Ha={name:"",bundlePrice:null,startDate:"",endDate:"",description:"",bnName:"",bnDescription:"",metaTitle:"",bnMetaTitle:"",metaDescription:"",bnMetaDescription:"",metaTags:"",bnMetaTags:""},Wa=function(e){var t=e.addNewCategoryVisible,a=e.setAddNewCategoryVisible,n=e.productList,r=e.setProductList,i=U({},"addBundle"),l=Object(g.a)(i,2),s=l[0],u=l[1],m=Object(o.useState)(!1),d=Object(g.a)(m,2),h=d[0],E=d[1],y=Object(o.useState)(!1),O=Object(g.a)(y,2),j=O[0],N=O[1],x=Object(o.useState)(!1),k=Object(g.a)(x,2),S=(k[0],k[1]),w=Object(o.useState)(!1),T=Object(g.a)(w,2),_=T[0],D=T[1],I=Object(o.useState)(!1),L=Object(g.a)(I,2),P=L[0],M=L[1],R=Object(o.useState)([]),F=Object(g.a)(R,2),A=F[0],B=F[1],V=Object(o.useState)([]),G=Object(g.a)(V,2),z=G[0],H=G[1],W=Object(o.useState)(""),q=Object(g.a)(W,2),Y=q[0],K=q[1],J=Object(o.useState)([]),Q=Object(g.a)(J,2),X=Q[0],Z=Q[1],$=Object(o.useState)(""),ee=Object(g.a)($,2),te=ee[0],ae=ee[1],ne=Object(o.useState)([]),re=Object(g.a)(ne,2),ie=re[0],oe=re[1],ce=Object(o.useState)([]),le=Object(g.a)(ce,2),se=le[0],ue=le[1],me=Object(o.useState)(""),de=Object(g.a)(me,2),pe=(de[0],de[1],Object(o.useState)("")),be=Object(g.a)(pe,2),ge=(be[0],be[1],Object(o.useState)("")),he=Object(g.a)(ge,2),Ee=he[0],ve=he[1],ye=Object(o.useState)(""),Oe=Object(g.a)(ye,2),je=Oe[0],Ce=Oe[1],Ne=Object(o.useState)([]),xe=Object(g.a)(Ne,2),ke=xe[0],Se=xe[1],we=Object(o.useState)([]),Te=Object(g.a)(we,2),_e=Te[0],Ie=Te[1],Le=Object(o.useState)([]),Pe=Object(g.a)(Le,2),Me=Pe[0],Re=Pe[1],Fe=Object(o.useState)([]),Ae=Object(g.a)(Fe,2),Be=Ae[0],Ve=Ae[1],Ue=Object(o.useState)({regular:null,offer:null}),Ge=Object(g.a)(Ue,2),ze=Ge[0],He=Ge[1],We=function(){var e=Object(b.a)(p.a.mark((function e(t,i){var o,c,l;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=j?j.map((function(e){return e.id})):[],c=_e.length>0?_e.map((function(e){return{_id:e._id,variation:e.variation,quantity:e.quantity}})):[],e.next=4,u({body:{name:t.name.trim(),category:A,tags:z,brand:Y,price:ze,description:Ee,model:t.model,unit:t.unit,image:o,products:c,metaTitle:t.metaTitle,metaDescription:t.metaDescription,metaTags:Me.join(","),bn:{metaTitle:t.bnMetaTitle,metaDescription:t.bnMetaDescription,metaTags:Be.join(","),name:t.bnName.trim(),unit:t.metaUnit,description:t.bnDescription}}});case 4:(l=e.sent)&&"ok"===l.status&&(Sa("Bundle Created"),console.log("addProductBundleRes",l),r([Object(f.a)({id:l._id||"",key:l._id||"",name:l.name||"",description:l.description||""},l)].concat(Object(fe.a)(n))),a(!1),N([]),ae(""),Z([]),H([]),ue([]),K(""),B([]),oe([]),i.resetForm()),i.setSubmitting(!1);case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();console.log("productlistbundle",_e),Object(o.useEffect)((function(){if(!s.isLoading){var e=s.error;if(e.isError&&Object.keys(e.error).length>0)(Object.values(e.error).length>0?Object.values(e.error):[]).forEach((function(e,t){if("string"===typeof e)wa(e);else if("object"===typeof e){if(e&&Object.keys(e).length>0)Object.values(e).forEach((function(e){wa(e)}))}}))}}),[s]),Object(o.useEffect)((function(){if(ke&&ke.length>0&&_e){if(ke.length>_e.length){var e=ke[ke.length-1].pricing&&ke[ke.length-1].pricing.length>0&&ke[ke.length-1].pricing[0]._id;console.log("variation",e),Ie([].concat(Object(fe.a)(_e),[Object(f.a)({},ke[ke.length-1],{_id:ke[ke.length-1].id,variation:e,quantity:1})]))}else if(ke.length<_e.length){console.log("productIds",ke),console.log("productList",_e);var t=_e.filter((function(e){var t=!1;return ke.forEach((function(a){a.id===e._id&&(t=!0)})),t}));Ie(t)}}else Ie([])}),[ke]);var qe=function(e){a(!1)};return c.a.createElement(v.a,{onSubmit:function(e,t){return We(e,t)},validationSchema:za,validateOnBlur:!1,enableReinitialize:!0,initialValues:Object(f.a)({},Ha)},(function(e){var a=e.handleChange,n=e.values,r=e.handleSubmit,i=e.errors,o=(e.isValid,e.isSubmitting),l=e.touched,u=(e.handleBlur,e.setFieldTouched);e.handleReset;return c.a.createElement(c.a.Fragment,null,c.a.createElement(Ot.a,{style:{top:"40px"},bodyStyle:{margin:0,padding:0},width:"70vw",title:"Add New Bundle",visible:t,onOk:function(e){return r(e)},onCancel:qe,okText:"Create",okButtonProps:{loading:o,htmlType:"submit"}},c.a.createElement("section",{className:"addProductGridContainer"},c.a.createElement("div",{className:"addProductGridContainer__left"},c.a.createElement("div",{className:"addProductGridContainer__name"},c.a.createElement("div",{className:"addProductGridContainer__item-header"},c.a.createElement("h3",null,"Bundle Information *"),c.a.createElement("div",{className:n.name&&n.name.length>2?"checkicon-active":"checkicon"},c.a.createElement(De.a,null))),c.a.createElement("div",{className:"addProductGridContainer__item-body"},c.a.createElement(C,{label:"Name",value:n.name,placeHolder:"Rafty ox",name:"name",isError:l.name&&i.name||!o&&s.error.error.name,errorString:l.name&&i.name||!o&&s.error.error.name,onChange:function(e){a(e),u("name")}}),c.a.createElement(C,{label:"BN Name",value:n.bnName,placeHolder:"\u09b0\u09be\u09ab\u09a4\u09bf \u0985\u0995\u09cd\u09b8",name:"bnName",isError:l.bnName&&i.bnName||!o&&s.error.error.bnName,errorString:l.bnName&&i.bnName||!o&&s.error.error.bnName,onChange:function(e){a(e),u("bnName")}}),c.a.createElement("h3",{className:"inputFieldLabel"},"Description"),c.a.createElement("div",{style:{width:"100%",maxWidth:"100%"}},c.a.createElement(ja.a,{editor:Na.a,data:Ee,onInit:function(e){console.log("Editor is ready to use!",e)},onChange:function(e,t){var a=t.getData();ve(a)},onBlur:function(e,t){console.log("Blur.",t)},onFocus:function(e,t){console.log("Focus.",t)}})),c.a.createElement("div",{style:{marginTop:"15px"}}),c.a.createElement("h3",{className:"inputFieldLabel"},"BN Description"),c.a.createElement("div",{style:{width:"100%",maxWidth:"100%"}},c.a.createElement(ja.a,{editor:Na.a,data:je,onInit:function(e){console.log("Editor is ready to use!",e)},onChange:function(e,t){var a=t.getData();Ce(a)},onBlur:function(e,t){console.log("Blur.",t)},onFocus:function(e,t){console.log("Focus.",t)}})),c.a.createElement("div",{style:{marginBottom:"15px"}}),c.a.createElement("div",{className:"addProductGridContainer__item-body-variationCard-item"},c.a.createElement("h4",null,"Price *"),c.a.createElement("div",{className:"addProductGridContainer__item-body-variationCard-item-container"},c.a.createElement("div",{className:"addProductGridContainer__item-body-variationCard-item-container-left"},c.a.createElement(xa,{label:"Regular",value:ze.regular,name:"regular",onChange:function(e){return He(Object(f.a)({},ze,{regular:e.target.value}))}})),c.a.createElement("div",{className:"addProductGridContainer__item-body-variationCard-item-container-right"},c.a.createElement(xa,{label:"Offer",value:ze.offer,name:"offer",onChange:function(e){return He(Object(f.a)({},ze,{offer:e.target.value}))}})))))),c.a.createElement("div",{className:"addProductGridContainer__price"},c.a.createElement("div",{className:"addProductGridContainer__item-header"},c.a.createElement("h3",null,"Products"),c.a.createElement("div",{className:X&&X.length>0?"checkicon-active":"checkicon"},c.a.createElement(De.a,null))),c.a.createElement("div",{className:"addProductGridContainer__item-body"},c.a.createElement("h3",{className:"inputFieldLabel"},"Products"),c.a.createElement(Va,{setProductIds:Se,productIds:ke}),c.a.createElement("div",{style:{marginTop:"15px"}}),c.a.createElement("h3",{className:"inputFieldLabel"},"Selcted Products"),c.a.createElement(Ga,{productList:_e,setProductList:Ie}))),c.a.createElement("div",{className:"addProductGridContainer__image"},c.a.createElement("div",{className:"addProductGridContainer__item-header"},c.a.createElement("h3",null,"Image"),c.a.createElement(pt.a,{placement:"left",title:"Click on the image to select cover image, By default 1st image is selected as cover"},c.a.createElement("a",{href:"###"},c.a.createElement(Ct.a,null)))),c.a.createElement("div",{className:"addProductGridContainer__item-body"},c.a.createElement("div",{className:"aboutToUploadImagesContainer"},j&&j.length>0&&j.map((function(e,t){return c.a.createElement("div",{className:"aboutToUploadImagesContainer__item"},c.a.createElement("div",{className:"aboutToUploadImagesContainer__item-imgContainer",onClick:function(){return ae(e.id)}},c.a.createElement("img",{src:e.cover,alt:e.alt})),c.a.createElement("span",{onClick:function(){return function(e){var t=j&&j.filter((function(t){return t.id!==e}));N(t)}(e.id)},className:"aboutToUploadImagesContainer__item-remove"},c.a.createElement(Nt.a,null)),(te===e.id||!te&&0===t)&&c.a.createElement("span",{className:"aboutToUploadImagesContainer__item-cover"},c.a.createElement(xt.a,null)))})),c.a.createElement(pt.a,{title:"Attach images"},c.a.createElement("div",{onClick:function(){E(!0),M(!0),D(!1)},className:"aboutToUploadImagesContainer__uploadItem"},c.a.createElement(kt.a,null),c.a.createElement("span",{className:"aboutToUploadImagesContainer__uploadItem-plus"},c.a.createElement(ht.a,null))))))),c.a.createElement("div",{className:"addProductGridContainer__image"},c.a.createElement("div",{className:"addProductGridContainer__item-header"},c.a.createElement("h3",null,"Meta Data"),c.a.createElement(pt.a,{placement:"left",title:"Meta data will be used to make the user's easy and for search engine optimization."},c.a.createElement("a",{href:"###"},c.a.createElement(Ct.a,null)))),c.a.createElement("div",{className:"addProductGridContainer__item-body"},c.a.createElement(C,{label:"Meta title",value:n.metaTitle,placeHolder:"category...",name:"metaTitle",isError:l.metaTitle&&i.metaTitle||!o&&s.error.error.metaTitle,errorString:l.metaTitle&&i.metaTitle||!o&&s.error.error.metaTitle,onChange:function(e){a(e),u("metaTitle")}}),c.a.createElement(C,{label:"BN Meta title",value:n.bnMetaTitle,placeHolder:"\u0995\u09cd\u09af\u09be\u099f\u09be\u0997\u09dc\u09bf...",name:"bnMetaTitle",isError:l.bnMetaTitle&&i.bnMetaTitle||!o&&s.error.error.bnMetaTitle,errorString:l.bnMetaTitle&&i.bnMetaTitle||!o&&s.error.error.bnMetaTitle,onChange:function(e){a(e),u("bnMetaTitle")}}),c.a.createElement(wt,{label:"Meta description",value:n.metaDescription,placeholder:"meta...",name:"metaDescription",isError:l.metaDescription&&i.metaDescription||!o&&s.error.error.metaDescription,errorString:l.metaDescription&&i.metaDescription||!o&&s.error.error.metaDescription,onChange:function(e){a(e),u("metaDescription")}}),c.a.createElement(wt,{label:"BN Meta Description",value:n.bnMetaDescription,placeholder:"\u098f\u0987\u09df \u09ae\u09c7\u099f...",name:"bnMetaDescription",isError:l.bnMetaDescription&&i.bnMetaDescription||!o&&s.error.error.bnMetaDescription,errorString:l.bnMetaDescription&&i.bnMetaDescription||!o&&s.error.error.bnMetaDescription,onChange:function(e){a(e),u("bnMetaDescription")}}),c.a.createElement("h3",{className:"inputFieldLabel"},"Meta Tags (grocery,fashion)"),c.a.createElement(Wt,{setTags:Re,tags:Me}),c.a.createElement("div",{style:{marginTop:"15px"}}),c.a.createElement("h3",{className:"inputFieldLabel"},"BN Meta Tags (\u09ae\u09c1\u09a6\u09bf\u0996\u09be\u09a8\u09be,\u09ab\u09cd\u09af\u09be\u09b6\u09a8)"),c.a.createElement(Wt,{setTags:Ve,tags:Be})))),c.a.createElement("div",{className:"addProductGridContainer__right"},c.a.createElement("div",{className:"addProductGridContainer__category"},c.a.createElement("div",{className:"addProductGridContainer-rightItemContainer"},c.a.createElement("div",{className:"addProductGridContainer-rightItemContainer-header"},c.a.createElement("h3",null,"Categories *"),c.a.createElement(pt.a,{color:"red",visible:s.error.error.category&&!(A.length>0),placement:"left",title:"Select at least one category"},c.a.createElement("div",{className:A.length>0||s.error.error.category?s.error.error.category?"checkicon-error":"checkicon-active":"checkicon"},c.a.createElement(De.a,null)))),c.a.createElement("div",{className:"addProductGridContainer-rightItemContainer-body"},c.a.createElement(Ra,{setCategoryOptions:oe,categoryOptions:ie,setcategoryIds:B})))),c.a.createElement("div",{className:"addProductGridContainer__tag"},c.a.createElement("div",{className:"addProductGridContainer-rightItemContainer"},c.a.createElement("div",{className:"addProductGridContainer-rightItemContainer-header"},c.a.createElement("h3",null,"Tags")),c.a.createElement("div",{className:"addProductGridContainer-rightItemContainer-body"},c.a.createElement(Da,{setSelectedTags:ue,selectedTags:se,setTagIds:H})))),c.a.createElement("div",{className:"addProductGridContainer__brand"},c.a.createElement("div",{className:"addProductGridContainer-rightItemContainer"},c.a.createElement("div",{className:"addProductGridContainer-rightItemContainer-header"},c.a.createElement("h3",null,"Brand")),c.a.createElement("div",{className:"addProductGridContainer-rightItemContainer-body"},c.a.createElement(La,{setBrandId:K}))))))),c.a.createElement(Vt,{setvisible:E,visible:h,setmyImages:N,myImages:j,setmyThumbnailImage:S,isModalOpenForThumbnail:_,isModalOpenForImages:P}))}))},qa=(y.a().shape({name:y.c().label("Name").required("Name is required").min(3,"Name must have at least 3 characters")}),ot.a.Column),Ya=(ot.a.ColumnGroup,O.a.Search),Ka=function(e){var t=e.data,a=e.setTagList,n=Object(o.useState)(!1),r=Object(g.a)(n,2),i=r[0],l=r[1],s=Object(o.useState)(!1),u=Object(g.a)(s,2),m=u[0],d=u[1],f=U({},"deleteBundle"),h=Object(g.a)(f,2),E=(h[0],h[1]),v=Object(_e.g)(),y=function(){var e=Object(b.a)(p.a.mark((function e(n){var r,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E({urlOptions:{placeHolders:{id:n}}});case 2:(r=e.sent)&&"ok"===r.status&&(o="Deleted Bundle",Me.a.success({message:o||"Bundle Created",description:"",icon:c.a.createElement(De.a,{style:{color:"rgba(0, 128, 0, 0.493)"}})}),i=t.filter((function(e){return e.id!==n})),a(i));case 4:case"end":return e.stop()}var o}),e)})));return function(t){return e.apply(this,arguments)}}();return c.a.createElement(c.a.Fragment,null,c.a.createElement(ot.a,{size:"small",dataSource:t},c.a.createElement(qa,{title:"",dataIndex:"cover",key:"id",width:"80px",className:"classnameofthecolumn",render:function(e,t){return c.a.createElement(c.a.Fragment,null,c.a.createElement("img",{onClick:function(){v.push("/admin/bundle/".concat(t.id)),d(t)},src:e,alt:"cover img",style:{height:"40px",width:"40px",objectFit:"contain",borderRadius:"3px",cursor:"pointer"}}))}}),c.a.createElement(qa,{title:"Name",dataIndex:"name",key:"id",className:"classnameofthecolumn",render:function(e,t){return c.a.createElement(c.a.Fragment,null,c.a.createElement("h4",{onClick:function(){v.push("/admin/bundle/".concat(t.id)),d(t)},style:{fontWeight:400,color:"#555",cursor:"pointer"}},e))}}),c.a.createElement(qa,{title:"Price",dataIndex:"price",key:"id",className:"classnameofthecolumn"}),c.a.createElement(qa,{title:"Product",dataIndex:"productCount",key:"id",className:"classnameofthecolumn"}),c.a.createElement(qa,{className:"classnameofthecolumn",title:"",key:"action",align:"right",render:function(e,t){return c.a.createElement(dt.a,{size:"middle"},c.a.createElement("a",{href:"##"},c.a.createElement(pt.a,{placement:"top",title:"Quick Edit Bundle"},c.a.createElement("span",{className:"iconSize",onClick:function(){l(!0),d(t)}},c.a.createElement(gt.a,null)))),c.a.createElement(bt.a,{onConfirm:function(){return y(t.id)},title:"Are you sure\uff1f",okText:"Yes",cancelText:"No"},c.a.createElement("span",{className:"iconSize iconSize-danger"},c.a.createElement(ft.a,null))))}})),m&&c.a.createElement(Ba,{productList:t,setProductList:a,setAddNewCategoryVisible:l,addNewCategoryVisible:i,productDetailData:m}))},Ja=function(e){Object(h.a)(e);var t=Object(o.useState)([]),a=Object(g.a)(t,2),n=a[0],r=a[1],i=U({},"bundleList"),l=Object(g.a)(i,2),s=l[0],u=l[1];Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u({urlOptions:{params:{sortItem:"added",sortOrderValue:"-1",productType:"bundle"}}});case 2:t=e.sent,r(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var m=Object(o.useState)(!1),d=Object(g.a)(m,2),f=d[0],v=d[1];return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"categoryListContainer"},c.a.createElement("div",{className:"categoryListContainer__header"},c.a.createElement("div",{className:"categoryListContainer__header-searchBar-tag"},c.a.createElement("h2",{className:"categoryListContainer__header-title"},"Bundles"),c.a.createElement(Ya,{enterButton:!1,className:"searchbarClassName",placeholder:"search bundles..",onChange:function(e){return function(e){if(s.data.length>0){var t=s.data.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())}));r(t)}}(e.target.value)}})),c.a.createElement(E.a,{className:"btnPrimaryClassNameoutline",icon:c.a.createElement(ht.a,null),onClick:function(){return v(!0)}},"Add New")),c.a.createElement("div",{className:"categoryListContainer__categoryList"},s.done&&n.length>0&&c.a.createElement(Ka,{setTagList:r,data:n}),s.isLoading&&c.a.createElement(ta,null),s.done&&!(n.length>0)&&c.a.createElement("div",{style:{marginTop:"200px"}},c.a.createElement(we.a,{description:"No Bundle found",image:we.a.PRESENTED_IMAGE_SIMPLE})))),c.a.createElement(Wa,{productList:n,setProductList:r,addNewCategoryVisible:f,setAddNewCategoryVisible:v}))},Qa=(_t.a.TabPane,y.a().shape({name:y.c().label("Name").required("Name is required").min(3,"Name must have at least 3 characters")})),Xa={name:"",bundlePrice:null,startDate:"",endDate:"",description:"",bnName:"",bnDescription:"",metaTitle:"",bnMetaTitle:"",metaDescription:"",bnMetaDescription:"",metaTags:"",bnMetaTags:""},Za=function(e){var t=e.addNewCategoryVisible,a=e.setAddNewCategoryVisible,n=e.productDetailData,r=U({},"updateProduct"),i=Object(g.a)(r,2),l=i[0],s=(i[1],U({},"bundleDetail")),u=Object(g.a)(s,2),m=u[0],d=u[1],h=U({},"attachImageToItemMultiple"),E=Object(g.a)(h,2),y=(E[0],E[1]),O=U({},"attachImageToItemSingle"),j=Object(g.a)(O,2),N=(j[0],j[1]),x=U({},"detachImageFromItemMultiple"),k=Object(g.a)(x,2),S=(k[0],k[1],U({},"detachImageFromItemSingle")),w=Object(g.a)(S,2),T=(w[0],w[1]),_=U({},"setImageAsThumbnailToItem"),D=Object(g.a)(_,2),I=(D[0],D[1]),L=Object(o.useState)([]),P=Object(g.a)(L,2),M=P[0],R=P[1],F=Object(o.useState)(!1),A=Object(g.a)(F,2),B=A[0],V=A[1],G=Object(o.useState)(!1),z=Object(g.a)(G,2),H=z[0],W=z[1],q=Object(o.useState)(!1),Y=Object(g.a)(q,2),K=(Y[0],Y[1]),J=Object(o.useState)(!1),Q=Object(g.a)(J,2),X=Q[0],Z=Q[1],$=Object(o.useState)(!1),ee=Object(g.a)($,2),te=ee[0],ae=ee[1],ne=Object(o.useState)([]),re=Object(g.a)(ne,2),ie=re[0],oe=re[1],ce=Object(o.useState)([]),le=Object(g.a)(ce,2),se=le[0],ue=le[1],me=Object(o.useState)(""),de=Object(g.a)(me,2),pe=de[0],be=de[1],ge=Object(o.useState)([]),he=Object(g.a)(ge,2),Ee=(he[0],he[1]),ve=Object(o.useState)(""),ye=Object(g.a)(ve,2),Oe=ye[0],je=ye[1],Ce=Object(o.useState)([]),Ne=Object(g.a)(Ce,2),xe=Ne[0],ke=Ne[1],Se=Object(o.useState)([]),we=Object(g.a)(Se,2),Te=we[0],_e=we[1],Ie=Object(o.useState)(""),Le=Object(g.a)(Ie,2),Pe=(Le[0],Le[1]),Me=Object(o.useState)(""),Fe=Object(g.a)(Me,2),Ae=(Fe[0],Fe[1]),Be=Object(o.useState)(""),Ve=Object(g.a)(Be,2),Ue=Ve[0],Ge=Ve[1],ze=Object(o.useState)(""),He=Object(g.a)(ze,2),We=He[0],qe=He[1],Ye=Object(o.useState)([]),Ke=Object(g.a)(Ye,2),Je=Ke[0],Qe=Ke[1],Xe=Object(o.useState)([]),Ze=Object(g.a)(Xe,2),$e=Ze[0],et=Ze[1],tt=Object(o.useState)({}),at=Object(g.a)(tt,2),nt=(at[0],at[1],Object(o.useState)("2")),rt=Object(g.a)(nt,2),it=(rt[0],rt[1],Object(o.useState)(!1)),ot=Object(g.a)(it,2),ct=(ot[0],ot[1],Object(o.useState)([])),lt=Object(g.a)(ct,2),st=lt[0],ut=lt[1],mt=U({},"updateBundle"),dt=Object(g.a)(mt,2),bt=dt[0],gt=dt[1];Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d({urlOptions:{placeHolders:{id:n.id}}});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[n]);var ft=Object(o.useState)({regular:null,offer:null}),Et=Object(g.a)(ft,2),vt=Et[0],yt=Et[1],jt=function(){var e=Object(b.a)(p.a.mark((function e(t,r){var i,o,c,l;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=H?H.map((function(e){return e.id})):[],console.log("productList",M),o=M.length>0?M.map((function(e){return{_id:e._id,variation:e.variation,quantity:e.quantity}})):[],!(n&&Object.keys(n).length>0)){e.next=14;break}if(c=[],i&&i.length>0&&i.forEach((function(e){n&&n.image&&(n.image.includes(e)||c.push(e))})),!(c[0]&&c.length>1)){e.next=11;break}return e.next=9,y({urlOptions:{placeHolders:{collection:"product",itemId:n.id}},body:{image:c}});case 9:e.next=14;break;case 11:if(!(c[0]&&c.length<1)){e.next=14;break}return e.next=14,N({urlOptions:{placeHolders:{imageId:c[0].id,collection:"product",itemId:n.id}}});case 14:return e.next=16,gt({urlOptions:{placeHolders:{id:n.id}},body:{name:t.name.trim(),category:ie,tags:se,brand:pe,price:vt,description:Ue,model:t.model,unit:t.unit,image:i,products:o,metaTitle:t.metaTitle,metaDescription:t.metaDescription,metaTags:Je.join(","),bn:{metaTitle:t.bnMetaTitle,metaDescription:t.bnMetaDescription,metaTags:$e.join(","),name:t.bnName.trim(),unit:t.metaUnit,description:t.bnDescription}}});case 16:(l=e.sent)&&"ok"===l.status&&(Sa("Bundle Updated"),a(!1),W([]),je(""),Ee([]),ue([]),_e([]),be(""),oe([]),ke([]),r.resetForm()),r.setSubmitting(!1);case 19:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();Object(o.useEffect)((function(){if(!bt.isLoading){var e=bt.error;if(e.isError&&Object.keys(e.error).length>0)(Object.values(e.error).length>0?Object.values(e.error):[]).forEach((function(e,t){if("string"===typeof e)wa(e);else if("object"===typeof e){if(e&&Object.keys(e).length>0)Object.values(e).forEach((function(e){wa(e)}))}}))}}),[bt]),Object(o.useEffect)((function(){if(m.data&&m.data.products&&m.data.products.length>0){var e=m.data.products.map((function(e){return Object(f.a)({},e,{id:e._id})}));ut(e);var t=m.data.products.map((function(e){return{_id:e._id,variation:e.variation,quantity:e.quantity,totalPrice:e.totalPrice}}));R(t)}console.log("productDetailState['data']",m.data)}),[m.done]),Object(o.useEffect)((function(){if(st&&st.length>0&&M){if(st.length>M.length){var e=st[st.length-1].pricing&&st[st.length-1].pricing.length>0&&st[st.length-1].pricing[0]._id;console.log("variation",e),R([].concat(Object(fe.a)(M),[Object(f.a)({},st[st.length-1],{_id:st[st.length-1].id,variation:e,quantity:1})]))}else if(st.length<M.length){console.log("productIds",st),console.log("productList",M);var t=M.filter((function(e){var t=!1;return st.forEach((function(a){a.id===e._id&&(t=!0)})),t}));R(t)}}else R([])}),[st]),Object(o.useEffect)((function(){if(n&&n.brand?be(n.brand.id):be(""),n&&n.tags&&n.tags.length>0?_e(n.tags):_e([]),n&&n.category&&n.category.length>0){var e=n.category;ke(e),oe(e)}else ke([]);n&&n.anotherPrice&&n.anotherPrice?yt(n.anotherPrice):Ee([]),n&&n.date&&n.date?Pe(n.date):Pe(""),n&&n.time&&n.time?Ae(n.time):Ae("")}),[n]),Object(o.useEffect)((function(){if(m.done&&Object.keys(m).length>0){var e=m.data.image;e&&e.length>0&&W(e),m.data.cover&&m.data.cover.id&&(W([m.data.cover].concat(Object(fe.a)(e))),console.log("catcat",[m.data.cover].concat(Object(fe.a)(e))),je(m.data.cover.id))}}),[m]),Object(o.useEffect)((function(){console.log("thumnail",H),H&&H[0]&&H.length<2&&(console.log("thumnail2",H),Oe!==H[0].id&&(je(H[0].id),Tt(H[0])))}),[H]);var St=function(){var e=Object(b.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T({urlOptions:{placeHolders:{imageId:t,collection:"product",itemId:n.id}}});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Tt=function(){var e=Object(b.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I({urlOptions:{placeHolders:{imageId:t.id,collection:"product",itemId:n.id}}});case 2:a=e.sent,console.log("thumbnailRes",a),a&&"ok"===a.status?Sa("Set as thumbnail!"):wa("Couldn't set as thumbnail, Something went wrong");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(o.useEffect)((function(){if(!l.isLoading){var e=l.error;if(e.isError&&Object.keys(e.error).length>0)(Object.values(e.error).length>0?Object.values(e.error):[]).forEach((function(e,t){if("string"===typeof e)wa(e);else if("object"===typeof e){if(e&&Object.keys(e).length>0)Object.values(e).forEach((function(e){wa(e)}))}}))}}),[l]);var _t=function(e){a(!1)};return Object(o.useEffect)((function(){if(m.data&&Object.keys(m.data).length>0&&m.data.metaTags){var e=m.data.metaTags.split(",");console.log("localMetaTags",e);var t=m.data.bn.metaTags.split(",");Qe(e),et(t)}}),[m.done]),c.a.createElement(v.a,{onSubmit:function(e,t){return jt(e,t)},validationSchema:Qa,validateOnBlur:!1,enableReinitialize:!0,initialValues:Object(f.a)({},Xa,{},Object(f.a)({},n,{},m.data&&Object.keys(m.data).length>0&&m.data.bn&&{bnMetaTitle:m.data.bn.metaTitle,bnMetaDescription:m.data.bn.metaDescription,bnName:m.data.bn.name,metaUnit:m.data.bn.unit,bnDescription:m.data.bn.description}))},(function(e){var a=e.handleChange,n=e.values,r=e.handleSubmit,i=e.errors,o=(e.isValid,e.isSubmitting),l=e.touched,s=(e.handleBlur,e.setFieldTouched);e.handleReset;return c.a.createElement(c.a.Fragment,null,c.a.createElement(Ot.a,{style:{top:"40px"},bodyStyle:{margin:0,padding:0},width:"70vw",title:"Add New Bundle",visible:t,onOk:function(e){return r(e)},onCancel:_t,okText:"Update",okButtonProps:{loading:o,htmlType:"submit"}},c.a.createElement("section",{className:"addProductGridContainer"},c.a.createElement("div",{className:"addProductGridContainer__left"},c.a.createElement("div",{className:"addProductGridContainer__name"},c.a.createElement("div",{className:"addProductGridContainer__item-header"},c.a.createElement("h3",null,"Bundle Information *"),c.a.createElement("div",{className:n.name&&n.name.length>2?"checkicon-active":"checkicon"},c.a.createElement(De.a,null))),c.a.createElement("div",{className:"addProductGridContainer__item-body"},c.a.createElement(C,{label:"Name",value:n.name,placeHolder:"Rafty ox",name:"name",isError:l.name&&i.name||!o&&bt.error.error.name,errorString:l.name&&i.name||!o&&bt.error.error.name,onChange:function(e){a(e),s("name")}}),c.a.createElement(C,{label:"BN Name",value:n.bnName,placeHolder:"\u09b0\u09be\u09ab\u09a4\u09bf \u0985\u0995\u09cd\u09b8",name:"bnName",isError:l.bnName&&i.bnName||!o&&bt.error.error.bnName,errorString:l.bnName&&i.bnName||!o&&bt.error.error.bnName,onChange:function(e){a(e),s("bnName")}}),c.a.createElement("h3",{className:"inputFieldLabel"},"Description"),c.a.createElement("div",{style:{width:"100%",maxWidth:"100%"}},c.a.createElement(ja.a,{editor:Na.a,data:Ue,onInit:function(e){console.log("Editor is ready to use!",e)},onChange:function(e,t){var a=t.getData();Ge(a)},onBlur:function(e,t){console.log("Blur.",t)},onFocus:function(e,t){console.log("Focus.",t)}})),c.a.createElement("div",{style:{marginTop:"15px"}}),c.a.createElement("h3",{className:"inputFieldLabel"},"BN Description"),c.a.createElement("div",{style:{width:"100%",maxWidth:"100%"}},c.a.createElement(ja.a,{editor:Na.a,data:We,onInit:function(e){console.log("Editor is ready to use!",e)},onChange:function(e,t){var a=t.getData();qe(a)},onBlur:function(e,t){console.log("Blur.",t)},onFocus:function(e,t){console.log("Focus.",t)}})),c.a.createElement("div",{style:{marginBottom:"15px"}}),c.a.createElement("div",{className:"addProductGridContainer__item-body-variationCard-item"},c.a.createElement("h4",null,"Price *"),c.a.createElement("div",{className:"addProductGridContainer__item-body-variationCard-item-container"},c.a.createElement("div",{className:"addProductGridContainer__item-body-variationCard-item-container-left"},c.a.createElement(xa,{label:"Regular",value:vt.regular,name:"regular",onChange:function(e){return yt(Object(f.a)({},vt,{regular:e.target.value}))}})),c.a.createElement("div",{className:"addProductGridContainer__item-body-variationCard-item-container-right"},c.a.createElement(xa,{label:"Offer",value:vt.offer,name:"offer",onChange:function(e){return yt(Object(f.a)({},vt,{offer:e.target.value}))}})))))),c.a.createElement("div",{className:"addProductGridContainer__image"},c.a.createElement("div",{className:"addProductGridContainer__item-header"},c.a.createElement("h3",null,"Image"),c.a.createElement(pt.a,{placement:"left",title:"Click on the image to select cover image, By default 1st image is selected as cover"},c.a.createElement("a",{href:"###"},c.a.createElement(Ct.a,null)))),c.a.createElement("div",{style:{padding:"10px"},className:"aboutToUploadImagesContainer"},m.isLoading&&c.a.createElement("div",{style:{padding:"20px 0"}},c.a.createElement(Re.a,null)),m.done&&c.a.createElement(c.a.Fragment,null,H&&H.length>0&&H.map((function(e,t){return c.a.createElement("div",{className:"aboutToUploadImagesContainer__item"},c.a.createElement("div",{className:"aboutToUploadImagesContainer__item-imgContainer",onClick:function(){je(e.id),Tt(e)}},c.a.createElement("img",{src:e.cover,alt:e.alt})),c.a.createElement("span",{onClick:function(){!function(e){var t=H&&H.filter((function(t){return t.id!==e}));W(t)}(e.id),St(e.id)},className:"aboutToUploadImagesContainer__item-remove"},c.a.createElement(Nt.a,null)),(Oe===e.id||!Oe&&0===t)&&c.a.createElement("span",{className:"aboutToUploadImagesContainer__item-cover"},c.a.createElement(xt.a,null)))})),c.a.createElement(pt.a,{title:"Attach images"},c.a.createElement("div",{onClick:function(){V(!0),ae(!0),Z(!1)},className:"aboutToUploadImagesContainer__uploadItem"},c.a.createElement(kt.a,null),c.a.createElement("span",{className:"aboutToUploadImagesContainer__uploadItem-plus"},c.a.createElement(ht.a,null))))))),c.a.createElement("div",{className:"addProductGridContainer__image"},c.a.createElement("div",{className:"addProductGridContainer__item-header"},c.a.createElement("h3",null,"Meta Data"),c.a.createElement(pt.a,{placement:"left",title:"Meta data will be used to make the user's easy and for search engine optimization."},c.a.createElement("a",{href:"###"},c.a.createElement(Ct.a,null)))),c.a.createElement("div",{className:"addProductGridContainer__item-body"},c.a.createElement(C,{label:"Meta title",value:n.metaTitle,placeHolder:"category...",name:"metaTitle",isError:l.metaTitle&&i.metaTitle||!o&&bt.error.error.metaTitle,errorString:l.metaTitle&&i.metaTitle||!o&&bt.error.error.metaTitle,onChange:function(e){a(e),s("metaTitle")}}),c.a.createElement(C,{label:"BN Meta title",value:n.bnMetaTitle,placeHolder:"\u0995\u09cd\u09af\u09be\u099f\u09be\u0997\u09dc\u09bf...",name:"bnMetaTitle",isError:l.bnMetaTitle&&i.bnMetaTitle||!o&&bt.error.error.bnMetaTitle,errorString:l.bnMetaTitle&&i.bnMetaTitle||!o&&bt.error.error.bnMetaTitle,onChange:function(e){a(e),s("bnMetaTitle")}}),c.a.createElement(wt,{label:"Meta description",value:n.metaDescription,placeholder:"meta...",name:"metaDescription",isError:l.metaDescription&&i.metaDescription||!o&&bt.error.error.metaDescription,errorString:l.metaDescription&&i.metaDescription||!o&&bt.error.error.metaDescription,onChange:function(e){a(e),s("metaDescription")}}),c.a.createElement(wt,{label:"BN Meta Description",value:n.bnMetaDescription,placeholder:"\u098f\u0987\u09df \u09ae\u09c7\u099f...",name:"bnMetaDescription",isError:l.bnMetaDescription&&i.bnMetaDescription||!o&&bt.error.error.bnMetaDescription,errorString:l.bnMetaDescription&&i.bnMetaDescription||!o&&bt.error.error.bnMetaDescription,onChange:function(e){a(e),s("bnMetaDescription")}}),c.a.createElement("h3",{className:"inputFieldLabel"},"Meta Tags (grocery,fashion)"),c.a.createElement(Wt,{setTags:Qe,tags:Je}),c.a.createElement("div",{style:{marginTop:"15px"}}),c.a.createElement("h3",{className:"inputFieldLabel"},"BN Meta Tags (\u09ae\u09c1\u09a6\u09bf\u0996\u09be\u09a8\u09be,\u09ab\u09cd\u09af\u09be\u09b6\u09a8)"),c.a.createElement(Wt,{setTags:et,tags:$e})))),c.a.createElement("div",{className:"addProductGridContainer__right"},c.a.createElement("div",{className:"addProductGridContainer__category"},c.a.createElement("div",{className:"addProductGridContainer-rightItemContainer"},c.a.createElement("div",{className:"addProductGridContainer-rightItemContainer-header"},c.a.createElement("h3",null,"Categories *"),c.a.createElement(pt.a,{color:"red",visible:bt.error.error.category&&!(ie.length>0),placement:"left",title:"Select at least one category"},c.a.createElement("div",{className:ie.length>0||bt.error.error.category?bt.error.error.category?"checkicon-error":"checkicon-active":"checkicon"},c.a.createElement(De.a,null)))),c.a.createElement("div",{className:"addProductGridContainer-rightItemContainer-body"},c.a.createElement(Ra,{setCategoryOptions:ke,categoryOptions:xe,setcategoryIds:oe})))),c.a.createElement("div",{className:"addProductGridContainer__tag"},c.a.createElement("div",{className:"addProductGridContainer-rightItemContainer"},c.a.createElement("div",{className:"addProductGridContainer-rightItemContainer-header"},c.a.createElement("h3",null,"Tags")),c.a.createElement("div",{className:"addProductGridContainer-rightItemContainer-body"},c.a.createElement(Da,{setSelectedTags:_e,selectedTags:Te,setTagIds:ue})))),c.a.createElement("div",{className:"addProductGridContainer__brand"},c.a.createElement("div",{className:"addProductGridContainer-rightItemContainer"},c.a.createElement("div",{className:"addProductGridContainer-rightItemContainer-header"},c.a.createElement("h3",null,"Brand")),c.a.createElement("div",{className:"addProductGridContainer-rightItemContainer-body"},c.a.createElement(La,{setBrandId:be}))))))),c.a.createElement(Vt,{setvisible:V,visible:B,setmyImages:W,myImages:H,setmyThumbnailImage:K,isModalOpenForThumbnail:X,isModalOpenForImages:te}))}))},$a=function(e){var t=e.productId,a=e.quantity,n=Object(_e.g)(),r=U({},"productDetailById"),i=Object(g.a)(r,2),l=i[0],s=i[1];return Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s({urlOptions:{placeHolders:{id:t}}});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),console.log("productDetailStatecoupon",l),c.a.createElement(ma.a,{paragraph:{rows:2},loading:l.isLoading},console.log({productDetailState:l}),l.data&&Object.keys(l.data).length>0&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"couponDetailProductItem"},c.a.createElement("div",{onClick:function(){return n.push("/admin/product/".concat(t))},className:"couponDetailProductItem__cover"},c.a.createElement("img",{src:l.data.cover&&l.data.cover.cover,alt:""})),c.a.createElement("div",{className:"couponDetailProductItem__info"},c.a.createElement("h2",{onClick:function(){return n.push("/admin/product/".concat(t))}},l.data.name),c.a.createElement("h3",null,l.data.price),c.a.createElement("h3",null,"Quantity: ",a)))))},en=(ot.a.Column,ot.a.ColumnGroup,O.a.Search,function(e){var t=U({},"bundleDetail"),a=Object(g.a)(t,2),n=a[0],r=a[1],i=Object(_e.h)(),l=Object(_e.g)(),s=i.id,u=Object(o.useState)(!1),m=Object(g.a)(u,2),d=m[0],f=m[1];Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r({urlOptions:{placeHolders:{id:s}}});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[s]),console.log("productDetailState",n),console.log("brandParams",i);var h=n.done&&n.data&&n.data.image?function(e){if(!e[0])return!1;e=e.map((function(e){return e.cover}));var t={},a=0,n=0;return e.forEach((function(e,r){a<3?(t[n]?t[n]=[].concat(Object(fe.a)(t[n]),[e]):t[n]=[e],a+=1,n+=1):(a=0,n=0,console.log("localIndex",a))})),t}(n.data.image):[];return console.log("bundleDetail",n),c.a.createElement("div",{className:"brandDetailContainer"},c.a.createElement("div",{className:"brandDetailContainer__heading"},c.a.createElement("h3",null,"Bundle Detail"),n.done&&n.data&&Object.keys(n.data).length>0&&c.a.createElement(c.a.Fragment,null,c.a.createElement(Za,{setAddNewCategoryVisible:f,addNewCategoryVisible:d,productDetailData:n.data}),c.a.createElement(E.a,{onClick:function(){return f(!0)},type:"link",icon:c.a.createElement(gt.a,null)},"Edit"))),c.a.createElement(ma.a,{avatar:!0,paragraph:{rows:3},loading:n.isLoading},n.done&&n.data&&!(Object.keys(n.data).length>0)&&c.a.createElement(we.a,{description:"No Bundle Product found",image:we.a.PRESENTED_IMAGE_SIMPLE}),n.done&&n.data&&Object.keys(n.data).length>0&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"brandDetailContainer__header"},c.a.createElement("div",{className:"brandDetailContainer__header-coverContainer brandDetailContainer__header-coverContainer-product"},c.a.createElement("img",{src:n.data.cover&&n.data.cover.cover,alt:""})),c.a.createElement("div",{className:"brandDetailContainer__header-info"},c.a.createElement("h2",null,n.data.name),c.a.createElement("h4",null,n.data.price),n.data.description&&c.a.createElement("h3",null,n.data.description),n.data.url&&c.a.createElement("h3",null,"URL:",c.a.createElement("span",null,n.data.url)),n.data.category&&n.data.category.length>0&&c.a.createElement(c.a.Fragment,null,c.a.createElement("h3",null,"CATEGORIES:",n.data.category.map((function(e){return c.a.createElement("span",{onClick:function(){return l.push("/admin/category/".concat(e.id))}},e.name)})))))),n.data.icon&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"brandDetailContainer__heading"},c.a.createElement("h3",null,"Icon")),c.a.createElement("div",{className:"brandDetailContainer__inlineBox"},c.a.createElement("div",{className:"brandDetailContainer__header-coverContainer brandDetailContainer__header-coverContainer-icon"},c.a.createElement("img",{src:n.data.icon&&n.data.icon,alt:""}))),c.a.createElement("div",{style:{marginBottom:"25px"}})),n.data.image&&n.data.image.length>0&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"brandDetailContainer__heading"},c.a.createElement("h3",null,"Image Gallary")),c.a.createElement("div",{className:"brandDetailContainer__imageGallary"},c.a.createElement("div",{className:"imgGallaryContainer"},c.a.createElement("div",{className:"imgGallary-row"},h&&Object.keys(h).map((function(e){return c.a.createElement("div",{className:"imgGallary-column"},h[e]&&h[e].map((function(e){return c.a.createElement("img",{src:e,style:{width:"100%"}})})))}))))),c.a.createElement("div",{style:{marginBottom:"25px"}})),n.data.brand&&Object.keys(n.data.brand).length>0&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"brandDetailContainer__heading"},c.a.createElement("h3",null,"Brand")),c.a.createElement("div",{onClick:function(){return l.push("/admin/brand/".concat(n.data.brand.id))},className:"brandDetailContainer__brand"},c.a.createElement("div",{className:"brandDetailContainer__brand-coverbox"},c.a.createElement("img",{src:n.data.brand.cover&&n.data.brand.cover,alt:""})),c.a.createElement("div",{className:"brandDetailContainer__brand-info"},c.a.createElement("h2",null,n.data.brand.name),c.a.createElement("h3",null,n.data.brand.description))),c.a.createElement("div",{style:{marginBottom:"25px"}})),n.data.primaryCategory&&Object.keys(n.data.primaryCategory).length>0&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"brandDetailContainer__heading"},c.a.createElement("h3",null,"Primary Category")),c.a.createElement("div",{onClick:function(){return l.push("/admin/category/".concat(n.data.primaryCategory.id))},className:"brandDetailContainer__brand"},c.a.createElement("div",{className:"brandDetailContainer__brand-coverbox"},c.a.createElement("img",{src:n.data.primaryCategory.cover&&n.data.primaryCategory.cover,alt:""})),c.a.createElement("div",{className:"brandDetailContainer__brand-info"},c.a.createElement("h2",null,n.data.primaryCategory.name),c.a.createElement("h3",null,n.data.primaryCategory.description))),c.a.createElement("div",{style:{marginBottom:"25px"}})),n.done&&n.data&&Object.keys(n.data).length>0&&n.data.products&&c.a.createElement("div",{className:"brandDetailContainer__heading"},c.a.createElement("h3",null,"Products")),c.a.createElement("div",{className:"brandDetailContainer__body"},n.done&&n.data&&n.data.products&&!(n.data.products.length>0)&&c.a.createElement("div",{style:{marginTop:"100px"}},c.a.createElement(we.a,{description:"No Products exists for this Bundle",image:we.a.PRESENTED_IMAGE_SIMPLE})),n.done&&n.data&&Object.keys(n.data).length>0&&c.a.createElement(c.a.Fragment,null,n.data.products&&n.data.products.length>0&&n.data.products.map((function(e){return c.a.createElement($a,{quantity:e.quantity,productId:e._id})})))))))}),tn=y.a().shape({}),an=function(e){Me.a.error({message:e||"Something Went Wrong",description:"",icon:c.a.createElement(De.a,{style:{color:"rgb(241, 67, 67)"}})})},nn={name:"",bnName:"",description:"",bnDescription:"",metaTitle:"",bnMetaTitle:"",metaDescription:"",bnMetaDescription:"",metaTags:"",bnMetaTags:"",image:[],url:"",cover:""},rn=function(e){var t=e.addNewCategoryVisible,a=e.setAddNewCategoryVisible,n=e.brandList,r=e.setBrandList,i=U({},"addBrand"),l=Object(g.a)(i,2),s=l[0],u=l[1],m=Object(o.useState)(!1),d=Object(g.a)(m,2),h=d[0],E=d[1],y=Object(o.useState)(!1),O=Object(g.a)(y,2),j=O[0],N=O[1],x=Object(o.useState)(""),k=Object(g.a)(x,2),S=k[0],w=k[1],T=Object(o.useState)([]),_=Object(g.a)(T,2),D=_[0],I=_[1],L=Object(o.useState)([]),P=Object(g.a)(L,2),M=P[0],R=P[1];console.log("brandList22",n);var F=function(){var e=Object(b.a)(p.a.mark((function e(t,i){var o,l;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=h?h.map((function(e){return e.id})):[],e.next=3,u({body:{name:t.name.trim(),description:t.description,type:t.type,image:o,cover:S||o[0]?o[0]:"",metaTitle:t.metaTitle,metaDescription:t.metaDescription,metaTags:D.join(","),bn:{metaTitle:t.bnMetaTitle,metaDescription:t.bnMetaDescription,metaTags:M.join(","),name:t.bnName.trim(),description:t.bnDescription}}});case 3:(l=e.sent)&&"ok"===l.status?(s=void 0,Me.a.success({message:s||"Brand Created",description:"",icon:c.a.createElement(De.a,{style:{color:"rgba(0, 128, 0, 0.493)"}})}),r([Object(f.a)({id:l._id||"",key:l._id||"",name:l.name||"",description:l.description||"",cover:l.cover||""},l)].concat(Object(fe.a)(n))),i.resetForm(),a(!1)):an(),i.setSubmitting(!1);case 6:case"end":return e.stop()}var s}),e)})));return function(t,a){return e.apply(this,arguments)}}();Object(o.useEffect)((function(){if(!s.isLoading){var e=s.error;if(e.isError&&Object.keys(e.error).length>0)(Object.values(e.error).length>0?Object.values(e.error):[]).forEach((function(e,t){if("string"===typeof e)an(e);else if("object"===typeof e){if(e&&Object.keys(e).length>0)Object.values(e).forEach((function(e){an(e)}))}}))}}),[s]),Object(o.useEffect)((function(){console.log("thumnail",h),h&&h[0]&&h.length<2&&(console.log("thumnail2",h),S!==h[0].id&&w(h[0].id))}),[h]);var A=function(e){a(!1)};return c.a.createElement(v.a,{onSubmit:function(e,t){return F(e,t)},validationSchema:tn,validateOnBlur:!1,enableReinitialize:!0,initialValues:Object(f.a)({},nn)},(function(e){var a=e.handleChange,n=e.values,r=e.handleSubmit,i=e.errors,o=(e.isValid,e.isSubmitting),l=e.touched,u=(e.handleBlur,e.setFieldTouched);e.handleReset;return c.a.createElement(c.a.Fragment,null,c.a.createElement(Ot.a,{style:{top:"40px"},title:"Add New Brand",visible:t,onOk:function(e){return r(e)},onCancel:A,okText:"Create",okButtonProps:{loading:o,htmlType:"submit"}},c.a.createElement(C,{label:"Name *",value:n.name,name:"name",placeHolder:"",isError:l.name&&i.name||!o&&s.error.error.name,errorString:l.name&&i.name||!o&&s.error.error.name,onChange:function(e){a(e),u("name")}}),c.a.createElement(C,{label:"BN Name",value:n.bnName,placeHolder:"",name:"bnName",isError:l.bnName&&i.bnName||!o&&s.error.error.bnName,errorString:l.bnName&&i.bnName||!o&&s.error.error.bnName,onChange:function(e){a(e),u("bnName")}}),c.a.createElement(wt,{label:"Description",value:n.description,name:"description",placeholder:"This brand...",isError:l.description&&i.description||!o&&s.error.error.description,errorString:l.description&&i.description||!o&&s.error.error.description,onChange:function(e){a(e),u("description")}}),c.a.createElement(wt,{label:"BN Description",value:n.bnDescription,placeholder:"\u098f\u0987 \u09ac\u09cd\u09b0\u09cd\u09af\u09be\u09a8\u09cd\u09a1...",name:"bnDescription",isError:l.bnDescription&&i.bnDescription||!o&&s.error.error.bnDescription,errorString:l.bnDescription&&i.bnDescription||!o&&s.error.error.bnDescription,onChange:function(e){a(e),u("bnDescription")}}),c.a.createElement("div",{style:{marginTop:"20px"}}),c.a.createElement("div",{className:"addproductSection-left-header",style:{marginBottom:"-5px"}},c.a.createElement("h3",{className:"inputFieldLabel"},"Cover")),c.a.createElement("div",{className:"aboutToUploadImagesContainer"},h&&h.length>0&&h.map((function(e,t){return c.a.createElement("div",{className:"aboutToUploadImagesContainer__item"},c.a.createElement("div",{className:"aboutToUploadImagesContainer__item-imgContainer",onClick:function(){N(!0)}},c.a.createElement("img",{src:e.cover,alt:e.alt})),c.a.createElement("span",{onClick:function(){return function(e){var t=h&&h.filter((function(t){return t.id!==e}));E(t)}(e.id)},className:"aboutToUploadImagesContainer__item-remove"},c.a.createElement(Nt.a,null)))})),h&&(!h||h&&h.length>0)?"":c.a.createElement(c.a.Fragment,null,c.a.createElement(pt.a,{title:"Attach images"},c.a.createElement("div",{onClick:function(){N(!0)},className:"aboutToUploadImagesContainer__uploadItem"},c.a.createElement(kt.a,null),c.a.createElement("span",{className:"aboutToUploadImagesContainer__uploadItem-plus"},c.a.createElement(ht.a,null)))))),c.a.createElement(C,{label:"Meta title",value:n.metaTitle,placeHolder:"...",name:"metaTitle",isError:l.metaTitle&&i.metaTitle||!o&&s.error.error.metaTitle,errorString:l.metaTitle&&i.metaTitle||!o&&s.error.error.metaTitle,onChange:function(e){a(e),u("metaTitle")}}),c.a.createElement(C,{label:"BN Meta title",value:n.bnMetaTitle,placeHolder:"...",name:"bnMetaTitle",isError:l.bnMetaTitle&&i.bnMetaTitle||!o&&s.error.error.bnMetaTitle,errorString:l.bnMetaTitle&&i.bnMetaTitle||!o&&s.error.error.bnMetaTitle,onChange:function(e){a(e),u("bnMetaTitle")}}),c.a.createElement(wt,{label:"Meta description",value:n.metaDescription,placeholder:"meta...",name:"metaDescription",isError:l.metaDescription&&i.metaDescription||!o&&s.error.error.metaDescription,errorString:l.metaDescription&&i.metaDescription||!o&&s.error.error.metaDescription,onChange:function(e){a(e),u("metaDescription")}}),c.a.createElement(wt,{label:"BN Meta Description",value:n.bnMetaDescription,placeholder:"\u098f\u0987\u09df \u09ae\u09c7\u099f...",name:"bnMetaDescription",isError:l.bnMetaDescription&&i.bnMetaDescription||!o&&s.error.error.bnMetaDescription,errorString:l.bnMetaDescription&&i.bnMetaDescription||!o&&s.error.error.bnMetaDescription,onChange:function(e){a(e),u("bnMetaDescription")}}),c.a.createElement("h3",{className:"inputFieldLabel"},"Meta Tags "),c.a.createElement(Wt,{setTags:I,tags:D}),c.a.createElement("div",{style:{marginTop:"15px"}}),c.a.createElement("h3",{className:"inputFieldLabel"},"BN Meta Tags "),c.a.createElement(Wt,{setTags:R,tags:M})),c.a.createElement(Vt,{setvisible:N,visible:j,setmyImages:E,myImages:h,isModalOpenForImages:!1}))}))},on=y.a().shape({}),cn=function(e){Me.a.success({message:e||"Brand Updated",description:"",icon:c.a.createElement(De.a,{style:{color:"rgba(0, 128, 0, 0.493)"}})})},ln=function(e){Me.a.error({message:e||"Something Went Wrong",description:"",icon:c.a.createElement(De.a,{style:{color:"rgb(241, 67, 67)"}})})},sn={name:"",bnName:"",description:"",bnDescription:"",metaTitle:"",bnMetaTitle:"",metaDescription:"",bnMetaDescription:"",metaTags:"",bnMetaTags:"",image:[],url:"",cover:""},un=function(e){var t=e.brandDetailData,a=(e.brandEditVisible,e.setBrandEditVisible),n=e.brandList,r=e.setBrandList,i=U({},"updateBrand"),l=Object(g.a)(i,2),s=l[0],u=l[1],m=U({},"brandDetail"),d=Object(g.a)(m,2),h=d[0],y=d[1],O=U({},"attachImageToItemMultiple"),j=Object(g.a)(O,2),N=(j[0],j[1]),x=U({},"attachImageToItemSingle"),k=Object(g.a)(x,2),S=(k[0],k[1]),w=U({},"detachImageFromItemMultiple"),T=Object(g.a)(w,2),_=(T[0],T[1],U({},"detachImageFromItemSingle")),D=Object(g.a)(_,2),I=(D[0],D[1]),L=U({},"setImageAsThumbnailToItem"),P=Object(g.a)(L,2),M=(P[0],P[1]),R=Object(o.useState)(!1),F=Object(g.a)(R,2),A=F[0],B=F[1],V=Object(o.useState)(!1),G=Object(g.a)(V,2),z=G[0],H=G[1],W=Object(o.useState)(""),q=Object(g.a)(W,2),Y=q[0],K=q[1],J=Object(o.useState)([]),Q=Object(g.a)(J,2),X=Q[0],Z=Q[1],$=Object(o.useState)([]),ee=Object(g.a)($,2),te=ee[0],ae=ee[1],ne=Object(o.useState)([]),re=Object(g.a)(ne,2),ie=re[0],oe=re[1];Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y({urlOptions:{placeHolders:{id:t.id}}});case 2:e.sent;case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[t]),Object(o.useEffect)((function(){if(h.data&&Object.keys(h.data).length>0){var e=h.data.image;e&&e.length>0&&(B(e),Z(e)),h.data.cover&&h.data.cover.id&&(B([h.data.cover]),K(h.data.cover.id))}}),[h.data]);var ce=function(){var e=Object(b.a)(p.a.mark((function e(a){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I({urlOptions:{placeHolders:{imageId:a,collection:"brand",itemId:t.id}}});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),le=function(){var e=Object(b.a)(p.a.mark((function e(a){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M({urlOptions:{placeHolders:{imageId:a.id,collection:"brand",itemId:t.id}}});case 2:(n=e.sent)&&"ok"===n.status?cn("Set as thumbnail!"):ln("Couldn't set as thumbnail, Something went wrong");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),se=function(){var e=Object(b.a)(p.a.mark((function e(i,o){var c,l,s,m,d,b;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("myReadyToGoImages",A),!(t&&Object.keys(t).length>0)){e.next=11;break}if(!((c=A&&A.length>0?A.map((function(e){return e.id})):[])[0]&&c.length>1)){e.next=8;break}return e.next=6,N({urlOptions:{placeHolders:{collection:"brand",itemId:t.id}},body:{image:c}});case 6:e.next=11;break;case 8:if(!(c[0]&&c.length<1)){e.next=11;break}return e.next=11,S({urlOptions:{placeHolders:{imageId:c[0].id,collection:"brand",itemId:t.id}}});case 11:return e.next=13,u({urlOptions:{placeHolders:{id:t.id}},body:{name:i.name,description:i.description,metaTitle:i.metaTitle,metaDescription:i.metaDescription,metaTags:te&&te.length>0?te.join(","):"",bn:{metaTitle:i.bnMetaTitle,metaDescription:i.bnMetaDescription,metaTags:ie&&ie.length>0?ie.join(","):"",name:i.bnName,description:i.bnDescription}}});case 13:(l=e.sent)&&"ok"===l.status?(console.log("updateBrandRes",l),s=function(){return n.map((function(e){return e.id})).indexOf(i.id)}(),m=function(e){if(!(e&&A&&A[0]))return"";if(A&&A.length>0){var t=A.find((function(t){return t.id===e}));if(t)return t.cover}},d=Object.assign({},n[s],Object(f.a)({},t,{id:t.id||"",key:t.id||"",name:l.name||"",description:l.description||""},l,{cover:m(Y)})),b=[].concat(Object(fe.a)(n.slice(0,s)),[d],Object(fe.a)(n.slice(s+1))),r(b),cn("Brand Updated!"),a(!1),o.resetForm()):ln(),o.setSubmitting(!1);case 16:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();Object(o.useEffect)((function(){if(!s.isLoading){var e=s.error;if(e.isError&&Object.keys(e.error).length>0)(Object.values(e.error).length>0?Object.values(e.error):[]).forEach((function(e,t){if("string"===typeof e)ln(e);else if("object"===typeof e){if(e&&Object.keys(e).length>0)Object.values(e).forEach((function(e){ln(e)}))}}))}}),[s]);return console.log("myImages",A),Object(o.useEffect)((function(){if(t&&Object.keys(t).length>0){var e=t.metaTags&&t.metaTags.split(",");console.log("localMetaTags",e);var a=t.bn&&t.bn.metaTags&&t.bn.metaTags.split(",");ae(e||[]),oe(a||[])}}),[]),console.log("brandEdit",t),Object(o.useEffect)((function(){console.log("thumnail",A),A&&A[0]&&A.length<2&&(console.log("thumnail2",A),Y!==A[0].id&&(K(A[0].id),le(A[0])))}),[A]),Object(o.useEffect)((function(){if(t&&Object.keys(t).length>0){var e=t.metaTags&&t.metaTags.split(",");console.log("localMetaTags",e);var a=t.bn&&t.bn.metaTags&&t.bn.metaTags.split(",");ae(e||[]),oe(a||[])}}),[]),c.a.createElement(c.a.Fragment,null,c.a.createElement(v.a,{onSubmit:function(e,t){return se(e,t)},validationSchema:on,validateOnBlur:!1,enableReinitialize:!0,initialValues:Object(f.a)({},sn,{},t,{},t&&Object.keys(t).length>0&&{bnMetaTitle:t.bn&&t.bn.metaTitle&&t.bn.metaTitle,bnMetaDescription:t.bn&&t.bn.metaDescription&&t.bn.metaDescription,bnName:t.bn&&t.bn.name&&t.bn.name,bnDescription:t.bn&&t.bn.description&&t.bn.description})},(function(e){var t=e.handleChange,n=e.values,r=e.handleSubmit,i=e.errors,o=(e.isValid,e.isSubmitting),l=e.touched,u=(e.handleBlur,e.setFieldTouched);e.handleReset;return c.a.createElement(c.a.Fragment,null,c.a.createElement("section",{className:"addProductGridContainer"},c.a.createElement("div",{className:"addProductGridContainer__left"},c.a.createElement("div",{className:"addProductGridContainer__name"},c.a.createElement("div",{className:"addProductGridContainer__item-header"},c.a.createElement("h3",null,"Brand Information *"),c.a.createElement("div",{className:n.name&&n.name.length>2?"checkicon-active":"checkicon"},c.a.createElement(De.a,null))),c.a.createElement("div",{className:"addProductGridContainer__item-body"},c.a.createElement(C,{label:"Name *",value:n.name,name:"name",placeHolder:"",isError:l.name&&i.name||!o&&s.error.error.name,errorString:l.name&&i.name||!o&&s.error.error.name,onChange:function(e){t(e),u("name")}}),c.a.createElement(C,{label:"BN Name",value:n.bnName,placeHolder:"",name:"bnName",isError:l.bnName&&i.bnName||!o&&s.error.error.bnName,errorString:l.bnName&&i.bnName||!o&&s.error.error.bnName,onChange:function(e){t(e),u("bnName")}}),c.a.createElement(wt,{label:"Description",value:n.description,name:"description",placeholder:"This brand...",isError:l.description&&i.description||!o&&s.error.error.description,errorString:l.description&&i.description||!o&&s.error.error.description,onChange:function(e){t(e),u("description")}}),c.a.createElement(wt,{label:"BN Description",value:n.bnDescription,placeholder:"\u098f\u0987 \u09ac\u09cd\u09b0\u09cd\u09af\u09be\u09a8\u09cd\u09a1...",name:"bnDescription",isError:l.bnDescription&&i.bnDescription||!o&&s.error.error.bnDescription,errorString:l.bnDescription&&i.bnDescription||!o&&s.error.error.bnDescription,onChange:function(e){t(e),u("bnDescription")}}))),c.a.createElement("div",{className:"addProductGridContainer__image"},c.a.createElement("div",{className:"addProductGridContainer__item-header"},c.a.createElement("h3",null,"Cover"),c.a.createElement(pt.a,{placement:"left",title:"Click on the image to select cover image, By default 1st image is selected as cover"},c.a.createElement("a",{href:"###"},c.a.createElement(Ct.a,null)))),c.a.createElement("div",{style:{padding:"10px"},className:"aboutToUploadImagesContainer"},h.isLoading&&c.a.createElement("div",{style:{padding:"20px 0"}},c.a.createElement(Re.a,null)),h.done&&c.a.createElement(c.a.Fragment,null,A&&A.length>0&&A.map((function(e,t){return c.a.createElement("div",{className:"aboutToUploadImagesContainer__item"},c.a.createElement("div",{className:"aboutToUploadImagesContainer__item-imgContainer",onClick:function(){H(!0)}},c.a.createElement("img",{src:e.cover,alt:e.alt})),c.a.createElement("span",{onClick:function(){!function(e){var t=A&&A.filter((function(t){return t.id!==e}));B(t)}(e.id),ce(e.id)},className:"aboutToUploadImagesContainer__item-remove"},c.a.createElement(Nt.a,null)))})),A&&(!A||A&&A.length>0)?"":c.a.createElement(c.a.Fragment,null,c.a.createElement(pt.a,{title:"Attach images"},c.a.createElement("div",{onClick:function(){H(!0)},className:"aboutToUploadImagesContainer__uploadItem"},c.a.createElement(kt.a,null),c.a.createElement("span",{className:"aboutToUploadImagesContainer__uploadItem-plus"},c.a.createElement(ht.a,null))))))))),c.a.createElement("div",{className:"addProductGridContainer__right"},c.a.createElement("div",{className:"addProductGridContainer__category"},c.a.createElement("div",{className:"addProductGridContainer-rightItemContainer"},c.a.createElement("div",{className:"addProductGridContainer-rightItemContainer-header"},c.a.createElement("h3",null,"Meta Tags"),c.a.createElement(pt.a,{placement:"left",title:"Meta data will be used to make the user's easy and for search engine optimization."},c.a.createElement("a",{href:"###"},c.a.createElement(Ct.a,null)))),c.a.createElement("div",{className:"addProductGridContainer-rightItemContainer-body"},c.a.createElement(C,{label:"Meta title",value:n.metaTitle,placeHolder:"...",name:"metaTitle",isError:l.metaTitle&&i.metaTitle||!o&&s.error.error.metaTitle,errorString:l.metaTitle&&i.metaTitle||!o&&s.error.error.metaTitle,onChange:function(e){t(e),u("metaTitle")}}),c.a.createElement(C,{label:"BN Meta title",value:n.bnMetaTitle,placeHolder:"...",name:"bnMetaTitle",isError:l.bnMetaTitle&&i.bnMetaTitle||!o&&s.error.error.bnMetaTitle,errorString:l.bnMetaTitle&&i.bnMetaTitle||!o&&s.error.error.bnMetaTitle,onChange:function(e){t(e),u("bnMetaTitle")}}),c.a.createElement(wt,{label:"Meta description",value:n.metaDescription,placeholder:"meta...",name:"metaDescription",isError:l.metaDescription&&i.metaDescription||!o&&s.error.error.metaDescription,errorString:l.metaDescription&&i.metaDescription||!o&&s.error.error.metaDescription,onChange:function(e){t(e),u("metaDescription")}}),c.a.createElement(wt,{label:"BN Meta Description",value:n.bnMetaDescription,placeholder:"\u098f\u0987\u09df \u09ae\u09c7\u099f...",name:"bnMetaDescription",isError:l.bnMetaDescription&&i.bnMetaDescription||!o&&s.error.error.bnMetaDescription,errorString:l.bnMetaDescription&&i.bnMetaDescription||!o&&s.error.error.bnMetaDescription,onChange:function(e){t(e),u("bnMetaDescription")}}),c.a.createElement("h3",{className:"inputFieldLabel"},"Meta Tags "),c.a.createElement(Wt,{setTags:ae,tags:te}),c.a.createElement("div",{style:{marginTop:"15px"}}),c.a.createElement("h3",{className:"inputFieldLabel"},"BN Meta Tags "),c.a.createElement(Wt,{setTags:oe,tags:ie})))))),c.a.createElement("div",{style:{padding:"15px",display:"flex",justifyContent:"flex-end"}},c.a.createElement(E.a,{style:{color:"#555",marginRight:"10px"},className:"btnPrimaryClassNameoutline-cancle",onClick:function(){return a(!1)},type:"default"},"Cancel"),c.a.createElement(E.a,{className:"btnPrimaryClassNameoutline",onClick:r,loading:s.isLoading,type:"link",icon:c.a.createElement(xt.a,null)},"Update")),c.a.createElement(Vt,{setvisible:H,visible:z,setmyImages:B,myImages:A,myGoddamnImages:X,setMyGoddamnImages:Z,isModalOpenForImages:!1}))})))},mn=function(e){var t=e.brandDetailData,a=e.brandEditVisible,n=e.setBrandEditVisible,r=e.brandList,i=e.setBrandList;return c.a.createElement(Ot.a,{style:{top:"40px"},width:"70vw",bodyStyle:{margin:0,padding:0},title:"Brand Edit",destroyOnClose:!0,visible:a,onCancel:function(){n(!1)},footer:!1},c.a.createElement(un,{brandDetailData:t,brandEditVisible:a,setBrandEditVisible:n,brandList:r,setBrandList:i}))},dn=ot.a.Column,pn=O.a.Search,bn=function(e){var t=e.data,a=e.setBrandList,n=e.roles,r=Object(o.useState)(!1),i=Object(g.a)(r,2),l=i[0],s=i[1],u=Object(o.useState)(!1),m=Object(g.a)(u,2),d=m[0],f=m[1],h=U({},"deleteBrand"),E=Object(g.a)(h,2),v=(E[0],E[1]),y=Object(o.useState)(!1),O=Object(g.a)(y,2),j=(O[0],O[1],Object(_e.g)()),C=function(){var e=Object(b.a)(p.a.mark((function e(n){var r,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v({urlOptions:{placeHolders:{id:n}}});case 2:(r=e.sent)&&"ok"===r.status&&(o="Deleted Brand",Me.a.success({message:o||"Brand Created",description:"",icon:c.a.createElement(De.a,{style:{color:"rgba(0, 128, 0, 0.493)"}})}),i=t.filter((function(e){return e.id!==n})),a(i));case 4:case"end":return e.stop()}var o}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(e){return e.cover?e.cover:""};return c.a.createElement(c.a.Fragment,null,c.a.createElement(ot.a,{size:"small",dataSource:t},c.a.createElement(dn,{title:"",dataIndex:"cover",key:"id",width:"80px",className:"classnameofthecolumn",render:function(e,t){return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"listCoverImage",onClick:function(){j.push("/admin/brand/".concat(t.id)),f(t)}},c.a.createElement("img",{src:N(t),alt:""})))}}),c.a.createElement(dn,{title:"Name",dataIndex:"name",key:"id",className:"classnameofthecolumn",render:function(e,t){return c.a.createElement(c.a.Fragment,null,c.a.createElement("h4",{onClick:function(){j.push("/admin/brand/".concat(t.id)),f(t)},style:{fontWeight:400,color:"#555",cursor:"pointer"}},e))}}),c.a.createElement(dn,{title:"Description",dataIndex:"description",key:"id",className:"classnameofthecolumn"}),D("postCatalogue",n)&&c.a.createElement(dn,{className:"classnameofthecolumn",title:"",key:"action",align:"right",render:function(e,t){return c.a.createElement(dt.a,{size:"middle"},c.a.createElement("a",{href:"##"},c.a.createElement(pt.a,{placement:"top",title:"Edit Brand"},c.a.createElement("span",{className:"iconSize",onClick:function(){s(!0),f(t)}},c.a.createElement(gt.a,null)))),c.a.createElement(bt.a,{onConfirm:function(){return C(t.id)},title:"Are you sure\uff1f",okText:"Yes",cancelText:"No"},c.a.createElement("span",{className:"iconSize iconSize-danger"},c.a.createElement(ft.a,null))))}})),d&&c.a.createElement(mn,{brandList:t,setBrandList:a,setBrandEditVisible:s,brandEditVisible:l,brandDetailData:d}))},gn=Object(u.b)((function(e){return{roles:e.globalState}}),null)((function(e){var t=e.roles,a=Object(o.useState)([]),n=Object(g.a)(a,2),r=n[0],i=n[1],l=U({},"brandList"),s=Object(g.a)(l,2),u=s[0],m=s[1];Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m({urlOptions:{params:{sortItem:"added",sortOrderValue:"-1"}}});case 2:t=e.sent,i(t||[]);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var d=Object(o.useState)(!1),f=Object(g.a)(d,2),h=f[0],v=f[1];return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"categoryListContainer"},c.a.createElement("div",{className:"categoryListContainer__header"},c.a.createElement("div",{className:"categoryListContainer__header-searchBar"},c.a.createElement("h2",{className:"categoryListContainer__header-title"},"Brand"),c.a.createElement(pn,{enterButton:!1,className:"searchbarClassName",placeholder:"search brand..",onChange:function(e){return function(e){if(u.data.length>0){var t=u.data.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())}));i(t)}}(e.target.value)}})),D("postCatalogue",t)&&c.a.createElement(E.a,{className:"btnPrimaryClassNameoutline",icon:c.a.createElement(ht.a,null),onClick:function(){return v(!0)}},"Add New")),c.a.createElement("div",{className:"categoryListContainer__afterHeader"}),c.a.createElement("div",{className:"categoryListContainer__categoryList"},u.done&&r.length>0&&c.a.createElement(bn,{roles:t,setBrandList:i,data:r}),u.isLoading&&c.a.createElement(ta,null),u.done&&!(r.length>0)&&c.a.createElement("div",{style:{marginTop:"200px"}},c.a.createElement(we.a,{description:"No Brand found",image:we.a.PRESENTED_IMAGE_SIMPLE})))),c.a.createElement(rn,{addNewCategoryVisible:h,setAddNewCategoryVisible:v,setBrandList:i,brandList:r}))})),fn=y.a().shape({}),hn=function(e){Me.a.success({message:e||"Brand Updated",description:"",icon:c.a.createElement(De.a,{style:{color:"rgba(0, 128, 0, 0.493)"}})})},En=function(e){Me.a.error({message:e||"Something Went Wrong",description:"",icon:c.a.createElement(De.a,{style:{color:"rgb(241, 67, 67)"}})})},vn={name:"",bnName:"",description:"",bnDescription:"",metaTitle:"",bnMetaTitle:"",metaDescription:"",bnMetaDescription:"",metaTags:"",bnMetaTags:"",image:[],url:"",cover:""},yn=function(e){var t=e.brandDetailData,a=(e.brandEditVisible,e.setBrandEditVisible),n=e.setBrandDetailData,r=U({},"updateBrand"),i=Object(g.a)(r,2),l=i[0],s=i[1],u=U({},"brandDetail"),m=Object(g.a)(u,2),d=m[0],h=m[1],y=U({},"attachImageToItemMultiple"),O=Object(g.a)(y,2),j=(O[0],O[1]),N=U({},"attachImageToItemSingle"),x=Object(g.a)(N,2),k=(x[0],x[1]),S=U({},"detachImageFromItemMultiple"),w=Object(g.a)(S,2),T=(w[0],w[1],U({},"detachImageFromItemSingle")),_=Object(g.a)(T,2),D=(_[0],_[1]),I=U({},"setImageAsThumbnailToItem"),L=Object(g.a)(I,2),P=(L[0],L[1]),M=Object(o.useState)(!1),R=Object(g.a)(M,2),F=R[0],A=R[1],B=Object(o.useState)(!1),V=Object(g.a)(B,2),G=V[0],z=V[1],H=Object(o.useState)(""),W=Object(g.a)(H,2),q=W[0],Y=W[1],K=Object(o.useState)([]),J=Object(g.a)(K,2),Q=J[0],X=J[1],Z=Object(o.useState)([]),$=Object(g.a)(Z,2),ee=$[0],te=$[1],ae=Object(o.useState)([]),ne=Object(g.a)(ae,2),re=ne[0],ie=ne[1];Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h({urlOptions:{placeHolders:{id:t.id}}});case 2:e.sent;case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[t]),Object(o.useEffect)((function(){if(d.data&&Object.keys(d.data).length>0){var e=d.data.image;e&&e.length>0&&(A(e),X(e)),d.data.cover&&d.data.cover.id&&(A([d.data.cover]),Y(d.data.cover.id))}}),[d.data]);var oe=function(){var e=Object(b.a)(p.a.mark((function e(a){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D({urlOptions:{placeHolders:{imageId:a,collection:"brand",itemId:t.id}}});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ce=function(){var e=Object(b.a)(p.a.mark((function e(a){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P({urlOptions:{placeHolders:{imageId:a.id,collection:"brand",itemId:t.id}}});case 2:(n=e.sent)&&"ok"===n.status?hn("Set as thumbnail!"):En("Couldn't set as thumbnail, Something went wrong");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),le=function(){var e=Object(b.a)(p.a.mark((function e(r,i){var o,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("myReadyToGoImages",F),!(t&&Object.keys(t).length>0)){e.next=11;break}if(!((o=F&&F.length>0?F.map((function(e){return e.id})):[])[0]&&o.length>1)){e.next=8;break}return e.next=6,j({urlOptions:{placeHolders:{collection:"brand",itemId:t.id}},body:{image:o}});case 6:e.next=11;break;case 8:if(!(o[0]&&o.length<1)){e.next=11;break}return e.next=11,k({urlOptions:{placeHolders:{imageId:o[0].id,collection:"brand",itemId:t.id}}});case 11:return e.next=13,s({urlOptions:{placeHolders:{id:t.id}},body:{name:r.name,description:r.description,metaTitle:r.metaTitle,metaDescription:r.metaDescription,metaTags:ee&&ee.length>0?ee.join(","):"",bn:{metaTitle:r.bnMetaTitle,metaDescription:r.bnMetaDescription,metaTags:re&&re.length>0?re.join(","):"",name:r.bnName,description:r.bnDescription}}});case 13:(c=e.sent)&&"ok"===c.status?(n(Object(f.a)({},t,{id:t.id||"",key:t.id||"",name:c.name||"",description:c.description||""},c)),hn("Brand Updated!"),a(!1),i.resetForm()):En(),i.setSubmitting(!1);case 16:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();Object(o.useEffect)((function(){if(!l.isLoading){var e=l.error;if(e.isError&&Object.keys(e.error).length>0)(Object.values(e.error).length>0?Object.values(e.error):[]).forEach((function(e,t){if("string"===typeof e)En(e);else if("object"===typeof e){if(e&&Object.keys(e).length>0)Object.values(e).forEach((function(e){En(e)}))}}))}}),[l]);return console.log("myImages",F),Object(o.useEffect)((function(){if(t&&Object.keys(t).length>0){var e=t.metaTags&&t.metaTags.split(",");console.log("localMetaTags",e);var a=t.bn&&t.bn.metaTags&&t.bn.metaTags.split(",");te(e||[]),ie(a||[])}}),[]),console.log("brandEdit",t),Object(o.useEffect)((function(){console.log("thumnail",F),F&&F[0]&&F.length<2&&(console.log("thumnail2",F),q!==F[0].id&&(Y(F[0].id),ce(F[0])))}),[F]),Object(o.useEffect)((function(){if(t&&Object.keys(t).length>0){var e=t.metaTags&&t.metaTags.split(",");console.log("localMetaTags",e);var a=t.bn&&t.bn.metaTags&&t.bn.metaTags.split(",");te(e||[]),ie(a||[])}}),[]),c.a.createElement(c.a.Fragment,null,c.a.createElement(v.a,{onSubmit:function(e,t){return le(e,t)},validationSchema:fn,validateOnBlur:!1,enableReinitialize:!0,initialValues:Object(f.a)({},vn,{},t,{},t&&Object.keys(t).length>0&&{bnMetaTitle:t.bn&&t.bn.metaTitle&&t.bn.metaTitle,bnMetaDescription:t.bn&&t.bn.metaDescription&&t.bn.metaDescription,bnName:t.bn&&t.bn.name&&t.bn.name,bnDescription:t.bn&&t.bn.description&&t.bn.description})},(function(e){var t=e.handleChange,n=e.values,r=e.handleSubmit,i=e.errors,o=(e.isValid,e.isSubmitting),s=e.touched,u=(e.handleBlur,e.setFieldTouched);e.handleReset;return c.a.createElement(c.a.Fragment,null,c.a.createElement("section",{className:"addProductGridContainer"},c.a.createElement("div",{className:"addProductGridContainer__left"},c.a.createElement("div",{className:"addProductGridContainer__name"},c.a.createElement("div",{className:"addProductGridContainer__item-header"},c.a.createElement("h3",null,"Brand Information *"),c.a.createElement("div",{className:n.name&&n.name.length>2?"checkicon-active":"checkicon"},c.a.createElement(De.a,null))),c.a.createElement("div",{className:"addProductGridContainer__item-body"},c.a.createElement(C,{label:"Name *",value:n.name,name:"name",placeHolder:"",isError:s.name&&i.name||!o&&l.error.error.name,errorString:s.name&&i.name||!o&&l.error.error.name,onChange:function(e){t(e),u("name")}}),c.a.createElement(C,{label:"BN Name",value:n.bnName,placeHolder:"",name:"bnName",isError:s.bnName&&i.bnName||!o&&l.error.error.bnName,errorString:s.bnName&&i.bnName||!o&&l.error.error.bnName,onChange:function(e){t(e),u("bnName")}}),c.a.createElement(wt,{label:"Description",value:n.description,name:"description",placeholder:"This brand...",isError:s.description&&i.description||!o&&l.error.error.description,errorString:s.description&&i.description||!o&&l.error.error.description,onChange:function(e){t(e),u("description")}}),c.a.createElement(wt,{label:"BN Description",value:n.bnDescription,placeholder:"\u098f\u0987 \u09ac\u09cd\u09b0\u09cd\u09af\u09be\u09a8\u09cd\u09a1...",name:"bnDescription",isError:s.bnDescription&&i.bnDescription||!o&&l.error.error.bnDescription,errorString:s.bnDescription&&i.bnDescription||!o&&l.error.error.bnDescription,onChange:function(e){t(e),u("bnDescription")}}))),c.a.createElement("div",{className:"addProductGridContainer__image"},c.a.createElement("div",{className:"addProductGridContainer__item-header"},c.a.createElement("h3",null,"Cover"),c.a.createElement(pt.a,{placement:"left",title:"Click on the image to select cover image, By default 1st image is selected as cover"},c.a.createElement("a",{href:"###"},c.a.createElement(Ct.a,null)))),c.a.createElement("div",{style:{padding:"10px"},className:"aboutToUploadImagesContainer"},d.isLoading&&c.a.createElement("div",{style:{padding:"20px 0"}},c.a.createElement(Re.a,null)),d.done&&c.a.createElement(c.a.Fragment,null,F&&F.length>0&&F.map((function(e,t){return c.a.createElement("div",{className:"aboutToUploadImagesContainer__item"},c.a.createElement("div",{className:"aboutToUploadImagesContainer__item-imgContainer",onClick:function(){z(!0)}},c.a.createElement("img",{src:e.cover,alt:e.alt})),c.a.createElement("span",{onClick:function(){!function(e){var t=F&&F.filter((function(t){return t.id!==e}));A(t)}(e.id),oe(e.id)},className:"aboutToUploadImagesContainer__item-remove"},c.a.createElement(Nt.a,null)))})),F&&(!F||F&&F.length>0)?"":c.a.createElement(c.a.Fragment,null,c.a.createElement(pt.a,{title:"Attach images"},c.a.createElement("div",{onClick:function(){z(!0)},className:"aboutToUploadImagesContainer__uploadItem"},c.a.createElement(kt.a,null),c.a.createElement("span",{className:"aboutToUploadImagesContainer__uploadItem-plus"},c.a.createElement(ht.a,null))))))))),c.a.createElement("div",{className:"addProductGridContainer__right"},c.a.createElement("div",{className:"addProductGridContainer__category"},c.a.createElement("div",{className:"addProductGridContainer-rightItemContainer"},c.a.createElement("div",{className:"addProductGridContainer-rightItemContainer-header"},c.a.createElement("h3",null,"Meta Tags"),c.a.createElement(pt.a,{placement:"left",title:"Meta data will be used to make the user's easy and for search engine optimization."},c.a.createElement("a",{href:"###"},c.a.createElement(Ct.a,null)))),c.a.createElement("div",{className:"addProductGridContainer-rightItemContainer-body"},c.a.createElement(C,{label:"Meta title",value:n.metaTitle,placeHolder:"...",name:"metaTitle",isError:s.metaTitle&&i.metaTitle||!o&&l.error.error.metaTitle,errorString:s.metaTitle&&i.metaTitle||!o&&l.error.error.metaTitle,onChange:function(e){t(e),u("metaTitle")}}),c.a.createElement(C,{label:"BN Meta title",value:n.bnMetaTitle,placeHolder:"...",name:"bnMetaTitle",isError:s.bnMetaTitle&&i.bnMetaTitle||!o&&l.error.error.bnMetaTitle,errorString:s.bnMetaTitle&&i.bnMetaTitle||!o&&l.error.error.bnMetaTitle,onChange:function(e){t(e),u("bnMetaTitle")}}),c.a.createElement(wt,{label:"Meta description",value:n.metaDescription,placeholder:"meta...",name:"metaDescription",isError:s.metaDescription&&i.metaDescription||!o&&l.error.error.metaDescription,errorString:s.metaDescription&&i.metaDescription||!o&&l.error.error.metaDescription,onChange:function(e){t(e),u("metaDescription")}}),c.a.createElement(wt,{label:"BN Meta Description",value:n.bnMetaDescription,placeholder:"\u098f\u0987\u09df \u09ae\u09c7\u099f...",name:"bnMetaDescription",isError:s.bnMetaDescription&&i.bnMetaDescription||!o&&l.error.error.bnMetaDescription,errorString:s.bnMetaDescription&&i.bnMetaDescription||!o&&l.error.error.bnMetaDescription,onChange:function(e){t(e),u("bnMetaDescription")}}),c.a.createElement("h3",{className:"inputFieldLabel"},"Meta Tags "),c.a.createElement(Wt,{setTags:te,tags:ee}),c.a.createElement("div",{style:{marginTop:"15px"}}),c.a.createElement("h3",{className:"inputFieldLabel"},"BN Meta Tags "),c.a.createElement(Wt,{setTags:ie,tags:re})))))),c.a.createElement("div",{style:{padding:"15px",display:"flex",justifyContent:"flex-end"}},c.a.createElement(E.a,{style:{color:"#555",marginRight:"10px"},className:"btnPrimaryClassNameoutline-cancle",onClick:function(){return a(!1)},type:"default"},"Cancel"),c.a.createElement(E.a,{className:"btnPrimaryClassNameoutline",onClick:r,loading:l.isLoading,type:"link",icon:c.a.createElement(xt.a,null)},"Update")),c.a.createElement(Vt,{setvisible:z,visible:G,setmyImages:A,myImages:F,myGoddamnImages:Q,setMyGoddamnImages:X,isModalOpenForImages:!1}))})))},On=function(e){var t=e.brandDetailData,a=e.brandEditVisible,n=e.setBrandEditVisible,r=e.setBrandDetailData;return c.a.createElement(Ot.a,{style:{top:"40px"},width:"70vw",bodyStyle:{margin:0,padding:0},title:"Brand Edit",destroyOnClose:!0,visible:a,onCancel:function(){n(!1)},footer:!1},c.a.createElement(yn,{brandDetailData:t,brandEditVisible:a,setBrandEditVisible:n,setBrandDetailData:r}))},jn=ot.a.Column,Cn=(ot.a.ColumnGroup,O.a.Search,Object(u.b)((function(e){return{roles:e.globalState}}),null)((function(e){var t=e.roles,a=U({},"brandDetail"),n=Object(g.a)(a,2),r=n[0],i=n[1],l=U({},"brandProducts"),s=Object(g.a)(l,2),u=s[0],m=s[1],d=Object(_e.h)(),f=Object(_e.g)(),h=d.id,v=Object(o.useState)(!1),y=Object(g.a)(v,2),O=y[0],j=y[1],C=Object(o.useState)(!1),N=Object(g.a)(C,2),x=N[0],k=N[1];return Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i({urlOptions:{placeHolders:{id:h}}});case 2:(t=e.sent)&&k(t),console.log("brandDetailRes",t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[h]),Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m({urlOptions:{placeHolders:{id:h}}});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[h]),console.log("brandProductsState",u),console.log("brandParams",d),c.a.createElement("div",{className:"brandDetailContainer"},c.a.createElement("div",{className:"brandDetailContainer__heading"},c.a.createElement("h3",null,"Brand Detail"),r.done&&x&&Object.keys(x).length>0&&c.a.createElement(c.a.Fragment,null,c.a.createElement(On,{brandEditVisible:O,setBrandEditVisible:j,brandDetailData:x,setBrandDetailData:k}),D("postCatalogue",t)&&c.a.createElement(E.a,{onClick:function(){return j(!0)},type:"link",icon:c.a.createElement(gt.a,null)},"Edit"))),c.a.createElement(ma.a,{avatar:!0,paragraph:{rows:3},loading:r.isLoading},r.done&&x&&!(Object.keys(x).length>0)&&c.a.createElement(we.a,{description:"No Brand found",image:we.a.PRESENTED_IMAGE_SIMPLE}),r.done&&x&&Object.keys(x).length>0&&c.a.createElement("div",{className:"brandDetailContainer__header"},c.a.createElement("div",{className:"brandDetailContainer__header-coverContainer"},c.a.createElement("img",{src:x.cover&&x.cover.cover,alt:""})),c.a.createElement("div",{className:"brandDetailContainer__header-info"},c.a.createElement("h2",null,x.name),c.a.createElement("h3",null,x.description),x.url&&c.a.createElement("h3",null,"URL:",c.a.createElement("span",null,x.url))))),c.a.createElement("div",{className:"brandDetailContainer__heading"},c.a.createElement("h3",null,"Products")),c.a.createElement("div",{className:"brandDetailContainer__body"},u.isLoading&&c.a.createElement(ta,null),u.done&&!(u.data.length>0)&&c.a.createElement("div",{style:{marginTop:"100px"}},c.a.createElement(we.a,{description:"No Products exists for this brand",image:we.a.PRESENTED_IMAGE_SIMPLE})),u.done&&u.data&&u.data.length>0&&c.a.createElement(c.a.Fragment,null,c.a.createElement(ot.a,{style:{paddingTop:"10px",borderRadius:"5px !important",overflow:"hidden",boxShadow:"0 0.125rem 0.625rem rgba(227, 231, 250, 0.3), 0 0.0625rem 0.125rem rgba(206, 220, 233, 0.4)"},size:"small",dataSource:u.data,tableLayout:"auto",onHeaderRow:function(e){return{style:{color:"red !important"}}}},c.a.createElement(jn,{title:"",dataIndex:"cover",key:"id",width:"80px",className:"classnameofthecolumn",render:function(e,t){return c.a.createElement(c.a.Fragment,null,c.a.createElement("img",{onClick:function(){f.push("/admin/product/".concat(t.id))},src:e,alt:"cover img",style:{height:"40px",width:"40px",objectFit:"contain",borderRadius:"3px",cursor:"pointer"}}))}}),c.a.createElement(jn,{title:"Name",dataIndex:"name",key:"id",className:"classnameofthecolumn",render:function(e,t){return c.a.createElement(c.a.Fragment,null,c.a.createElement("h4",{onClick:function(){f.push("/admin/product/".concat(t.id))},style:{fontWeight:400,color:"#555",cursor:"pointer"}},e))}}),c.a.createElement(jn,{title:"Offer Price",dataIndex:"offerPrice",key:"id",className:"classnameofthecolumn"}),c.a.createElement(jn,{title:"Price",dataIndex:"price",key:"id",className:"classnameofthecolumn"}),c.a.createElement(jn,{title:"Available",dataIndex:"available",key:"id",className:"classnameofthecolumn"}),c.a.createElement(jn,{title:"Minimum",dataIndex:"minimum",key:"id",className:"classnameofthecolumn"})))))}))),Nn=a(942),xn=a(943),kn=a(944),Sn=a(888),wn=function(e){var t=e.setAttributeList,a=e.attributeList,n=e.attribute,r=Object(o.useState)([]),i=Object(g.a)(r,2),l=i[0],s=i[1],u=A([],[],"attributeList",{}),m=Object(o.useState)({name:n.name,value:n.value}),d=Object(g.a)(m,2),p=d[0],b=d[1];Object(o.useEffect)((function(){var e=a.map((function(e){return e.id})).indexOf(n.id),r=Object.assign({},a[e],Object(f.a)({},p)),i=[].concat(Object(fe.a)(a.slice(0,e)),[r],Object(fe.a)(a.slice(e+1)));t(i)}),[p]);Object(o.useEffect)((function(){if(u.data&&Object.keys(u.data).length>0){var e=Object.keys(u.data).map((function(e){return{value:e}}));s(e)}}),[u.data]);return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{key:n.id,className:"addProductGridContainer__item-body-variationCard-item-attribute-item"},c.a.createElement("div",{onClick:function(){var e=a.filter((function(e){return e.id!==n.id}));t(e)},className:"addProductGridContainer__item-body-variationCard-item-attribute-item-delete"},c.a.createElement(ft.a,null)),c.a.createElement("h3",{className:"inputFieldLabel-small"},"Name"),c.a.createElement(Sn.a,{value:n.name,style:{width:"100%"},options:l,placeholder:"attribute",onChange:function(e){u&&Object.keys(u.data).length>0?u.data[e]&&b(Object(f.a)({},n,{name:e,value:u.data[e]})):b(Object(f.a)({},n,{name:e}))},filterOption:function(e,t){return-1!==t.value.toUpperCase().indexOf(e.toUpperCase())}}),n.name&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{style:{marginTop:"10px"}}),c.a.createElement(xa,{label:"Value",value:n.value,name:"value",onChange:function(e){b(Object(f.a)({},n,{value:e.target.value}))}}))))},Tn=function(e){var t=e.handleAddPricing,a=e.pricingItem,n=e.handleUpdatePricing,r=e.isPricingEditActive,i=Object(o.useState)({regular:"",offer:""}),l=Object(g.a)(i,2),s=l[0],u=l[1],m=Object(o.useState)({available:"",minimum:""}),d=Object(g.a)(m,2),p=d[0],b=d[1],h=Object(o.useState)(""),v=Object(g.a)(h,2),y=v[0],O=v[1],j=Object(o.useState)([]),C=Object(g.a)(j,2),N=C[0],x=C[1];Object(o.useEffect)((function(){if(a&&Object.keys(a).length>0){u(Object(f.a)({},s,{},a.price)),b(Object(f.a)({},p,{},a.stock)),O(null===a||void 0===a?void 0:a.maximumPurchaseLimit);var e=[];if(a.attribute&&Object.keys(a.attribute).length>0)Object.keys(a.attribute).forEach((function(t,n){e.push({name:t,value:a.attribute[t],id:n})}));x(e)}}),[a]),console.log("pricingItem",a),console.log("attributeList",N);var k=function(e){var t=e.target.name,a=e.target.value;u(Object(f.a)({},s,Object(ge.a)({},t,a)))},S=function(e){var t=e.target.name,a=e.target.value;b(Object(f.a)({},p,Object(ge.a)({},t,a)))};return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"addProductGridContainer__item-body-variationCard"},c.a.createElement("div",{className:"addProductGridContainer__item-body-variationCard-left"},c.a.createElement("div",{className:"addProductGridContainer__item-body-variationCard-item"},c.a.createElement("h4",null,"Price"),c.a.createElement("div",{className:"addProductGridContainer__item-body-variationCard-item-container"},c.a.createElement("div",{className:"addProductGridContainer__item-body-variationCard-item-container-left"},c.a.createElement(xa,{min:0,type:"number",label:"Regular  *",value:s.regular,name:"regular",onChange:k})),c.a.createElement("div",{className:"addProductGridContainer__item-body-variationCard-item-container-right"},c.a.createElement(xa,{min:0,type:"number",size:"small",label:"Offer",value:s.offer,name:"offer",onChange:k})))),c.a.createElement("div",{className:"addProductGridContainer__item-body-variationCard-right"},c.a.createElement("div",{className:"addProductGridContainer__item-body-variationCard-item"},c.a.createElement("h4",null,"Attributes"),c.a.createElement("div",{className:"addProductGridContainer__item-body-variationCard-item-attribute"},N.map((function(e){return c.a.createElement(wn,{attribute:e,attributeList:N,setAttributeList:x})})),c.a.createElement(E.a,{size:"small",onClick:function(){x([].concat(Object(fe.a)(N),[{name:"",value:"",id:"".concat(N.length)}]))},style:{width:"180px",minHeight:"75px",marginTop:"0px",borderRadius:"8px"},type:"dashed",icon:c.a.createElement(ht.a,null)},"Add Attribute"))),c.a.createElement("div",{style:{marginTop:"25px"},className:"addProductGridContainer__item-body-variationCard-item"},c.a.createElement("h4",null,"Stock"),c.a.createElement("div",{className:"addProductGridContainer__item-body-variationCard-item-container"},c.a.createElement("div",{className:"addProductGridContainer__item-body-variationCard-item-container-left"},c.a.createElement(xa,{min:0,type:"number",label:"Available",value:p.available,name:"available",onChange:S})),c.a.createElement("div",{className:"addProductGridContainer__item-body-variationCard-item-container-right"},c.a.createElement(xa,{min:0,type:"number",label:"Minimum",value:p.minimum,name:"minimum",onChange:S})))),c.a.createElement("div",{style:{marginTop:"25px"},className:"addProductGridContainer__item-body-variationCard-item"},c.a.createElement("h4",null,"Maximum Purchase Limit"),c.a.createElement("div",{className:"addProductGridContainer__item-body-variationCard-item-container"},c.a.createElement(xa,{min:0,type:"number",value:y,name:"maximumPurchaseLimit",onChange:function(e){O(e.target.value)}})))))),c.a.createElement(E.a,{style:{marginLeft:"10px"},onClick:r?function(e){if(e.preventDefault(),N.length>0){var t={},r=!0,i=!1,o=void 0;try{for(var c,l=N[Symbol.iterator]();!(r=(c=l.next()).done);r=!0){var m=c.value;console.log("itemofattribute",m),m.value&&m.name&&(t[m.name]=m.value)}}catch(f){i=!0,o=f}finally{try{r||null==l.return||l.return()}finally{if(i)throw o}}var d={price:s,stock:p,attribute:t,maximumPurchaseLimit:y,id:a.id};u({regular:"",offer:""}),b({available:"",minimum:""}),x([]),O(""),n(d)}else{var g={price:s,stock:p,attribute:{},maximumPurchaseLimit:y,id:a.id};u({regular:"",offer:""}),b({available:"",minimum:""}),x([]),O(""),n(g)}}:function(e){if(e.preventDefault(),N.length>0){var a={},n=!0,r=!1,i=void 0;try{for(var o,c=N[Symbol.iterator]();!(n=(o=c.next()).done);n=!0){var l=o.value;console.log("itemofattribute",l),l.value&&l.name&&(a[l.name]=l.value)}}catch(g){r=!0,i=g}finally{try{n||null==c.return||c.return()}finally{if(r)throw i}}var m={price:s,stock:p,attribute:a,maximumPurchaseLimit:y};u({regular:"",offer:""}),b({available:"",minimum:""}),O(""),x([]),t(m)}else{var d={price:s,stock:p,maximumPurchaseLimit:y,attribute:{}};u({regular:"",offer:""}),b({available:"",minimum:""}),O(""),x([]),t(d)}},disabled:!s.regular,className:"btnAddToPrice",icon:c.a.createElement(xt.a,null)},r?"Update Pricing":"Add To Pricing"))},_n=_t.a.TabPane,Dn=y.a().shape({}),In={name:"",description:"",model:"",unit:"",regular:"",offer:"",available:"",minimum:"",image:[],url:"",cover:"",pricing:[],venue:"",date:"",time:"",purchaseLimit:null,bnUnit:"",bnName:"",bnDescription:"",metaTitle:"",bnMetaTitle:"",metaDescription:"",bnMetaDescription:"",metaTags:"",bnMetaTags:""},Ln=function(e){var t=e.addNewCategoryVisible,a=e.setAddNewCategoryVisible,n=(e.productList,e.setProductList,e.productListState,U({},"addProduct")),r=Object(g.a)(n,2),i=r[0],l=r[1],s=Object(o.useState)(!1),u=Object(g.a)(s,2),d=u[0],h=u[1],E=Object(o.useState)(!1),y=Object(g.a)(E,2),O=y[0],j=y[1],N=Object(o.useState)(!1),x=Object(g.a)(N,2),k=(x[0],x[1]),S=Object(o.useState)(!1),w=Object(g.a)(S,2),T=w[0],_=w[1],D=Object(o.useState)(!1),I=Object(g.a)(D,2),L=I[0],P=I[1],M=Object(o.useState)([]),R=Object(g.a)(M,2),F=R[0],A=R[1],B=Object(o.useState)([]),V=Object(g.a)(B,2),G=V[0],z=V[1],H=Object(o.useState)(""),W=Object(g.a)(H,2),q=W[0],Y=W[1],K=Object(o.useState)([]),J=Object(g.a)(K,2),Q=J[0],X=J[1],Z=Object(o.useState)(""),$=Object(g.a)(Z,2),ee=$[0],te=$[1],ae=Object(o.useState)([]),ne=Object(g.a)(ae,2),re=ne[0],ie=ne[1],oe=Object(o.useState)([]),ce=Object(g.a)(oe,2),le=ce[0],se=ce[1],ue=Object(o.useState)(""),me=Object(g.a)(ue,2),de=(me[0],me[1],Object(o.useState)("")),pe=Object(g.a)(de,2),be=(pe[0],pe[1],Object(o.useState)("")),ge=Object(g.a)(be,2),he=ge[0],Ee=ge[1],ve=Object(o.useState)(""),ye=Object(g.a)(ve,2),Oe=ye[0],je=ye[1],Ce=Object(o.useState)([]),Ne=Object(g.a)(Ce,2),xe=Ne[0],ke=Ne[1],Se=Object(o.useState)([]),Te=Object(g.a)(Se,2),_e=Te[0],Ie=Te[1],Le=Object(o.useState)({}),Pe=Object(g.a)(Le,2),Me=Pe[0],Re=Pe[1],Fe=Object(o.useState)("1"),Be=Object(g.a)(Fe,2),Ve=Be[0],Ue=Be[1],Ge=Object(o.useState)(!1),ze=Object(g.a)(Ge,2),He=ze[0],We=ze[1],qe=Object(m.e)(),Ye=function(){var e=Object(b.a)(p.a.mark((function e(t,n){var r,i,o,c,s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=O?O.map((function(e){return e.id})):[],e.next=3,l({body:{name:t.name.trim(),description:he,model:t.model,unit:t.unit,category:F,tags:G,brand:q,image:r,cover:ee||r[0]?r[0]:"",pricing:Q,metaTitle:t.metaTitle,metaDescription:t.metaDescription,metaTags:xe.join(","),bn:{metaTitle:t.bnMetaTitle,metaDescription:t.bnMetaDescription,metaTags:_e.join(","),name:t.bnName.trim(),unit:t.metaUnit,description:Oe}}});case 3:(i=e.sent)&&"ok"===i.status&&(Sa("Product Created"),a(!1),o=qe.getQueries(),c=o.filter((function(e){var t=null===e||void 0===e?void 0:e.queryKey;return"product"===(null===t||void 0===t?void 0:t[0])&&"number"===typeof(null===t||void 0===t?void 0:t[1])})).map((function(e){return null===e||void 0===e?void 0:e.queryKey})),(s=null===c||void 0===c?void 0:c[0])&&qe.setQueryData(s,(function(e){var t=Object(f.a)({},i,{id:i._id||"",key:i._id||"",name:i.name||"",description:i.description||"",cover:i.cover||""});return Object(f.a)({},e,{data:[t].concat(Object(fe.a)(null===e||void 0===e?void 0:e.data))})})),j([]),te(""),X([]),z([]),se([]),Y(""),A([]),ie([]),n.resetForm()),n.setSubmitting(!1);case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();Object(o.useEffect)((function(){if(!i.isLoading){var e=i.error;if(e.isError&&Object.keys(e.error).length>0)(Object.values(e.error).length>0?Object.values(e.error):[]).forEach((function(e,t){if("string"===typeof e)wa(e);else if("object"===typeof e){if(e&&Object.keys(e).length>0)Object.values(e).forEach((function(e){wa(e)}))}}))}}),[i]);var Ke=function(e){a(!1)},Je=function(e){console.log("addedPricing",e),X([Object(f.a)({},e,{id:Q.length})].concat(Object(fe.a)(Q))),Et.a.info("Product Pricing Added")},Qe=function(e){var t=Q.map((function(e){return e.id})).indexOf(e.id),a=Object.assign({},Q[t],Object(f.a)({},e)),n=[].concat(Object(fe.a)(Q.slice(0,t)),[a],Object(fe.a)(Q.slice(t+1)));X(n),Et.a.info("Product Pricing Updated"),We(!0),Ue("2")};return console.log("pricingingi",Q),c.a.createElement(v.a,{onSubmit:function(e,t){return Ye(e,t)},validationSchema:Dn,validateOnBlur:!1,enableReinitialize:!0,initialValues:Object(f.a)({},In)},(function(e){var a=e.handleChange,n=e.values,r=e.handleSubmit,o=e.errors,l=(e.isValid,e.isSubmitting),s=e.touched,u=(e.handleBlur,e.setFieldTouched);e.handleReset;return c.a.createElement(c.a.Fragment,null,c.a.createElement(Ot.a,{style:{top:"40px"},bodyStyle:{margin:0,padding:0},width:"70vw",title:"Add New Product",visible:t,onOk:function(e){return r(e)},onCancel:Ke,okText:"Create",okButtonProps:{loading:l,htmlType:"submit"}},c.a.createElement("section",{className:"addProductGridContainer"},c.a.createElement("div",{className:"addProductGridContainer__left"},c.a.createElement("div",{className:"addProductGridContainer__name"},c.a.createElement("div",{className:"addProductGridContainer__item-header"},c.a.createElement("h3",null,"Product Information *"),c.a.createElement("div",{className:n.name&&n.name.length>2?"checkicon-active":"checkicon"},c.a.createElement(De.a,null))),c.a.createElement("div",{className:"addProductGridContainer__item-body"},c.a.createElement(C,{label:"Name *",value:n.name,placeHolder:"Rafty ox",name:"name",isError:s.name&&o.name||!l&&i.error.error.name,errorString:s.name&&o.name||!l&&i.error.error.name,onChange:function(e){a(e),u("name")}}),c.a.createElement(C,{label:"BN Name",value:n.bnName,placeHolder:"\u09b0\u09be\u09ab\u09a4\u09bf \u0985\u0995\u09cd\u09b8",name:"bnName",isError:s.bnName&&o.bnName||!l&&i.error.error.bnName,errorString:s.bnName&&o.bnName||!l&&i.error.error.bnName,onChange:function(e){a(e),u("bnName")}}),c.a.createElement(C,{label:"Unit",value:n.unit,name:"unit",placeHolder:"KG,POUND,GM",isError:s.unit&&o.unit||!l&&i.error.error.unit,errorString:s.unit&&o.unit||!l&&i.error.error.unit,onChange:function(e){a(e),u("unit")}}),c.a.createElement(C,{label:"BN Unit",value:n.bnUnit,placeHolder:"\u0995\u09c7\u099c\u09bf,\u0997\u09cd\u09b0\u09be\u09ae",name:"bnUnit",isError:s.bnUnit&&o.bnUnit||!l&&i.error.error.bnUnit,errorString:s.bnUnit&&o.bnUnit||!l&&i.error.error.bnUnit,onChange:function(e){a(e),u("bnUnit")}}),c.a.createElement(C,{label:"Model Number",value:n.model,name:"model",isError:s.model&&o.model||!l&&i.error.error.model,errorString:s.model&&o.model||!l&&i.error.error.model,onChange:function(e){a(e),u("model")}}),c.a.createElement("h3",{className:"inputFieldLabel"},"Description"),c.a.createElement("div",{style:{width:"100%",maxWidth:"100%"}},c.a.createElement(ja.a,{editor:Na.a,data:he,onInit:function(e){console.log("Editor is ready to use!",e)},onChange:function(e,t){var a=t.getData();Ee(a)},onBlur:function(e,t){console.log("Blur.",t)},onFocus:function(e,t){console.log("Focus.",t)}})),c.a.createElement("div",{style:{marginTop:"15px"}}),c.a.createElement("h3",{className:"inputFieldLabel"},"BN Description"),c.a.createElement("div",{style:{width:"100%",maxWidth:"100%"}},c.a.createElement(ja.a,{editor:Na.a,data:Oe,onInit:function(e){console.log("Editor is ready to use!",e)},onChange:function(e,t){var a=t.getData();je(a)},onBlur:function(e,t){console.log("Blur.",t)},onFocus:function(e,t){console.log("Focus.",t)}})))),c.a.createElement("div",{className:"addProductGridContainer__price"},c.a.createElement("div",{className:"addProductGridContainer__item-header"},c.a.createElement("h3",null,"Product Pricing *"),c.a.createElement("div",{className:Q&&Q.length>0?"checkicon-active":"checkicon"},c.a.createElement(De.a,null))),c.a.createElement("div",{className:"addProductGridContainer__item-body"},c.a.createElement(_t.a,{animated:!0,tabPosition:"top",type:"card",activeKey:Ve,onChange:function(e){Ue("".concat(e))}},c.a.createElement(_n,{tab:"Add Variation",key:"1"},c.a.createElement(Tn,{handleAddPricing:Je,pricingItem:Me,handleUpdatePricing:Qe,isPricingEditActive:He})),c.a.createElement(_n,{tab:"Pricing List",key:"2"},c.a.createElement("div",{className:"addProductGridContainer__item-body-pricingContainer"},Q.length>0&&Q.map((function(e){return c.a.createElement("div",{className:"addProductGridContainer__item-body-pricingContainer-item"},c.a.createElement("div",{className:"addProductGridContainer__item-body-pricingContainer-item-edit"},c.a.createElement("span",{className:"pricingEditIcon",onClick:function(){!function(e){We(!0);var t=Q.find((function(t){return t.id===e}));t&&Re(t)}(e.id),Ue("1")}},c.a.createElement(gt.a,null)),c.a.createElement("span",{className:"pricingDeleteIcon",onClick:function(){return function(e){var t=Q.filter((function(t){return t.id!==e}));X(t),Et.a.info("Product Pricing Deleted")}(e.id)}},c.a.createElement(ft.a,null))),c.a.createElement("div",{className:"addProductGridContainer__item-body-pricingContainer-item-two"},c.a.createElement("div",null,c.a.createElement("h3",null,"Price"),c.a.createElement("div",{className:"addProductGridContainer__item-body-pricingContainer-item-body"},e.price.offer?c.a.createElement(c.a.Fragment,null,c.a.createElement("h4",null,e.price.offer),"/",c.a.createElement("h5",{style:{textDecoration:"line-through"}},e.price.regular)):c.a.createElement("h4",null,e.price.regular))),e.stock&&e.stock.available&&c.a.createElement("div",null,c.a.createElement(Ae.a,{overflowCount:999,count:e.stock.available},c.a.createElement("h3",null,"Stock")),e.stock.minimum&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"addProductGridContainer__item-body-pricingContainer-item-body"},c.a.createElement("div",null,c.a.createElement("h6",null,"min",c.a.createElement(Ae.a,{className:"site-badge-count-4",overflowCount:999,count:e.stock.minimum})))))),Boolean(null===e||void 0===e?void 0:e.maximumPurchaseLimit)&&c.a.createElement("div",null,c.a.createElement("h3",null,"Maximum Purchase Limit"),c.a.createElement("div",{className:"addProductGridContainer__item-body-pricingContainer-item-body"},c.a.createElement("h4",null,null===e||void 0===e?void 0:e.maximumPurchaseLimit)))),e.attribute&&Object.values(e.attribute).length>0&&c.a.createElement(c.a.Fragment,null,c.a.createElement("h3",null,"Attributes"),c.a.createElement("div",{className:"addProductGridContainer__item-body-pricingContainer-item-body"},e.attribute&&Object.keys(e.attribute).length>0&&Object.keys(e.attribute).map((function(t){return c.a.createElement("div",null,c.a.createElement("h6",null,t),c.a.createElement("h4",null,e.attribute[t]))})))))})),!(Q.length>0)&&c.a.createElement("div",{style:{width:"100%",display:"flex",justifyContent:"center"}},c.a.createElement(we.a,{description:"No Pricing added",image:we.a.PRESENTED_IMAGE_SIMPLE}))))),c.a.createElement("div",{className:"addProductGridContainer__item-body-container"}))),c.a.createElement("div",{className:"addProductGridContainer__image"},c.a.createElement("div",{className:"addProductGridContainer__item-header"},c.a.createElement("h3",null,"Image"),c.a.createElement(pt.a,{placement:"left",title:"Click on the image to select cover image, By default 1st image is selected as cover"},c.a.createElement("a",{href:"###"},c.a.createElement(Ct.a,null)))),c.a.createElement("div",{className:"addProductGridContainer__item-body"},c.a.createElement("div",{className:"aboutToUploadImagesContainer"},O&&O.length>0&&O.map((function(e,t){return c.a.createElement("div",{className:"aboutToUploadImagesContainer__item"},c.a.createElement("div",{className:"aboutToUploadImagesContainer__item-imgContainer",onClick:function(){return te(e.id)}},c.a.createElement("img",{src:e.cover,alt:e.alt})),c.a.createElement("span",{onClick:function(){return function(e){var t=O&&O.filter((function(t){return t.id!==e}));j(t)}(e.id)},className:"aboutToUploadImagesContainer__item-remove"},c.a.createElement(Nt.a,null)),(ee===e.id||!ee&&0===t)&&c.a.createElement("span",{className:"aboutToUploadImagesContainer__item-cover"},c.a.createElement(xt.a,null)))})),c.a.createElement(pt.a,{title:"Attach images"},c.a.createElement("div",{onClick:function(){h(!0),P(!0),_(!1)},className:"aboutToUploadImagesContainer__uploadItem"},c.a.createElement(kt.a,null),c.a.createElement("span",{className:"aboutToUploadImagesContainer__uploadItem-plus"},c.a.createElement(ht.a,null))))))),c.a.createElement("div",{className:"addProductGridContainer__image"},c.a.createElement("div",{className:"addProductGridContainer__item-header"},c.a.createElement("h3",null,"Meta Data"),c.a.createElement(pt.a,{placement:"left",title:"Meta data will be used to make the user's easy and for search engine optimization."},c.a.createElement("a",{href:"###"},c.a.createElement(Ct.a,null)))),c.a.createElement("div",{className:"addProductGridContainer__item-body"},c.a.createElement(C,{label:"Meta title",value:n.metaTitle,placeHolder:"...",name:"metaTitle",isError:s.metaTitle&&o.metaTitle||!l&&i.error.error.metaTitle,errorString:s.metaTitle&&o.metaTitle||!l&&i.error.error.metaTitle,onChange:function(e){a(e),u("metaTitle")}}),c.a.createElement(C,{label:"BN Meta title",value:n.bnMetaTitle,placeHolder:"...",name:"bnMetaTitle",isError:s.bnMetaTitle&&o.bnMetaTitle||!l&&i.error.error.bnMetaTitle,errorString:s.bnMetaTitle&&o.bnMetaTitle||!l&&i.error.error.bnMetaTitle,onChange:function(e){a(e),u("bnMetaTitle")}}),c.a.createElement(wt,{label:"Meta description",value:n.metaDescription,placeholder:"meta...",name:"metaDescription",isError:s.metaDescription&&o.metaDescription||!l&&i.error.error.metaDescription,errorString:s.metaDescription&&o.metaDescription||!l&&i.error.error.metaDescription,onChange:function(e){a(e),u("metaDescription")}}),c.a.createElement(wt,{label:"BN Meta Description",value:n.bnMetaDescription,placeholder:"\u098f\u0987\u09df \u09ae\u09c7\u099f...",name:"bnMetaDescription",isError:s.bnMetaDescription&&o.bnMetaDescription||!l&&i.error.error.bnMetaDescription,errorString:s.bnMetaDescription&&o.bnMetaDescription||!l&&i.error.error.bnMetaDescription,onChange:function(e){a(e),u("bnMetaDescription")}}),c.a.createElement("h3",{className:"inputFieldLabel"},"Meta Tags (grocery,fashion)"),c.a.createElement(Wt,{setTags:ke,tags:xe}),c.a.createElement("div",{style:{marginTop:"15px"}}),c.a.createElement("h3",{className:"inputFieldLabel"},"BN Meta Tags (\u09ae\u09c1\u09a6\u09bf\u0996\u09be\u09a8\u09be,\u09ab\u09cd\u09af\u09be\u09b6\u09a8)"),c.a.createElement(Wt,{setTags:Ie,tags:_e})))),c.a.createElement("div",{className:"addProductGridContainer__right"},c.a.createElement("div",{className:"addProductGridContainer__category"},c.a.createElement("div",{className:"addProductGridContainer-rightItemContainer"},c.a.createElement("div",{className:"addProductGridContainer-rightItemContainer-header"},c.a.createElement("h3",null,"Categories *"),c.a.createElement(pt.a,{color:"red",visible:i.error.error.category&&!(F.length>0),placement:"left",title:"Select at least one category"},c.a.createElement("div",{className:F.length>0||i.error.error.category?i.error.error.category?"checkicon-error":"checkicon-active":"checkicon"},c.a.createElement(De.a,null)))),c.a.createElement("div",{className:"addProductGridContainer-rightItemContainer-body"},c.a.createElement(Ra,{setCategoryOptions:ie,categoryOptions:re,setcategoryIds:A})))),c.a.createElement("div",{className:"addProductGridContainer__tag"},c.a.createElement("div",{className:"addProductGridContainer-rightItemContainer"},c.a.createElement("div",{className:"addProductGridContainer-rightItemContainer-header"},c.a.createElement("h3",null,"Tags")),c.a.createElement("div",{className:"addProductGridContainer-rightItemContainer-body"},c.a.createElement(Da,{setSelectedTags:se,selectedTags:le,setTagIds:z})))),c.a.createElement("div",{className:"addProductGridContainer__brand"},c.a.createElement("div",{className:"addProductGridContainer-rightItemContainer"},c.a.createElement("div",{className:"addProductGridContainer-rightItemContainer-header"},c.a.createElement("h3",null,"Brand")),c.a.createElement("div",{className:"addProductGridContainer-rightItemContainer-body"},c.a.createElement(La,{setBrandId:Y}))))))),c.a.createElement(Vt,{setvisible:h,visible:d,setmyImages:j,myImages:O,setmyThumbnailImage:k,isModalOpenForThumbnail:T,isModalOpenForImages:L}))}))},Pn=_t.a.TabPane,Mn=y.a().shape({}),Rn={name:"",description:"",model:"",unit:"",regular:"",offer:"",available:"",minimum:"",image:[],url:"",cover:"",pricing:[],venue:"",date:"",time:"",purchaseLimit:null,bnUnit:"",bnName:"",bnDescription:"",metaTitle:"",bnMetaTitle:"",metaDescription:"",bnMetaDescription:"",metaTags:"",bnMetaTags:""},Fn=function(e){e.productEditVisible;var t=e.setProductEditVisible,a=e.productDetailData,n=(e.setProductList,e.productList,e.productListState,U({},"updateProduct")),r=Object(g.a)(n,2),i=r[0],l=r[1],s=U({},"productDetailById"),u=Object(g.a)(s,2),d=u[0],h=u[1],y=U({},"attachImageToItemMultiple"),O=Object(g.a)(y,2),j=(O[0],O[1]),N=U({},"attachImageToItemSingle"),x=Object(g.a)(N,2),k=(x[0],x[1]),S=U({},"detachImageFromItemMultiple"),w=Object(g.a)(S,2),T=(w[0],w[1],U({},"detachImageFromItemSingle")),_=Object(g.a)(T,2),D=(_[0],_[1]),I=U({},"setImageAsThumbnailToItem"),L=Object(g.a)(I,2),P=(L[0],L[1]),M=Object(o.useState)(!1),R=Object(g.a)(M,2),F=R[0],A=R[1],B=Object(o.useState)(!1),V=Object(g.a)(B,2),G=V[0],z=V[1],H=Object(o.useState)(!1),W=Object(g.a)(H,2),q=(W[0],W[1]),Y=Object(o.useState)(!1),K=Object(g.a)(Y,2),J=K[0],Q=K[1],X=Object(o.useState)(!1),Z=Object(g.a)(X,2),$=Z[0],ee=Z[1],te=Object(o.useState)([]),ae=Object(g.a)(te,2),ne=ae[0],re=ae[1],ie=Object(o.useState)([]),oe=Object(g.a)(ie,2),ce=oe[0],le=oe[1],se=Object(o.useState)(""),ue=Object(g.a)(se,2),me=ue[0],de=ue[1],pe=Object(o.useState)([]),be=Object(g.a)(pe,2),ge=be[0],he=be[1],Ee=Object(o.useState)(""),ve=Object(g.a)(Ee,2),ye=ve[0],Oe=ve[1],je=Object(o.useState)([]),Ce=Object(g.a)(je,2),Ne=Ce[0],xe=Ce[1],ke=Object(o.useState)([]),Se=Object(g.a)(ke,2),Te=Se[0],_e=Se[1],Ie=Object(o.useState)(""),Le=Object(g.a)(Ie,2),Pe=(Le[0],Le[1]),Me=Object(o.useState)(""),Fe=Object(g.a)(Me,2),Be=(Fe[0],Fe[1]),Ve=Object(o.useState)(""),Ue=Object(g.a)(Ve,2),Ge=Ue[0],ze=Ue[1],He=Object(o.useState)(""),We=Object(g.a)(He,2),qe=We[0],Ye=We[1],Ke=Object(o.useState)([]),Je=Object(g.a)(Ke,2),Qe=Je[0],Xe=Je[1],Ze=Object(o.useState)([]),$e=Object(g.a)(Ze,2),et=$e[0],tt=$e[1],at=Object(o.useState)({}),nt=Object(g.a)(at,2),rt=nt[0],it=nt[1],ot=Object(o.useState)("2"),ct=Object(g.a)(ot,2),lt=ct[0],st=ct[1],ut=Object(o.useState)(!1),mt=Object(g.a)(ut,2),dt=mt[0],bt=mt[1],vt=Object(m.e)();Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h({urlOptions:{placeHolders:{id:a.id||a._id}}});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[a]),Object(o.useEffect)((function(){if(d.done&&d.data&&Object.keys(d.data).length>0){var e=d.data;if(e.brand?de(e.brand.id):de(""),e&&e.tags&&e.tags.length>0){var t=e.tags.map((function(e){return e.name})),a=e.tags.map((function(e){return e._id}));_e(t),console.log("selectedTagIds55",a),le(a)}else le([]),_e([]);if(e&&e.category&&e.category.length>0){var n=e.category.map((function(e){return e.id}));xe(n)}else xe([]);e&&e.pricing&&e.pricing?he(e.pricing):he([]),e&&e.date&&e.date?Pe(e.date):Pe(""),e&&e.time&&e.time?Be(e.time):Be(""),e&&e.description?ze(e.description):ze(""),e&&e.bn&&e.bn.description?Ye(e.bn.description):Ye("")}console.log("runnedBitch")}),[d.done]),Object(o.useEffect)((function(){if(d.done&&Object.keys(d).length>0){var e=d.data.image,t=[];if(e&&e.length>0&&(t=e),d.data.cover&&d.data.cover.id)e.find((function(e){return e.id===d.data.cover.id}))||(t=[d.data.cover].concat(Object(fe.a)(t))),Oe(d.data.cover.id);z(t)}}),[d.done]),Object(o.useEffect)((function(){console.log("thumnail",G),G&&G[0]&&G.length<2&&(console.log("thumnail2",G),ye!==G[0].id&&(Oe(G[0].id),Ot(G[0])))}),[G]);var yt=function(){var e=Object(b.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D({urlOptions:{placeHolders:{imageId:t,collection:"product",itemId:a.id}}});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ot=function(){var e=Object(b.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P({urlOptions:{placeHolders:{imageId:t.id,collection:"product",itemId:a.id}}});case 2:n=e.sent,console.log("thumbnailRes",n),n&&"ok"===n.status?Sa("Set as thumbnail!"):wa("Couldn't set as thumbnail, Something went wrong");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),jt=function(){var e=Object(b.a)(p.a.mark((function e(n,r){var i,o,c,s,u,m;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=G?G.map((function(e){return e.id})):[],!(a&&Object.keys(a).length>0)){e.next=12;break}if(o=[],i&&i.length>0&&i.forEach((function(e){a&&a.image&&(a.image.includes(e)||o.push(e))})),!(o[0]&&o.length>1)){e.next=9;break}return e.next=7,j({urlOptions:{placeHolders:{collection:"product",itemId:a.id}},body:{image:o}});case 7:e.next=12;break;case 9:if(!(o[0]&&o.length<1)){e.next=12;break}return e.next=12,k({urlOptions:{placeHolders:{imageId:o[0].id,collection:"product",itemId:a.id}}});case 12:return e.next=14,l({urlOptions:{placeHolders:{id:a.id}},body:{name:n.name.trim(),description:Ge,model:n.model,unit:n.unit,category:Ne,tags:ce,brand:me,image:i,cover:ye||i[0]?i[0]:"",pricing:ge,metaTitle:n.metaTitle,metaDescription:n.metaDescription,metaTags:Qe&&Qe.length>0?Qe.join(","):"",bn:{metaTitle:n.bnMetaTitle,metaDescription:n.bnMetaDescription,metaTags:et&&et.length>0?et.join(","):"",name:n.bnName.trim(),unit:n.metaUnit,description:qe}}});case 14:(c=e.sent)&&"ok"===c.status&&(Sa("Product Updated"),s=vt.getQueries(),u=s.filter((function(e){var t=null===e||void 0===e?void 0:e.queryKey;return"product"===(null===t||void 0===t?void 0:t[0])&&"number"===typeof(null===t||void 0===t?void 0:t[1])})).map((function(e){return null===e||void 0===e?void 0:e.queryKey})),(null===(m=u.find((function(e){var t,n=!1;return(null===(t=vt.getQueryData(e))||void 0===t?void 0:t.data.find((function(e){return e.id===a.id})))&&(n=!0),n})))||void 0===m?void 0:m[0])&&vt.setQueryData(m,(function(e){var t=null===e||void 0===e?void 0:e.data,r=t.map((function(e){return e.id})).indexOf(a.id);var i=Object.assign({},t[r],Object(f.a)({},a,{},c,{id:a.id||a._id||n.id||n._id,cover:function(e){if(!(e&&G&&G[0]))return"";if(G&&G.length>0){var t=G.find((function(t){return t.id===e}));if(t)return t.cover}}(ye)})),o=[].concat(Object(fe.a)(t.slice(0,r)),[i],Object(fe.a)(t.slice(r+1)));return Object(f.a)({},e,{data:o})})),t(!1)),r.setSubmitting(!1);case 17:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();console.log("updateProductStaet",i),Object(o.useEffect)((function(){if(!i.isLoading){var e=i.error;if(e.isError&&Object.keys(e.error).length>0)(Object.values(e.error).length>0?Object.values(e.error):[]).forEach((function(e,t){if("string"===typeof e)wa(e);else if("object"===typeof e){if(e&&Object.keys(e).length>0)Object.values(e).forEach((function(e){wa(e)}))}}))}}),[i]);var St=function(e){var t=ge.map((function(e){return e.id})).indexOf(e.id),a=Object.assign({},ge[t],Object(f.a)({},e)),n=[].concat(Object(fe.a)(ge.slice(0,t)),[a],Object(fe.a)(ge.slice(t+1)));he(n),Et.a.info("Product Pricing Updated"),bt(!0),st("2")},Tt=function(e){he([Object(f.a)({},e,{id:ge.length})].concat(Object(fe.a)(ge))),Et.a.info("Product Pricing Added")};return console.log("productDetailData",a),console.log("productDetailState",d),Object(o.useEffect)((function(){if(d.data&&Object.keys(d.data).length>0&&d.data.metaTags){var e=d.data.metaTags.split(","),t=d.data.bn.metaTags.split(",");Xe(e||[]),tt(t||[])}}),[d.done]),console.log("productDetailData"),c.a.createElement(c.a.Fragment,null,c.a.createElement(v.a,{onSubmit:function(e,t){return jt(e,t)},validationSchema:Mn,validateOnBlur:!1,enableReinitialize:!0,initialValues:Object(f.a)({},Rn,{},Object(f.a)({},a,{},d.data&&Object.keys(d.data).length>0&&d.data.bn&&{bnMetaTitle:d.data.bn.metaTitle,bnMetaDescription:d.data.bn.metaDescription,bnName:d.data.bn.name,metaUnit:d.data.bn.unit,bnDescription:d.data.bn.description}))},(function(e){var a=e.handleChange,n=e.values,r=e.handleSubmit,o=e.errors,l=(e.isValid,e.isSubmitting),s=e.touched,u=(e.handleBlur,e.setFieldTouched);e.handleReset;return c.a.createElement(c.a.Fragment,null,c.a.createElement("section",{className:"addProductGridContainer"},c.a.createElement("div",{className:"addProductGridContainer__left"},c.a.createElement("div",{className:"addProductGridContainer__name"},c.a.createElement("div",{className:"addProductGridContainer__item-header"},c.a.createElement("h3",null,"Product Information *"),c.a.createElement("div",{className:n.name&&n.name.length>2?"checkicon-active":"checkicon"},c.a.createElement(De.a,null))),c.a.createElement("div",{className:"addProductGridContainer__item-body"},c.a.createElement(C,{label:"Name *",value:n.name,placeHolder:"Rafty ox",name:"name",isError:s.name&&o.name||!l&&i.error.error.name,errorString:s.name&&o.name||!l&&i.error.error.name,onChange:function(e){a(e),u("name")}}),c.a.createElement(C,{label:"BN Name",value:n.bnName,placeHolder:"\u09b0\u09be\u09ab\u09a4\u09bf \u0985\u0995\u09cd\u09b8",name:"bnName",isError:s.bnName&&o.bnName||!l&&i.error.error.bnName,errorString:s.bnName&&o.bnName||!l&&i.error.error.bnName,onChange:function(e){a(e),u("bnName")}}),c.a.createElement(C,{label:"Unit",value:n.unit,name:"unit",placeHolder:"KG,POUND,GM",isError:s.unit&&o.unit||!l&&i.error.error.unit,errorString:s.unit&&o.unit||!l&&i.error.error.unit,onChange:function(e){a(e),u("unit")}}),c.a.createElement(C,{label:"BN Unit",value:n.bnUnit,placeHolder:"\u0995\u09c7\u099c\u09bf,\u0997\u09cd\u09b0\u09be\u09ae",name:"bnUnit",isError:s.bnUnit&&o.bnUnit||!l&&i.error.error.bnUnit,errorString:s.bnUnit&&o.bnUnit||!l&&i.error.error.bnUnit,onChange:function(e){a(e),u("bnUnit")}}),c.a.createElement(C,{label:"Model Number",value:n.model,name:"model",isError:s.model&&o.model||!l&&i.error.error.model,errorString:s.model&&o.model||!l&&i.error.error.model,onChange:function(e){a(e),u("model")}}),c.a.createElement("h3",{className:"inputFieldLabel"},"Description"),c.a.createElement("div",{style:{width:"100%",maxWidth:"100%"}},c.a.createElement(ja.a,{editor:Na.a,data:Ge,onInit:function(e){console.log("Editor is ready to use!",e)},onChange:function(e,t){var a=t.getData();ze(a)},onBlur:function(e,t){console.log("Blur.",t)},onFocus:function(e,t){console.log("Focus.",t)}})),c.a.createElement("div",{style:{marginTop:"15px"}}),c.a.createElement("h3",{className:"inputFieldLabel"},"BN Description"),c.a.createElement("div",{style:{width:"100%",maxWidth:"100%"}},c.a.createElement(ja.a,{editor:Na.a,data:qe,onInit:function(e){console.log("Editor is ready to use!",e)},onChange:function(e,t){var a=t.getData();Ye(a)},onBlur:function(e,t){console.log("Blur.",t)},onFocus:function(e,t){console.log("Focus.",t)}})),c.a.createElement("div",{style:{marginTop:"15px"}}," "))),c.a.createElement("div",{className:"addProductGridContainer__price"},c.a.createElement("div",{className:"addProductGridContainer__item-header"},c.a.createElement("h3",null,"Product Pricing *"),c.a.createElement("div",{className:ge&&ge.length>0?"checkicon-active":"checkicon"},c.a.createElement(De.a,null))),c.a.createElement("div",{className:"addProductGridContainer__item-body"},c.a.createElement(_t.a,{animated:!0,tabPosition:"top",type:"card",activeKey:lt,onChange:function(e){st("".concat(e))}},c.a.createElement(Pn,{tab:"Add Variation",key:"1"},c.a.createElement(Tn,{handleAddPricing:Tt,pricingItem:rt,handleUpdatePricing:St,isPricingEditActive:dt})),c.a.createElement(Pn,{tab:"Pricing List",key:"2"},c.a.createElement("div",{className:"addProductGridContainer__item-body-pricingContainer"},ge.length>0&&ge.map((function(e){return c.a.createElement("div",{className:"addProductGridContainer__item-body-pricingContainer-item"},c.a.createElement("div",{className:"addProductGridContainer__item-body-pricingContainer-item-edit"},c.a.createElement("span",{className:"pricingEditIcon",onClick:function(){!function(e){bt(!0);var t=ge.find((function(t){return t.id===e}));t&&it(t)}(e.id),st("1")}},c.a.createElement(gt.a,null)),c.a.createElement("span",{className:"pricingDeleteIcon",onClick:function(){return function(e){var t=ge.filter((function(t){return t.id!==e}));he(t),Et.a.info("Product Pricing Deleted")}(e.id)}},c.a.createElement(ft.a,null))),c.a.createElement("div",{className:"addProductGridContainer__item-body-pricingContainer-item-two"},c.a.createElement("div",null,c.a.createElement("h3",null,"Price"),c.a.createElement("div",{className:"addProductGridContainer__item-body-pricingContainer-item-body"},e.price.offer?c.a.createElement(c.a.Fragment,null,c.a.createElement("h4",null,e.price.offer),"/",c.a.createElement("h5",{style:{textDecoration:"line-through"}},e.price.regular)):c.a.createElement("h4",null,e.price.regular))),e.stock&&e.stock.available&&c.a.createElement("div",null,c.a.createElement(Ae.a,{overflowCount:999,count:e.stock.available},c.a.createElement("h3",null,"Stock")),e.stock.minimum&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"addProductGridContainer__item-body-pricingContainer-item-body"},c.a.createElement("div",null,c.a.createElement("h6",null,"min",c.a.createElement(Ae.a,{className:"site-badge-count-4",overflowCount:999,count:e.stock.minimum})))))),Boolean(null===e||void 0===e?void 0:e.maximumPurchaseLimit)&&c.a.createElement("div",null,c.a.createElement("h3",null,"Maximum Purchase Limit"),c.a.createElement("div",{className:"addProductGridContainer__item-body-pricingContainer-item-body"},c.a.createElement("h4",null,null===e||void 0===e?void 0:e.maximumPurchaseLimit)))),e.attribute&&Object.values(e.attribute).length>0&&c.a.createElement(c.a.Fragment,null,c.a.createElement("h3",null,"Attributes"),c.a.createElement("div",{className:"addProductGridContainer__item-body-pricingContainer-item-body"},e.attribute&&Object.keys(e.attribute).length>0&&Object.keys(e.attribute).map((function(t){return c.a.createElement("div",null,c.a.createElement("h6",null,t),c.a.createElement("h4",null,e.attribute[t]))})))))})),!(ge.length>0)&&c.a.createElement("div",{style:{width:"100%",display:"flex",justifyContent:"center"}},c.a.createElement(we.a,{description:"No Pricing added",image:we.a.PRESENTED_IMAGE_SIMPLE}))))),c.a.createElement("div",{className:"addProductGridContainer__item-body-container"}))),c.a.createElement("div",{className:"addProductGridContainer__image"},c.a.createElement("div",{className:"addProductGridContainer__item-header"},c.a.createElement("h3",null,"Image"),c.a.createElement(pt.a,{placement:"left",title:"Click on the image to select cover image, By default 1st image is selected as cover"},c.a.createElement("a",{href:"###"},c.a.createElement(Ct.a,null)))),c.a.createElement("div",{style:{padding:"10px"},className:"aboutToUploadImagesContainer"},d.isLoading&&c.a.createElement("div",{style:{padding:"20px 0"}},c.a.createElement(Re.a,null)),d.done&&c.a.createElement(c.a.Fragment,null,G&&G.length>0&&G.map((function(e,t){return c.a.createElement("div",{className:"aboutToUploadImagesContainer__item"},c.a.createElement("div",{className:"aboutToUploadImagesContainer__item-imgContainer",onClick:function(){Oe(e.id),Ot(e)}},c.a.createElement("img",{src:e.cover,alt:e.alt})),c.a.createElement("span",{onClick:function(){!function(e){var t=G&&G.filter((function(t){return t.id!==e}));z(t)}(e.id),yt(e.id)},className:"aboutToUploadImagesContainer__item-remove"},c.a.createElement(Nt.a,null)),(ye===e.id||!ye&&0===t)&&c.a.createElement("span",{className:"aboutToUploadImagesContainer__item-cover"},c.a.createElement(xt.a,null)))})),c.a.createElement(pt.a,{title:"Attach images"},c.a.createElement("div",{onClick:function(){A(!0),ee(!0),Q(!1)},className:"aboutToUploadImagesContainer__uploadItem"},c.a.createElement(kt.a,null),c.a.createElement("span",{className:"aboutToUploadImagesContainer__uploadItem-plus"},c.a.createElement(ht.a,null)))))))),c.a.createElement("div",{className:"addProductGridContainer__right"},c.a.createElement("div",{className:"addProductGridContainer__category"},c.a.createElement("div",{className:"addProductGridContainer-rightItemContainer"},c.a.createElement("div",{className:"addProductGridContainer-rightItemContainer-header"},c.a.createElement("h3",null,"Categories *"),c.a.createElement("div",{className:ne.length>0||i.error.error.category?i.error.error.category?"checkicon-error":"checkicon-active":"checkicon"},c.a.createElement(De.a,null))),c.a.createElement("div",{className:"addProductGridContainer-rightItemContainer-body"},c.a.createElement(Ra,{setCategoryOptions:xe,categoryOptions:Ne,setcategoryIds:re})))),c.a.createElement("div",{className:"addProductGridContainer__tag"},c.a.createElement("div",{className:"addProductGridContainer-rightItemContainer"},c.a.createElement("div",{className:"addProductGridContainer-rightItemContainer-header"},c.a.createElement("h3",null,"Tags")),c.a.createElement("div",{className:"addProductGridContainer-rightItemContainer-body"},c.a.createElement(Da,{setSelectedTags:_e,selectedTags:Te,setTagIds:le})))),c.a.createElement("div",{className:"addProductGridContainer__brand"},c.a.createElement("div",{className:"addProductGridContainer-rightItemContainer"},c.a.createElement("div",{className:"addProductGridContainer-rightItemContainer-header"},c.a.createElement("h3",null,"Brand")),c.a.createElement("div",{className:"addProductGridContainer-rightItemContainer-body"},c.a.createElement(La,{productDetailState:d,brandId:me,setBrandId:de})))),c.a.createElement("div",{className:"addProductGridContainer__brand",style:{marginTop:"10px"}},c.a.createElement("div",{className:"addProductGridContainer-rightItemContainer"},c.a.createElement("div",{className:"addProductGridContainer-rightItemContainer-header"},c.a.createElement("h3",null,"Meta Tags"),c.a.createElement(pt.a,{placement:"left",title:"Meta data will be used to make the user's easy and for search engine optimization."},c.a.createElement("a",{href:"###"},c.a.createElement(Ct.a,null)))),c.a.createElement("div",{className:"addProductGridContainer-rightItemContainer-body"},c.a.createElement(C,{label:"Meta title",value:n.metaTitle,placeHolder:"...",name:"metaTitle",isError:s.metaTitle&&o.metaTitle||!l&&i.error.error.metaTitle,errorString:s.metaTitle&&o.metaTitle||!l&&i.error.error.metaTitle,onChange:function(e){a(e),u("metaTitle")}}),c.a.createElement(C,{label:"BN Meta title",value:n.bnMetaTitle,placeHolder:"...",name:"bnMetaTitle",isError:s.bnMetaTitle&&o.bnMetaTitle||!l&&i.error.error.bnMetaTitle,errorString:s.bnMetaTitle&&o.bnMetaTitle||!l&&i.error.error.bnMetaTitle,onChange:function(e){a(e),u("bnMetaTitle")}}),c.a.createElement(wt,{label:"Meta description",value:n.metaDescription,placeholder:"meta...",name:"metaDescription",isError:s.metaDescription&&o.metaDescription||!l&&i.error.error.metaDescription,errorString:s.metaDescription&&o.metaDescription||!l&&i.error.error.metaDescription,onChange:function(e){a(e),u("metaDescription")}}),c.a.createElement(wt,{label:"BN Meta Description",value:n.bnMetaDescription,placeholder:"\u098f\u0987\u09df \u09ae\u09c7\u099f...",name:"bnMetaDescription",isError:s.bnMetaDescription&&o.bnMetaDescription||!l&&i.error.error.bnMetaDescription,errorString:s.bnMetaDescription&&o.bnMetaDescription||!l&&i.error.error.bnMetaDescription,onChange:function(e){a(e),u("bnMetaDescription")}}),c.a.createElement("h3",{className:"inputFieldLabel"},"Meta Tags"),c.a.createElement(Wt,{setTags:Xe,tags:Qe}),c.a.createElement("div",{style:{marginTop:"15px"}}),c.a.createElement("h3",{className:"inputFieldLabel"},"BN Meta Tags"),c.a.createElement(Wt,{setTags:tt,tags:et})))))),c.a.createElement("div",{style:{padding:"15px",display:"flex",justifyContent:"flex-end"}},c.a.createElement(E.a,{style:{color:"#555",marginRight:"10px"},className:"btnPrimaryClassNameoutline-cancle",onClick:function(){return t(!1)},type:"default"},"Cancel"),c.a.createElement(E.a,{className:"btnPrimaryClassNameoutline",onClick:r,loading:i.isLoading,type:"link",icon:c.a.createElement(xt.a,null)},"Update")),c.a.createElement(Vt,{setvisible:A,visible:F,setmyImages:z,myImages:G,setmyThumbnailImage:q,isModalOpenForThumbnail:J,isModalOpenForImages:$}))})))},An=function(e){var t=e.productEditVisible,a=e.setProductEditVisible,n=e.productDetailData,r=e.setProductList,i=e.productList,o=e.productListState,l=function(){a(!1)};return c.a.createElement(Ot.a,{style:{top:"40px"},bodyStyle:{margin:0,padding:0},width:"70vw",title:"Product Edit",visible:t,onCancel:l,destroyOnClose:!0,okText:"Update",footer:!1,okButtonProps:{htmlType:"submit"}},c.a.createElement(Fn,{productList:i,setProductList:r,setProductEditVisible:a,productEditVisible:t,productDetailData:n,handleCancel:l,productListState:o}))},Bn=yt.a.Dragger,Vn=function(e){var t=e.isUploadCSVModalOpen,a=e.setIsUploadCSVModalOpen,n=Object(o.useState)([]),r=Object(g.a)(n,2),i=r[0],l=r[1],s=Object(o.useState)(!1),u=Object(g.a)(s,2),m=u[0],d=u[1],f={multiple:!0,onRemove:function(e){l((function(t){var a=i.indexOf(e),n=i.slice();return n.splice(a,1),n}))},beforeUpload:function(e){return l((function(t){var a=t;return[].concat(Object(fe.a)(a),[e])})),!1},fileList:i},h=function(){var e=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=new FormData,i.forEach((function(e){t.append("csv",e,e.name)})),d(!0),Lt()({url:"".concat(k.baseURL,"/admin/api/product/update/bulk/csv"),method:"post",processData:!1,data:t,withCredentials:!0,success:function(){Et.a.success("Product CSV Uploaded!"),a(!1),d(!1),l([])},error:function(e){if(d(!1),e&&(null===e||void 0===e?void 0:e[0]))for(var t=Object.keys(e),a=0,n=t;a<n.length;a++){var r=n[a];Et.a.error(t[r])}Et.a.error("upload failed.")}});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return c.a.createElement(Ot.a,{style:{top:"40px"},bodyStyle:{margin:0,padding:"20px"},width:"40vw",title:"Upload CSV",visible:t,onOk:function(e){return null},onCancel:function(){return a(!1)},okText:"Create",footer:!1,okButtonProps:{loading:!1,htmlType:"submit"}},c.a.createElement(Bn,Object.assign({className:"upload-list-inline",listType:"picture",style:{background:"#fff",borderRadius:"8px"}},f),c.a.createElement("p",{className:"ant-upload-drag-icon"},c.a.createElement(Pt.a,null)),c.a.createElement("p",{className:"ant-upload-text"},"Click or drag .CSV file to this area to upload"),c.a.createElement("p",{className:"ant-upload-hint"},"Support for a single upload.")),c.a.createElement(E.a,{className:"btnPrimaryClassNameoutline",type:"primary",onClick:h,disabled:0===i.length,loading:m,icon:c.a.createElement(Mt.a,null),style:{marginTop:"20px",marginBottom:"10px"}},"Upload"))},Un=function(e){var t=e.children,a=e.data,n=e.handlePageChange,r=e.limit,i=e.loading,o=e.total,l=e.handleShowSizeChange;return c.a.createElement(ot.a,{loading:i,style:{paddingTop:"10px",borderRadius:"5px !important",overflow:"hidden",boxShadow:"0 0.125rem 0.625rem rgba(227, 231, 250, 0.3), 0 0.0625rem 0.125rem rgba(206, 220, 233, 0.4)"},size:"small",pagination:{onChange:n,pageSize:r,total:o,defaultCurrent:1,hideOnSinglePage:!0,onShowSizeChange:l,pageSizeOptions:["500","1000","2000","3000","4000","5000","6000","10000","10000000"]},dataSource:a,tableLayout:"auto",onHeaderRow:function(e){return{style:{color:"red !important"}}}},t)},Gn=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(N.a)(this,e),this.currentURL=void 0,this._baseUrl=null,this.cors=t.cors||"cors",this.credentials=t.credentials||"include",this.headers=t.headers||{Accept:"application/json","Content-Type":"application/json"},this.redirect=t.redirect||"follow",this.urlWithBase=this.urlWithBase.bind(this),this._onRequestFail=function(){console.log("request failed")}}return Object(x.a)(e,[{key:"urlWithBase",value:function(t){return e.prepareUrl(t,this._baseURL)}},{key:"handleFailReq",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.onRequestFail?e.onRequestFail():this._onRequestFail(),!1}},{key:"handleConnectivity",value:function(e){this._onlineCheck&&!this._onlineCheck()&&this.handleFailReq(e)}},{key:"get",value:function(){var t=Object(b.a)(p.a.mark((function t(a){var n,r,i,o=arguments;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:{},t.prev=1,this.handleConnectivity(n),this.currentURL=e.prepareUrl(a,this._baseURL),n.params&&(r=e.objectToParameter(n.params),this.currentURL=this.currentURL+r),{method:"GET",mode:this.cors,credentials:this.credentials,headers:this.headers,redirect:this.redirect},t.next=8,fetch(this.currentURL);case 8:if((i=t.sent).ok){t.next=11;break}return t.abrupt("return",this.handleFailReq(n));case 11:if(!n.contentType){t.next=15;break}return t.next=14,i[n.contentType]();case 14:return t.abrupt("return",t.sent);case 15:return n.onSuccess&&n.onSuccess(),t.next=18,i.json();case 18:return t.abrupt("return",t.sent);case 21:t.prev=21,t.t0=t.catch(1),console.log(t.t0),this.handleFailReq(n);case 25:case"end":return t.stop()}}),t,this,[[1,21]])})));return function(e){return t.apply(this,arguments)}}()},{key:"post",value:function(){var t=Object(b.a)(p.a.mark((function t(){var a,n,r,i,o,c,l=arguments;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=l.length>0&&void 0!==l[0]?l[0]:"",n=l.length>1&&void 0!==l[1]?l[1]:{},r=l.length>2&&void 0!==l[2]?l[2]:{},this.handleConnectivity(r),this.currentURL=e.prepareUrl(a,this._baseURL),r.params&&(i=e.objectToParameter(r.params),this.currentURL=this.currentURL+i),t.prev=6,o={method:"POST",mode:this.cors,credentials:this.credentials,headers:this.headers,redirect:this.redirect,body:r.encoder?r.encoder(n):JSON.stringify(n)},t.next=10,fetch(this.currentURL,o);case 10:if((c=t.sent).ok||this.handleFailReq(r),!r.contentType){t.next=16;break}return t.next=15,c[r.contentType]();case 15:return t.abrupt("return",t.sent);case 16:return r.onSuccess&&r.onSuccess(),t.next=19,c.json();case 19:return t.abrupt("return",t.sent);case 22:t.prev=22,t.t0=t.catch(6),console.log(t.t0),this.handleFailReq(r);case 26:case"end":return t.stop()}}),t,this,[[6,22]])})));return function(){return t.apply(this,arguments)}}()},{key:"showLoader",set:function(e){this._showLoader=e}},{key:"removeLoader",set:function(e){this._removeLoader=e}},{key:"onRequestFail",set:function(e){this._onRequestFail=e}},{key:"onlineCheck",set:function(e){this._onlineCheck=e}},{key:"baseURL",set:function(e){"/"===e[e.length]&&(e=e.slice(0,e.length-1)),this._baseURL=e},get:function(){return this._baseURL}}],[{key:"isUrlValid",value:function(e){return!!new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i").test(e)}},{key:"isAbsoluteUrl",value:function(e){return new RegExp("^(?:[a-z]+:)?//","i").test(e)}},{key:"prepareUrl",value:function(t,a){if(e.isAbsoluteUrl(t))return t;if(!a)throw new Error("Invalid URL, make sure to pass baseURL if first argument contains relative URL");return"/"!==t[0]&&"/"!==a[a.length-1]&&(t="/"+t),a+t}},{key:"objectToParameter",value:function(e){var t="?";for(var a in e)t+="".concat(a,"=").concat(e[a],"&");return t}}]),e}(),zn=new Gn;zn.RequestApi=Gn;var Hn=zn;Hn.baseURL=k.baseURL;var Wn=ot.a.Column,qn=(ot.a.ColumnGroup,O.a.Search),Yn=function(e){Me.a.success({message:e||"Product Deleted",description:"",icon:c.a.createElement(De.a,{style:{color:"rgba(0, 128, 0, 0.493)"}})})},Kn=function(e){var t,a,n=e.data,r=e.setProductList,i=e.roles,l=e.productListState,s=e.searchList,u=Object(o.useState)(!1),d=Object(g.a)(u,2),h=d[0],E=d[1],v=Object(o.useState)(11),y=Object(g.a)(v,2),O=(y[0],y[1]),j=Object(o.useState)(!1),C=Object(g.a)(j,2),N=C[0],x=C[1],k=U({},"deleteProduct"),S=Object(g.a)(k,2),w=(S[0],S[1]),T=Object(o.useState)(!1),_=Object(g.a)(T,2),I=(_[0],_[1],U({},"updateStock")),L=Object(g.a)(I,2),P=(L[0],L[1]),M=Object(_e.g)(),R=Object(m.e)(),F=function(){var e=Object(b.a)(p.a.mark((function e(t){var a,n,r,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w({urlOptions:{placeHolders:{id:t}}});case 2:(a=e.sent)&&"ok"===a.status&&(n=R.getQueries(),r=n.filter((function(e){var t=null===e||void 0===e?void 0:e.queryKey;return"product"===(null===t||void 0===t?void 0:t[0])&&"number"===typeof(null===t||void 0===t?void 0:t[1])})).map((function(e){return null===e||void 0===e?void 0:e.queryKey})),(null===(i=r.find((function(e){var a,n=!1;return(null===(a=R.getQueryData(e))||void 0===a?void 0:a.data.find((function(e){return e.id===t})))&&(n=!0),n})))||void 0===i?void 0:i[0])&&R.setQueryData(i,(function(e){var a;return Object(f.a)({},e,{data:null===(a=e.data)||void 0===a?void 0:a.filter((function(e){return e.id!==t}))})})),Yn());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=Object(b.a)(p.a.mark((function e(t,a,i){var o,c,l,s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P({body:{inStock:i},urlOptions:{placeHolders:{id:a}}});case 2:(o=e.sent)&&"ok"===o.status&&(Yn("Updated Stock"),c=function(){return n.map((function(e){return e.id})).indexOf(a)}(),l=Object.assign({},n[c],{inStock:i}),s=[].concat(Object(fe.a)(n.slice(0,c)),[l],Object(fe.a)(n.slice(c+1))),r(s));case 4:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),B=function(e){return e.cover?e.cover:""};return c.a.createElement(c.a.Fragment,null,c.a.createElement(Un,{data:(null===s||void 0===s?void 0:s.length)>0?s:(null===l||void 0===l||null===(t=l.resolvedData)||void 0===t?void 0:t.data)||[],total:null===l||void 0===l||null===(a=l.resolvedData)||void 0===a?void 0:a.total,loading:"loading"===l.status||l.isFetching,limit:l.limit,handlePageChange:function(e,t){null===l||void 0===l||l.setPage(e)},handleShowSizeChange:function(e,t){O(t),null===l||void 0===l||l.setLimit(t)}},c.a.createElement(Wn,{title:"",dataIndex:"cover",key:"id",width:"80px",className:"classnameofthecolumn",render:function(e,t){return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"listCoverImage",onClick:function(){M.push("/admin/product/".concat(t.id)),x(t)}},c.a.createElement("img",{src:B(t),alt:""})))}}),c.a.createElement(Wn,{title:"Name",dataIndex:"name",key:"id",className:"classnameofthecolumn",render:function(e,t){return c.a.createElement(c.a.Fragment,null,c.a.createElement("h4",{onClick:function(){M.push("/admin/product/".concat(t.id)),x(t)},style:{fontWeight:400,color:"#555",cursor:"pointer"}},e))}}),c.a.createElement(Wn,{title:"Offer Price",dataIndex:"offerPrice",key:"id",className:"classnameofthecolumn"}),c.a.createElement(Wn,{title:"Price",dataIndex:"price",key:"id",className:"classnameofthecolumn"}),c.a.createElement(Wn,{title:"Available",dataIndex:"available",key:"id",className:"classnameofthecolumn"}),c.a.createElement(Wn,{align:"right",title:"Stock",dataIndex:"inStock",key:"id",className:"classnameofthecolumn",render:function(e,t){return c.a.createElement(c.a.Fragment,null,D("postCatalogue",i)?c.a.createElement(Fe.a,{overlay:function(){return function(e,t){return c.a.createElement(J.a,null,c.a.createElement(J.a.Item,{onClick:function(){return A(e,t,!0)},key:"1",icon:c.a.createElement(xt.a,null)},"In stock"),c.a.createElement(J.a.Item,{onClick:function(){return A(e,t,!1)},key:"1",icon:c.a.createElement(xt.a,null)},"Out of stock"))}(t,t.id)},placement:"bottomRight"},c.a.createElement("a",{href:"##"},c.a.createElement("span",{style:{fontSize:"12px"}},e?"In Stock":"Out of stock",c.a.createElement("span",{style:{marginLeft:"5px",fontSize:"10px"}},c.a.createElement(Nn.a,null))))):c.a.createElement("a",{href:"##"},c.a.createElement("span",{style:{fontSize:"12px"}},e?"In Stock":"Out of stock",c.a.createElement("span",{style:{marginLeft:"5px",fontSize:"10px"}}))))}}),D("postCatalogue",i)&&c.a.createElement(Wn,{className:"classnameofthecolumn",title:"",key:"action",align:"right",render:function(e,t){return c.a.createElement(dt.a,{size:"middle"},c.a.createElement("a",{href:"##"},c.a.createElement(pt.a,{placement:"top",title:"Edit Product"},c.a.createElement("span",{className:"iconSize",onClick:function(){E(!0),x(t)}},c.a.createElement(gt.a,null)))),c.a.createElement(bt.a,{onConfirm:function(){return F(t.id)},title:"Are you sure\uff1f",okText:"Yes",cancelText:"No"},c.a.createElement("span",{className:"iconSize iconSize-danger"},c.a.createElement(ft.a,null))))}})),N&&c.a.createElement(An,{productList:n,productListState:l,setProductList:r,setProductEditVisible:E,productEditVisible:h,productDetailData:N}))},Jn=Object(u.b)((function(e){return{roles:e.globalState}}),null)((function(e){var t,a,n,r,i=e.roles,l=Object(o.useState)([]),s=Object(g.a)(l,2),u=(s[0],s[1]),m=Object(o.useState)([]),d=Object(g.a)(m,2),f=d[0],h=d[1],v=Object(o.useState)(!1),y=Object(g.a)(v,2),O=y[0],j=y[1],C=Object(o.useState)(""),N=Object(g.a)(C,2),x=N[0],S=N[1],w=U({},"productList"),T=Object(g.a)(w,2),_=T[0],I=(T[1],z("productList",{urlOptions:{params:{limitNumber:11,sortItem:"name",sortOrderValue:"1",pageNumber:1}}},"product"));function L(){return(L=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!x){e.next=5;break}return e.next=3,Hn.get("/api/search?limit=1000&query="+x);case 3:(t=e.sent)&&t.data&&h(t.data);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(o.useEffect)((function(){!function(){L.apply(this,arguments)}()}),[x]),Object(o.useEffect)((function(){console.log({searchList:f})}),[f]);var P=Object(o.useState)(!1),M=Object(g.a)(P,2),R=M[0],F=M[1],A=function(){var e=Object(b.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:""===t?(h([]),S("")):S(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"categoryListContainer"},c.a.createElement("div",{className:"categoryListContainer__header"},c.a.createElement("div",{className:"categoryListContainer__header-searchBar"},c.a.createElement("h2",{className:"categoryListContainer__header-title"},"Products"),c.a.createElement(qn,{enterButton:!1,className:"searchbarClassName",placeholder:"search products..",onChange:function(e){return A(e.target.value)}})),c.a.createElement("div",null,D("postCatalogue",i)&&c.a.createElement(E.a,{style:{marginRight:"15px"},className:"btnPrimaryClassNameoutline",icon:c.a.createElement(xn.a,null),onClick:function(){window.open("".concat(k.baseURL,"/admin/api/product/csv"))}},"Export CSV"),D("postCatalogue",i)&&c.a.createElement(E.a,{style:{marginRight:"15px"},className:"btnPrimaryClassNameoutline",icon:c.a.createElement(kn.a,null),onClick:function(){return j(!0)}},"Upload CSV"),D("postCatalogue",i)&&c.a.createElement(E.a,{className:"btnPrimaryClassNameoutline",icon:c.a.createElement(ht.a,null),onClick:function(){return F(!0)}},"Add New"))),c.a.createElement("div",{className:"categoryListContainer__afterHeader"}),c.a.createElement("div",{className:"categoryListContainer__categoryList"},(null===(t=I.resolvedData)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.length)>0&&c.a.createElement(Kn,{productListState:I,roles:i,setProductList:u,data:[],searchList:f}),"loading"===I.status&&c.a.createElement(ta,null),I.isError||I.isSuccess&&!((null===(n=I.resolvedData)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.length)>0)&&c.a.createElement("div",{style:{marginTop:"50px"}},c.a.createElement(Te,{title:"No Product found"})))),I.isSuccess&&c.a.createElement(Ln,{addNewCategoryVisible:R,setAddNewCategoryVisible:F,productList:_.data,setProductList:u,productListState:I}),c.a.createElement(Vn,{isUploadCSVModalOpen:O,setIsUploadCSVModalOpen:j}))})),Qn=_t.a.TabPane,Xn=y.a().shape({}),Zn={name:"",description:"",model:"",unit:"",regular:"",offer:"",available:"",minimum:"",image:[],url:"",cover:"",pricing:[],venue:"",date:"",time:"",purchaseLimit:null,bnUnit:"",bnName:"",bnDescription:"",metaTitle:"",bnMetaTitle:"",metaDescription:"",bnMetaDescription:"",metaTags:"",bnMetaTags:""},$n=function(e){e.productEditVisible;var t=e.setProductEditVisible,a=e.productDetailData,n=e.setProductDetailData,r=U({},"updateProduct"),i=Object(g.a)(r,2),l=i[0],s=i[1],u=U({},"productDetailById"),m=Object(g.a)(u,2),d=m[0],h=m[1],y=U({},"attachImageToItemMultiple"),O=Object(g.a)(y,2),j=(O[0],O[1]),N=U({},"attachImageToItemSingle"),x=Object(g.a)(N,2),k=(x[0],x[1]),S=U({},"detachImageFromItemMultiple"),w=Object(g.a)(S,2),T=(w[0],w[1],U({},"detachImageFromItemSingle")),_=Object(g.a)(T,2),D=(_[0],_[1]),I=U({},"setImageAsThumbnailToItem"),L=Object(g.a)(I,2),P=(L[0],L[1]),M=Object(o.useState)(!1),R=Object(g.a)(M,2),F=R[0],A=R[1],B=Object(o.useState)(!1),V=Object(g.a)(B,2),G=V[0],z=V[1],H=Object(o.useState)(!1),W=Object(g.a)(H,2),q=(W[0],W[1]),Y=Object(o.useState)(!1),K=Object(g.a)(Y,2),J=K[0],Q=K[1],X=Object(o.useState)(!1),Z=Object(g.a)(X,2),$=Z[0],ee=Z[1],te=Object(o.useState)([]),ae=Object(g.a)(te,2),ne=ae[0],re=ae[1],ie=Object(o.useState)([]),oe=Object(g.a)(ie,2),ce=oe[0],le=oe[1],se=Object(o.useState)(""),ue=Object(g.a)(se,2),me=ue[0],de=ue[1],pe=Object(o.useState)([]),be=Object(g.a)(pe,2),ge=be[0],he=be[1],Ee=Object(o.useState)(""),ve=Object(g.a)(Ee,2),ye=ve[0],Oe=ve[1],je=Object(o.useState)([]),Ce=Object(g.a)(je,2),Ne=Ce[0],xe=Ce[1],ke=Object(o.useState)([]),Se=Object(g.a)(ke,2),Te=Se[0],_e=Se[1],Ie=Object(o.useState)(""),Le=Object(g.a)(Ie,2),Pe=(Le[0],Le[1]),Me=Object(o.useState)(""),Fe=Object(g.a)(Me,2),Be=(Fe[0],Fe[1]),Ve=Object(o.useState)(""),Ue=Object(g.a)(Ve,2),Ge=Ue[0],ze=Ue[1],He=Object(o.useState)(""),We=Object(g.a)(He,2),qe=We[0],Ye=We[1],Ke=Object(o.useState)([]),Je=Object(g.a)(Ke,2),Qe=Je[0],Xe=Je[1],Ze=Object(o.useState)([]),$e=Object(g.a)(Ze,2),et=$e[0],tt=$e[1],at=Object(o.useState)({}),nt=Object(g.a)(at,2),rt=nt[0],it=nt[1],ot=Object(o.useState)("2"),ct=Object(g.a)(ot,2),lt=ct[0],st=ct[1],ut=Object(o.useState)(!1),mt=Object(g.a)(ut,2),dt=mt[0],bt=mt[1];Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h({urlOptions:{placeHolders:{id:a.id}}});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[a]),console.log("tagIds",ce),console.log("selectedtagIds",Te),Object(o.useEffect)((function(){if(d.done&&d.data&&Object.keys(d.data).length>0){var e=d.data;if(e.brand?de(e.brand.id):de(""),e&&e.tags&&e.tags.length>0){var t=e.tags.map((function(e){return e.name})),a=e.tags.map((function(e){return e._id}));_e(t),console.log("selectedTagIds55",a),le(a)}else le([]),_e([]);if(e&&e.category&&e.category.length>0){var n=e.category.map((function(e){return e.id}));xe(n)}else xe([]);e&&e.pricing&&e.pricing?he(e.pricing):he([]),e&&e.date&&e.date?Pe(e.date):Pe(""),e&&e.time&&e.time?Be(e.time):Be(""),e&&e.description?ze(e.description):ze(""),e&&e.bn&&e.bn.description?Ye(e.bn.description):Ye("")}console.log("runnedBitch")}),[d.done]),Object(o.useEffect)((function(){if(d.done&&Object.keys(d).length>0){var e=d.data.image,t=[];if(e&&e.length>0&&(t=e),d.data.cover&&d.data.cover.id)e.find((function(e){return e.id===d.data.cover.id}))||(t=[d.data.cover].concat(Object(fe.a)(t))),Oe(d.data.cover.id);z(t)}}),[d.done]),Object(o.useEffect)((function(){console.log("thumnail",G),G&&G[0]&&G.length<2&&(console.log("thumnail2",G),ye!==G[0].id&&(Oe(G[0].id),yt(G[0])))}),[G]);var vt=function(){var e=Object(b.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D({urlOptions:{placeHolders:{imageId:t,collection:"product",itemId:a.id}}});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),yt=function(){var e=Object(b.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P({urlOptions:{placeHolders:{imageId:t.id,collection:"product",itemId:a.id}}});case 2:n=e.sent,console.log("thumbnailRes",n),n&&"ok"===n.status?Sa("Set as thumbnail!"):wa("Couldn't set as thumbnail, Something went wrong");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ot=function(){var e=Object(b.a)(p.a.mark((function e(r,i){var o,c,l;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=G?G.map((function(e){return e.id})):[],!(a&&Object.keys(a).length>0)){e.next=12;break}if(c=[],o&&o.length>0&&o.forEach((function(e){a&&a.image&&(a.image.includes(e)||c.push(e))})),!(c[0]&&c.length>1)){e.next=9;break}return e.next=7,j({urlOptions:{placeHolders:{collection:"product",itemId:a.id}},body:{image:c}});case 7:e.next=12;break;case 9:if(!(c[0]&&c.length<1)){e.next=12;break}return e.next=12,k({urlOptions:{placeHolders:{imageId:c[0].id,collection:"product",itemId:a.id}}});case 12:return e.next=14,s({urlOptions:{placeHolders:{id:a.id}},body:{name:r.name.trim(),description:Ge,model:r.model,unit:r.unit,category:Ne,tags:ce,brand:me,image:o,cover:ye||o[0]?o[0]:"",pricing:ge,metaTitle:r.metaTitle,metaDescription:r.metaDescription,metaTags:Qe&&Qe.length>0?Qe.join(","):"",bn:{metaTitle:r.bnMetaTitle,metaDescription:r.bnMetaDescription,metaTags:et&&et.length>0?et.join(","):"",name:r.bnName.trim(),unit:r.metaUnit,description:qe}}});case 14:(l=e.sent)&&"ok"===l.status&&(Sa("Product Updated"),t(!1),t(!1),n(Object(f.a)({},l,{category:a.category,brand:a.brand,tags:a.tags,cover:a.cover,image:a.image,id:a.id}))),i.setSubmitting(!1);case 17:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();console.log("updateProductStaet",l),Object(o.useEffect)((function(){if(!l.isLoading){var e=l.error;if(e.isError&&Object.keys(e.error).length>0)(Object.values(e.error).length>0?Object.values(e.error):[]).forEach((function(e,t){if("string"===typeof e)wa(e);else if("object"===typeof e){if(e&&Object.keys(e).length>0)Object.values(e).forEach((function(e){wa(e)}))}}))}}),[l]);var jt=function(e){var t=ge.map((function(e){return e.id})).indexOf(e.id),a=Object.assign({},ge[t],Object(f.a)({},e)),n=[].concat(Object(fe.a)(ge.slice(0,t)),[a],Object(fe.a)(ge.slice(t+1)));he(n),Et.a.info("Product Pricing Updated"),bt(!0),st("2")},St=function(e){he([Object(f.a)({},e,{id:ge.length})].concat(Object(fe.a)(ge))),Et.a.info("Product Pricing Added")};return console.log("productDetailData",a),console.log("productDetailState",d),Object(o.useEffect)((function(){if(d.data&&Object.keys(d.data).length>0&&d.data.metaTags){var e=d.data.metaTags.split(",");console.log("localMetaTags",e);var t=d.data.bn.metaTags.split(",");Xe(e||[]),tt(t||[])}}),[d.done]),console.log("productDetailData"),c.a.createElement(c.a.Fragment,null,c.a.createElement(v.a,{onSubmit:function(e,t){return Ot(e,t)},validationSchema:Xn,validateOnBlur:!1,enableReinitialize:!0,initialValues:Object(f.a)({},Zn,{},Object(f.a)({},a,{},d.data&&Object.keys(d.data).length>0&&d.data.bn&&{bnMetaTitle:d.data.bn.metaTitle,bnMetaDescription:d.data.bn.metaDescription,bnName:d.data.bn.name,metaUnit:d.data.bn.unit,bnDescription:d.data.bn.description}))},(function(e){var a=e.handleChange,n=e.values,r=e.handleSubmit,i=e.errors,o=(e.isValid,e.isSubmitting),s=e.touched,u=(e.handleBlur,e.setFieldTouched);e.handleReset;return c.a.createElement(c.a.Fragment,null,c.a.createElement("section",{className:"addProductGridContainer"},c.a.createElement("div",{className:"addProductGridContainer__left"},c.a.createElement("div",{className:"addProductGridContainer__name"},c.a.createElement("div",{className:"addProductGridContainer__item-header"},c.a.createElement("h3",null,"Product Information *"),c.a.createElement("div",{className:n.name&&n.name.length>2?"checkicon-active":"checkicon"},c.a.createElement(De.a,null))),c.a.createElement("div",{className:"addProductGridContainer__item-body"},c.a.createElement(C,{label:"Name *",value:n.name,placeHolder:"Rafty ox",name:"name",isError:s.name&&i.name||!o&&l.error.error.name,errorString:s.name&&i.name||!o&&l.error.error.name,onChange:function(e){a(e),u("name")}}),c.a.createElement(C,{label:"BN Name",value:n.bnName,placeHolder:"\u09b0\u09be\u09ab\u09a4\u09bf \u0985\u0995\u09cd\u09b8",name:"bnName",isError:s.bnName&&i.bnName||!o&&l.error.error.bnName,errorString:s.bnName&&i.bnName||!o&&l.error.error.bnName,onChange:function(e){a(e),u("bnName")}}),c.a.createElement(C,{label:"Unit",value:n.unit,name:"unit",placeHolder:"KG,POUND,GM",isError:s.unit&&i.unit||!o&&l.error.error.unit,errorString:s.unit&&i.unit||!o&&l.error.error.unit,onChange:function(e){a(e),u("unit")}}),c.a.createElement(C,{label:"BN Unit",value:n.bnUnit,placeHolder:"\u0995\u09c7\u099c\u09bf,\u0997\u09cd\u09b0\u09be\u09ae",name:"bnUnit",isError:s.bnUnit&&i.bnUnit||!o&&l.error.error.bnUnit,errorString:s.bnUnit&&i.bnUnit||!o&&l.error.error.bnUnit,onChange:function(e){a(e),u("bnUnit")}}),c.a.createElement(C,{label:"Model Number",value:n.model,name:"model",isError:s.model&&i.model||!o&&l.error.error.model,errorString:s.model&&i.model||!o&&l.error.error.model,onChange:function(e){a(e),u("model")}}),c.a.createElement("h3",{className:"inputFieldLabel"},"Description"),c.a.createElement("div",{style:{width:"100%",maxWidth:"100%"}},c.a.createElement(ja.a,{editor:Na.a,data:Ge,onInit:function(e){console.log("Editor is ready to use!",e)},onChange:function(e,t){var a=t.getData();ze(a)},onBlur:function(e,t){console.log("Blur.",t)},onFocus:function(e,t){console.log("Focus.",t)}})),c.a.createElement("div",{style:{marginTop:"15px"}}),c.a.createElement("h3",{className:"inputFieldLabel"},"BN Description"),c.a.createElement("div",{style:{width:"100%",maxWidth:"100%"}},c.a.createElement(ja.a,{editor:Na.a,data:qe,onInit:function(e){console.log("Editor is ready to use!",e)},onChange:function(e,t){var a=t.getData();Ye(a)},onBlur:function(e,t){console.log("Blur.",t)},onFocus:function(e,t){console.log("Focus.",t)}})),c.a.createElement("div",{style:{marginTop:"15px"}}," "))),c.a.createElement("div",{className:"addProductGridContainer__price"},c.a.createElement("div",{className:"addProductGridContainer__item-header"},c.a.createElement("h3",null,"Product Pricing *"),c.a.createElement("div",{className:ge&&ge.length>0?"checkicon-active":"checkicon"},c.a.createElement(De.a,null))),c.a.createElement("div",{className:"addProductGridContainer__item-body"},c.a.createElement(_t.a,{animated:!0,tabPosition:"top",type:"card",activeKey:lt,onChange:function(e){st("".concat(e))}},c.a.createElement(Qn,{tab:"Add Variation",key:"1"},c.a.createElement(Tn,{handleAddPricing:St,pricingItem:rt,handleUpdatePricing:jt,isPricingEditActive:dt})),c.a.createElement(Qn,{tab:"Pricing List",key:"2"},c.a.createElement("div",{className:"addProductGridContainer__item-body-pricingContainer"},ge.length>0&&ge.map((function(e){return c.a.createElement("div",{className:"addProductGridContainer__item-body-pricingContainer-item"},c.a.createElement("div",{className:"addProductGridContainer__item-body-pricingContainer-item-edit"},c.a.createElement("span",{className:"pricingEditIcon",onClick:function(){!function(e){bt(!0);var t=ge.find((function(t){return t.id===e}));t&&it(t)}(e.id),st("1")}},c.a.createElement(gt.a,null)),c.a.createElement("span",{className:"pricingDeleteIcon",onClick:function(){return function(e){var t=ge.filter((function(t){return t.id!==e}));he(t),Et.a.info("Product Pricing Deleted")}(e.id)}},c.a.createElement(ft.a,null))),c.a.createElement("div",{className:"addProductGridContainer__item-body-pricingContainer-item-two"},c.a.createElement("div",null,c.a.createElement("h3",null,"Price"),c.a.createElement("div",{className:"addProductGridContainer__item-body-pricingContainer-item-body"},e.price.offer?c.a.createElement(c.a.Fragment,null,c.a.createElement("h4",null,e.price.offer),"/",c.a.createElement("h5",{style:{textDecoration:"line-through"}},e.price.regular)):c.a.createElement("h4",null,e.price.regular))),e.stock&&e.stock.available&&c.a.createElement("div",null,c.a.createElement(Ae.a,{overflowCount:999,count:e.stock.available},c.a.createElement("h3",null,"Stock")),e.stock.minimum&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"addProductGridContainer__item-body-pricingContainer-item-body"},c.a.createElement("div",null,c.a.createElement("h6",null,"min",c.a.createElement(Ae.a,{className:"site-badge-count-4",overflowCount:999,count:e.stock.minimum})))))),Boolean(null===e||void 0===e?void 0:e.maximumPurchaseLimit)&&c.a.createElement("div",null,c.a.createElement("h3",null,"Maximum Purchase Limit"),c.a.createElement("div",{className:"addProductGridContainer__item-body-pricingContainer-item-body"},c.a.createElement("h4",null,null===e||void 0===e?void 0:e.maximumPurchaseLimit)))),e.attribute&&Object.values(e.attribute).length>0&&c.a.createElement(c.a.Fragment,null,c.a.createElement("h3",null,"Attributes"),c.a.createElement("div",{className:"addProductGridContainer__item-body-pricingContainer-item-body"},e.attribute&&Object.keys(e.attribute).length>0&&Object.keys(e.attribute).map((function(t){return c.a.createElement("div",null,c.a.createElement("h6",null,t),c.a.createElement("h4",null,e.attribute[t]))})))))})),!(ge.length>0)&&c.a.createElement("div",{style:{width:"100%",display:"flex",justifyContent:"center"}},c.a.createElement(we.a,{description:"No Pricing added",image:we.a.PRESENTED_IMAGE_SIMPLE}))))),c.a.createElement("div",{className:"addProductGridContainer__item-body-container"}))),c.a.createElement("div",{className:"addProductGridContainer__image"},c.a.createElement("div",{className:"addProductGridContainer__item-header"},c.a.createElement("h3",null,"Image"),c.a.createElement(pt.a,{placement:"left",title:"Click on the image to select cover image, By default 1st image is selected as cover"},c.a.createElement("a",{href:"###"},c.a.createElement(Ct.a,null)))),c.a.createElement("div",{style:{padding:"10px"},className:"aboutToUploadImagesContainer"},d.isLoading&&c.a.createElement("div",{style:{padding:"20px 0"}},c.a.createElement(Re.a,null)),d.done&&c.a.createElement(c.a.Fragment,null,G&&G.length>0&&G.map((function(e,t){return c.a.createElement("div",{className:"aboutToUploadImagesContainer__item"},c.a.createElement("div",{className:"aboutToUploadImagesContainer__item-imgContainer",onClick:function(){Oe(e.id),yt(e)}},c.a.createElement("img",{src:e.cover,alt:e.alt})),c.a.createElement("span",{onClick:function(){!function(e){var t=G&&G.filter((function(t){return t.id!==e}));z(t)}(e.id),vt(e.id)},className:"aboutToUploadImagesContainer__item-remove"},c.a.createElement(Nt.a,null)),(ye===e.id||!ye&&0===t)&&c.a.createElement("span",{className:"aboutToUploadImagesContainer__item-cover"},c.a.createElement(xt.a,null)))})),c.a.createElement(pt.a,{title:"Attach images"},c.a.createElement("div",{onClick:function(){A(!0),ee(!0),Q(!1)},className:"aboutToUploadImagesContainer__uploadItem"},c.a.createElement(kt.a,null),c.a.createElement("span",{className:"aboutToUploadImagesContainer__uploadItem-plus"},c.a.createElement(ht.a,null)))))))),c.a.createElement("div",{className:"addProductGridContainer__right"},c.a.createElement("div",{className:"addProductGridContainer__category"},c.a.createElement("div",{className:"addProductGridContainer-rightItemContainer"},c.a.createElement("div",{className:"addProductGridContainer-rightItemContainer-header"},c.a.createElement("h3",null,"Categories *"),c.a.createElement("div",{className:ne.length>0||l.error.error.category?l.error.error.category?"checkicon-error":"checkicon-active":"checkicon"},c.a.createElement(De.a,null))),c.a.createElement("div",{className:"addProductGridContainer-rightItemContainer-body"},c.a.createElement(Ra,{setCategoryOptions:xe,categoryOptions:Ne,setcategoryIds:re})))),c.a.createElement("div",{className:"addProductGridContainer__tag"},c.a.createElement("div",{className:"addProductGridContainer-rightItemContainer"},c.a.createElement("div",{className:"addProductGridContainer-rightItemContainer-header"},c.a.createElement("h3",null,"Tags")),c.a.createElement("div",{className:"addProductGridContainer-rightItemContainer-body"},c.a.createElement(Da,{setSelectedTags:_e,selectedTags:Te,setTagIds:le})))),c.a.createElement("div",{className:"addProductGridContainer__brand"},c.a.createElement("div",{className:"addProductGridContainer-rightItemContainer"},c.a.createElement("div",{className:"addProductGridContainer-rightItemContainer-header"},c.a.createElement("h3",null,"Brand")),c.a.createElement("div",{className:"addProductGridContainer-rightItemContainer-body"},c.a.createElement(La,{productDetailState:d,brandId:me,setBrandId:de})))),c.a.createElement("div",{className:"addProductGridContainer__brand",style:{marginTop:"10px"}},c.a.createElement("div",{className:"addProductGridContainer-rightItemContainer"},c.a.createElement("div",{className:"addProductGridContainer-rightItemContainer-header"},c.a.createElement("h3",null,"Meta Tags"),c.a.createElement(pt.a,{placement:"left",title:"Meta data will be used to make the user's easy and for search engine optimization."},c.a.createElement("a",{href:"###"},c.a.createElement(Ct.a,null)))),c.a.createElement("div",{className:"addProductGridContainer-rightItemContainer-body"},c.a.createElement(C,{label:"Meta title",value:n.metaTitle,placeHolder:"...",name:"metaTitle",isError:s.metaTitle&&i.metaTitle||!o&&l.error.error.metaTitle,errorString:s.metaTitle&&i.metaTitle||!o&&l.error.error.metaTitle,onChange:function(e){a(e),u("metaTitle")}}),c.a.createElement(C,{label:"BN Meta title",value:n.bnMetaTitle,placeHolder:"...",name:"bnMetaTitle",isError:s.bnMetaTitle&&i.bnMetaTitle||!o&&l.error.error.bnMetaTitle,errorString:s.bnMetaTitle&&i.bnMetaTitle||!o&&l.error.error.bnMetaTitle,onChange:function(e){a(e),u("bnMetaTitle")}}),c.a.createElement(wt,{label:"Meta description",value:n.metaDescription,placeholder:"meta...",name:"metaDescription",isError:s.metaDescription&&i.metaDescription||!o&&l.error.error.metaDescription,errorString:s.metaDescription&&i.metaDescription||!o&&l.error.error.metaDescription,onChange:function(e){a(e),u("metaDescription")}}),c.a.createElement(wt,{label:"BN Meta Description",value:n.bnMetaDescription,placeholder:"\u098f\u0987\u09df \u09ae\u09c7\u099f...",name:"bnMetaDescription",isError:s.bnMetaDescription&&i.bnMetaDescription||!o&&l.error.error.bnMetaDescription,errorString:s.bnMetaDescription&&i.bnMetaDescription||!o&&l.error.error.bnMetaDescription,onChange:function(e){a(e),u("bnMetaDescription")}}),c.a.createElement("h3",{className:"inputFieldLabel"},"Meta Tags"),c.a.createElement(Wt,{setTags:Xe,tags:Qe}),c.a.createElement("div",{style:{marginTop:"15px"}}),c.a.createElement("h3",{className:"inputFieldLabel"},"BN Meta Tags"),c.a.createElement(Wt,{setTags:tt,tags:et})))))),c.a.createElement("div",{style:{padding:"15px",display:"flex",justifyContent:"flex-end"}},c.a.createElement(E.a,{style:{color:"#555",marginRight:"10px"},className:"btnPrimaryClassNameoutline-cancle",onClick:function(){return t(!1)},type:"default"},"Cancel"),c.a.createElement(E.a,{className:"btnPrimaryClassNameoutline",onClick:r,loading:l.isLoading,type:"link",icon:c.a.createElement(xt.a,null)},"Update")),c.a.createElement(Vt,{setvisible:A,visible:F,setmyImages:z,myImages:G,setmyThumbnailImage:q,isModalOpenForThumbnail:J,isModalOpenForImages:$}))})))},er=function(e){var t=e.productEditVisible,a=e.setProductEditVisible,n=e.productDetailData,r=e.setProductDetailData,i=function(){a(!1)};return c.a.createElement(Ot.a,{style:{top:"40px"},bodyStyle:{margin:0,padding:0},width:"70vw",title:"Product Edit",visible:t,onCancel:i,destroyOnClose:!0,okText:"Update",footer:!1,okButtonProps:{htmlType:"submit"}},c.a.createElement($n,{setProductEditVisible:a,productEditVisible:t,setProductDetailData:r,productDetailData:n,handleCancel:i}))},tr=(ot.a.Column,ot.a.ColumnGroup,O.a.Search,Object(u.b)((function(e){return{roles:e.globalState}}),null)((function(e){var t=e.roles,a=U({},"productDetailById"),n=Object(g.a)(a,2),r=n[0],i=n[1],l=Object(_e.h)(),s=Object(_e.g)(),u=l.id,m=Object(o.useState)(!1),d=Object(g.a)(m,2),f=d[0],h=d[1],v=Object(o.useState)({}),y=Object(g.a)(v,2),O=y[0],j=y[1];Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i({urlOptions:{placeHolders:{id:u}}});case 2:(t=e.sent)&&j(t),console.log("productDetailRes",t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[u]),console.log("productDetailState",r),console.log("brandParams",l);var C=r.done&&O&&O.image?function(e){if(!e[0])return!1;e=e.map((function(e){return e.cover}));var t={},a=0,n=0;return e.forEach((function(e,r){a<3?(t[n]?t[n]=[].concat(Object(fe.a)(t[n]),[e]):t[n]=[e],a+=1,n+=1):(a=0,n=0,console.log("localIndex",a))})),t}(O.image):[];return c.a.createElement("div",{className:"brandDetailContainer"},c.a.createElement("div",{className:"brandDetailContainer__heading"},c.a.createElement("h3",null,"Product Detail"),r.done&&O&&Object.keys(O).length>0&&c.a.createElement(c.a.Fragment,null,c.a.createElement(er,{productEditVisible:f,setProductEditVisible:h,productDetailData:O,setProductDetailData:j}),D("postCatalogue",t)&&c.a.createElement(E.a,{onClick:function(){return h(!0)},type:"link",icon:c.a.createElement(gt.a,null)},"Edit"))),c.a.createElement(ma.a,{avatar:!0,paragraph:{rows:3},loading:r.isLoading},r.done&&O&&!(Object.keys(O).length>0)&&c.a.createElement(we.a,{description:"No Product found",image:we.a.PRESENTED_IMAGE_SIMPLE}),r.done&&O&&Object.keys(O).length>0&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"brandDetailContainer__header"},c.a.createElement("div",{className:"brandDetailContainer__header-coverContainer brandDetailContainer__header-coverContainer-product"},c.a.createElement("img",{src:O.cover&&O.cover.cover,alt:""})),c.a.createElement("div",{className:"brandDetailContainer__header-info"},c.a.createElement("h2",null,O.name),c.a.createElement("h4",null,O.price),c.a.createElement("h3",null,O.description),O.url&&c.a.createElement("h3",null,"URL:",c.a.createElement("span",null,O.url)),O.category&&O.category.length>0&&c.a.createElement(c.a.Fragment,null,c.a.createElement("h3",null,"CATEGORIES:",O.category.map((function(e){return c.a.createElement("span",{onClick:function(){return s.push("/admin/category/".concat(e.id))}},e.name)})))),O.tags&&O.tags.length>0&&c.a.createElement(c.a.Fragment,null,c.a.createElement("h3",null,"TAGS:",O.tags.map((function(e){return c.a.createElement("span",{onClick:function(){return s.push("/admin/tag/".concat(e._id))}},e.name)})))))),O.icon&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"brandDetailContainer__heading"},c.a.createElement("h3",null,"Icon")),c.a.createElement("div",{className:"brandDetailContainer__inlineBox"},c.a.createElement("div",{className:"brandDetailContainer__header-coverContainer brandDetailContainer__header-coverContainer-icon"},c.a.createElement("img",{src:O.icon&&O.icon,alt:""}))),c.a.createElement("div",{style:{marginBottom:"25px"}})),O.pricing&&O.pricing.length>0&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"brandDetailContainer__heading"},c.a.createElement("h3",null,"Pricing")),c.a.createElement("div",{className:"brandDetailContainer__pricing"},c.a.createElement("div",{className:"addProductGridContainer__item-body-pricingContainer"},O.pricing.map((function(e){return c.a.createElement("div",{className:"addProductGridContainer__item-body-pricingContainer-item"},c.a.createElement("div",{className:"addProductGridContainer__item-body-pricingContainer-item-two"},c.a.createElement("div",null,c.a.createElement("h3",null,"Price"),c.a.createElement("div",{className:"addProductGridContainer__item-body-pricingContainer-item-body"},e.price.offer?c.a.createElement(c.a.Fragment,null,c.a.createElement("h4",null,e.price.offer),"/",c.a.createElement("h5",{style:{textDecoration:"line-through"}},e.price.regular)):c.a.createElement("h4",null,e.price.regular))),e.stock&&c.a.createElement("div",null,c.a.createElement(Ae.a,{overflowCount:999,count:e.stock.available},c.a.createElement("h3",null,"Stock")),c.a.createElement("div",{className:"addProductGridContainer__item-body-pricingContainer-item-body"},c.a.createElement("div",null,c.a.createElement("h6",null,"min",c.a.createElement(Ae.a,{className:"site-badge-count-4",overflowCount:999,count:e.stock.minimum})))))),e.attribute&&Object.values(e.attribute).length>0&&c.a.createElement(c.a.Fragment,null,c.a.createElement("h3",null,"Attributes"),c.a.createElement("div",{className:"addProductGridContainer__item-body-pricingContainer-item-body"},e.attribute&&Object.keys(e.attribute).length>0&&Object.keys(e.attribute).map((function(t){return c.a.createElement("div",null,c.a.createElement("h6",null,t),c.a.createElement("h4",null,e.attribute[t]))})))))})))),c.a.createElement("div",{style:{marginBottom:"25px"}})),O.image&&O.image.length>0&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"brandDetailContainer__heading"},c.a.createElement("h3",null,"Image Gallary")),c.a.createElement("div",{className:"brandDetailContainer__imageGallary"},c.a.createElement("div",{className:"imgGallaryContainer"},c.a.createElement("div",{className:"imgGallary-row"},C&&Object.keys(C).map((function(e){return c.a.createElement("div",{className:"imgGallary-column"},C[e]&&C[e].map((function(e){return c.a.createElement("img",{src:e,style:{width:"100%"}})})))}))))),c.a.createElement("div",{style:{marginBottom:"25px"}})),O.brand&&Object.keys(O.brand).length>0&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"brandDetailContainer__heading"},c.a.createElement("h3",null,"Brand")),c.a.createElement("div",{onClick:function(){return s.push("/admin/brand/".concat(O.brand.id))},className:"brandDetailContainer__brand"},c.a.createElement("div",{className:"brandDetailContainer__brand-coverbox"},c.a.createElement("img",{src:O.brand.cover&&O.brand.cover,alt:""})),c.a.createElement("div",{className:"brandDetailContainer__brand-info"},c.a.createElement("h2",null,O.brand.name),c.a.createElement("h3",null,O.brand.description))),c.a.createElement("div",{style:{marginBottom:"25px"}})),O.primaryCategory&&Object.keys(O.primaryCategory).length>0&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"brandDetailContainer__heading"},c.a.createElement("h3",null,"Primary Category")),c.a.createElement("div",{onClick:function(){return s.push("/admin/category/".concat(O.primaryCategory.id))},className:"brandDetailContainer__brand"},c.a.createElement("div",{className:"brandDetailContainer__brand-coverbox"},c.a.createElement("img",{src:O.primaryCategory.cover&&O.primaryCategory.cover,alt:""})),c.a.createElement("div",{className:"brandDetailContainer__brand-info"},c.a.createElement("h2",null,O.primaryCategory.name),c.a.createElement("h3",null,O.primaryCategory.description))),c.a.createElement("div",{style:{marginBottom:"25px"}})))))}))),ar=y.a().shape({name:y.c().label("Name").required("Name is required").min(3,"Name must have at least 3 characters")}),nr=function(e){Me.a.success({message:e||"Something Went Wrong",description:"",icon:c.a.createElement(Ct.a,{style:{color:"rgb(241, 67, 67)"}})})},rr={name:"",bnName:"",description:"",bnDescription:"",metaTitle:"",bnMetaTitle:"",metaDescription:"",bnMetaDescription:"",metaTags:"",bnMetaTags:""},ir=function(e){var t=e.tagEditVisible,a=e.setTagEditVisible,n=e.tagDetailData,r=e.setTagList,i=e.tagList,l=U({},"updateTag"),s=Object(g.a)(l,2),u=s[0],m=s[1],d=Object(o.useState)([]),h=Object(g.a)(d,2),E=h[0],y=h[1],O=Object(o.useState)([]),j=Object(g.a)(O,2),N=j[0],x=j[1];Object(o.useEffect)((function(){console.log("mounted11")}),[]);var k=function(){var e=Object(b.a)(p.a.mark((function e(t,n){var o,l,s,u;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m({urlOptions:{placeHolders:{id:t.id}},body:{name:t.name,description:t.description,metaTitle:t.metaTitle,metaDescription:t.metaDescription,metaTags:null===E||void 0===E?void 0:E.join(","),bn:{metaTitle:t.bnMetaTitle,metaDescription:t.bnMetaDescription,metaTags:null===N||void 0===N?void 0:N.join(","),name:t.bnName,description:t.bnDescription}}});case 2:(o=e.sent)&&"ok"===o.status?(l=function(){return i.map((function(e){return e.id})).indexOf(t.id)}(),s=Object.assign({},i[l],Object(f.a)({},t,{},o)),u=[].concat(Object(fe.a)(i.slice(0,l)),[s],Object(fe.a)(i.slice(l+1))),r(u),d=void 0,Me.a.success({message:d||"Tag Updated",description:"",icon:c.a.createElement(De.a,{style:{color:"rgba(0, 128, 0, 0.493)"}})}),a(!1)):nr(),n.setSubmitting(!1);case 5:case"end":return e.stop()}var d}),e)})));return function(t,a){return e.apply(this,arguments)}}();Object(o.useEffect)((function(){if(!u.isLoading){var e=u.error;if(e.isError&&Object.keys(e.error).length>0)(Object.values(e.error).length>0?Object.values(e.error):[]).forEach((function(e,t){if("string"===typeof e)nr(e);else if("object"===typeof e){if(e&&Object.keys(e).length>0)Object.values(e).forEach((function(e){nr(e)}))}}))}}),[u]);var S=function(e){a(!1)};return Object(o.useEffect)((function(){if(n&&Object.keys(n).length>0){var e=n.metaTags.split(",");console.log("localMetaTags",e);var t=n.bn.metaTags.split(",");y(e),x(t)}}),[]),console.log("tagDetailData",n),c.a.createElement(v.a,{onSubmit:function(e,t){return k(e,t)},validationSchema:ar,validateOnBlur:!1,enableReinitialize:!0,initialValues:Object(f.a)({},rr,{},n,{},n&&Object.keys(n).length>0&&{bnMetaTitle:n.bn&&n.bn.metaTitle&&n.bn.metaTitle,bnMetaDescription:n.bn&&n.bn.metaDescription&&n.bn.metaDescription,bnName:n.bn&&n.bn.name&&n.bn.name,bnDescription:n.bn&&n.bn.description&&n.bn.description})},(function(e){var a=e.handleChange,n=e.values,r=e.handleSubmit,i=e.errors,o=(e.isValid,e.isSubmitting),l=e.touched,s=(e.handleBlur,e.setFieldTouched);e.handleReset;return c.a.createElement(c.a.Fragment,null,c.a.createElement(Ot.a,{style:{top:"40px"},title:"Tag Edit",visible:t,onOk:function(e){return r(e)},onCancel:S,okText:"Update",okButtonProps:{loading:o,htmlType:"submit"}},c.a.createElement(C,{label:"Name *",value:n.name,name:"name",placeHolder:"new,fresh",isError:l.name&&i.name||!o&&u.error.error.name,errorString:l.name&&i.name||!o&&u.error.error.name,onChange:function(e){a(e),s("name")}}),c.a.createElement(C,{label:"BN Name",value:n.bnName,placeHolder:"\u09a8\u09a4\u09c1\u09a8,\u09ab\u09cd\u09b0\u09c7\u09b6",name:"bnName",isError:l.bnName&&i.bnName||!o&&u.error.error.bnName,errorString:l.bnName&&i.bnName||!o&&u.error.error.bnName,onChange:function(e){a(e),s("bnName")}}),c.a.createElement(wt,{label:"Description",value:n.description,name:"description",placeholder:"This tag...",isError:l.description&&i.description||!o&&u.error.error.description,errorString:l.description&&i.description||!o&&u.error.error.description,onChange:function(e){a(e),s("description")}}),c.a.createElement(wt,{label:"BN Description",value:n.bnDescription,placeholder:"\u098f\u0987 \u099f\u09cd\u09af\u09be\u0997...",name:"bnDescription",isError:l.bnDescription&&i.bnDescription||!o&&u.error.error.bnDescription,errorString:l.bnDescription&&i.bnDescription||!o&&u.error.error.bnDescription,onChange:function(e){a(e),s("bnDescription")}}),c.a.createElement(C,{label:"Meta title",value:n.metaTitle,placeHolder:"...",name:"metaTitle",isError:l.metaTitle&&i.metaTitle||!o&&u.error.error.metaTitle,errorString:l.metaTitle&&i.metaTitle||!o&&u.error.error.metaTitle,onChange:function(e){a(e),s("metaTitle")}}),c.a.createElement(C,{label:"BN Meta title",value:n.bnMetaTitle,placeHolder:"...",name:"bnMetaTitle",isError:l.bnMetaTitle&&i.bnMetaTitle||!o&&u.error.error.bnMetaTitle,errorString:l.bnMetaTitle&&i.bnMetaTitle||!o&&u.error.error.bnMetaTitle,onChange:function(e){a(e),s("bnMetaTitle")}}),c.a.createElement(wt,{label:"Meta description",value:n.metaDescription,placeholder:"meta...",name:"metaDescription",isError:l.metaDescription&&i.metaDescription||!o&&u.error.error.metaDescription,errorString:l.metaDescription&&i.metaDescription||!o&&u.error.error.metaDescription,onChange:function(e){a(e),s("metaDescription")}}),c.a.createElement(wt,{label:"BN Meta Description",value:n.bnMetaDescription,placeholder:"\u098f\u0987\u09df \u09ae\u09c7\u099f...",name:"bnMetaDescription",isError:l.bnMetaDescription&&i.bnMetaDescription||!o&&u.error.error.bnMetaDescription,errorString:l.bnMetaDescription&&i.bnMetaDescription||!o&&u.error.error.bnMetaDescription,onChange:function(e){a(e),s("bnMetaDescription")}}),c.a.createElement("h3",{className:"inputFieldLabel"},"Meta Tags "),c.a.createElement(Wt,{setTags:y,tags:E}),c.a.createElement("div",{style:{marginTop:"15px"}}),c.a.createElement("h3",{className:"inputFieldLabel"},"BN Meta Tags"),c.a.createElement(Wt,{setTags:x,tags:N})))}))},or=y.a().shape({}),cr=function(e){Me.a.error({message:e||"Something Went Wrong",description:"",icon:c.a.createElement(Ct.a,{style:{color:"rgb(241, 67, 67)"}})})},lr={name:"",bnName:"",description:"",bnDescription:"",metaTitle:"",bnMetaTitle:"",metaDescription:"",bnMetaDescription:"",metaTags:"",bnMetaTags:""},sr=function(e){var t=e.addNewCategoryVisible,a=e.setAddNewCategoryVisible,n=e.tagList,r=e.setTagList,i=U({},"addTag"),l=Object(g.a)(i,2),s=l[0],u=l[1],m=Object(o.useState)(!1),d=Object(g.a)(m,2),h=d[0],E=d[1],y=Object(o.useState)(!1),O=Object(g.a)(y,2),j=O[0],N=O[1],x=Object(o.useState)([]),k=Object(g.a)(x,2),S=k[0],w=k[1],T=Object(o.useState)([]),_=Object(g.a)(T,2),D=_[0],I=_[1],L=function(){var e=Object(b.a)(p.a.mark((function e(t,i){var o;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u({urlOptions:{placeHolders:{id:t.id}},body:{name:t.name,description:t.description,metaTitle:t.metaTitle,metaDescription:t.metaDescription,metaTags:S.join(","),bn:{metaTitle:t.bnMetaTitle,metaDescription:t.bnMetaDescription,metaTags:D.join(","),name:t.bnName,description:t.bnDescription}}});case 2:(o=e.sent)&&"ok"===o.status?(l=void 0,Me.a.success({message:l||"Tag Created",description:"",icon:c.a.createElement(De.a,{style:{color:"rgba(0, 128, 0, 0.493)"}})}),r([Object(f.a)({id:o._id||"",key:o._id||"",name:o.name||"",description:o.description||""},o)].concat(Object(fe.a)(n))),i.resetForm(),a(!1)):cr(),i.setSubmitting(!1);case 5:case"end":return e.stop()}var l}),e)})));return function(t,a){return e.apply(this,arguments)}}();Object(o.useEffect)((function(){if(!s.isLoading){var e=s.error;if(e.isError&&Object.keys(e.error).length>0)(Object.values(e.error).length>0?Object.values(e.error):[]).forEach((function(e,t){if("string"===typeof e)cr(e);else if("object"===typeof e){if(e&&Object.keys(e).length>0)Object.values(e).forEach((function(e){cr(e)}))}}))}}),[s]);var P=function(e){a(!1)};return c.a.createElement(v.a,{onSubmit:function(e,t){return L(e,t)},validationSchema:or,validateOnBlur:!1,enableReinitialize:!0,initialValues:Object(f.a)({},lr)},(function(e){var a=e.handleChange,n=e.values,r=e.handleSubmit,i=e.errors,o=(e.isValid,e.isSubmitting),l=e.touched,u=(e.handleBlur,e.setFieldTouched);e.handleReset;return c.a.createElement(c.a.Fragment,null,c.a.createElement(Ot.a,{style:{top:"40px"},title:"Add New Tag",visible:t,onOk:function(e){return r(e)},onCancel:P,okText:"Create",okButtonProps:{loading:o,htmlType:"submit"}},c.a.createElement(C,{label:"Name *",value:n.name,name:"name",placeHolder:"new,fresh",isError:l.name&&i.name||!o&&s.error.error.name,errorString:l.name&&i.name||!o&&s.error.error.name,onChange:function(e){a(e),u("name")}}),c.a.createElement(C,{label:"BN Name",value:n.bnName,placeHolder:"\u09a8\u09a4\u09c1\u09a8,\u09ab\u09cd\u09b0\u09c7\u09b6",name:"bnName",isError:l.bnName&&i.bnName||!o&&s.error.error.bnName,errorString:l.bnName&&i.bnName||!o&&s.error.error.bnName,onChange:function(e){a(e),u("bnName")}}),c.a.createElement(wt,{label:"Description",value:n.description,name:"description",placeholder:"This tag...",isError:l.description&&i.description||!o&&s.error.error.description,errorString:l.description&&i.description||!o&&s.error.error.description,onChange:function(e){a(e),u("description")}}),c.a.createElement(wt,{label:"BN Description",value:n.bnDescription,placeholder:"\u098f\u0987 \u099f\u09cd\u09af\u09be\u0997...",name:"bnDescription",isError:l.bnDescription&&i.bnDescription||!o&&s.error.error.bnDescription,errorString:l.bnDescription&&i.bnDescription||!o&&s.error.error.bnDescription,onChange:function(e){a(e),u("bnDescription")}}),c.a.createElement(C,{label:"Meta title",value:n.metaTitle,placeHolder:"...",name:"metaTitle",isError:l.metaTitle&&i.metaTitle||!o&&s.error.error.metaTitle,errorString:l.metaTitle&&i.metaTitle||!o&&s.error.error.metaTitle,onChange:function(e){a(e),u("metaTitle")}}),c.a.createElement(C,{label:"BN Meta title",value:n.bnMetaTitle,placeHolder:"...",name:"bnMetaTitle",isError:l.bnMetaTitle&&i.bnMetaTitle||!o&&s.error.error.bnMetaTitle,errorString:l.bnMetaTitle&&i.bnMetaTitle||!o&&s.error.error.bnMetaTitle,onChange:function(e){a(e),u("bnMetaTitle")}}),c.a.createElement(wt,{label:"Meta description",value:n.metaDescription,placeholder:"meta...",name:"metaDescription",isError:l.metaDescription&&i.metaDescription||!o&&s.error.error.metaDescription,errorString:l.metaDescription&&i.metaDescription||!o&&s.error.error.metaDescription,onChange:function(e){a(e),u("metaDescription")}}),c.a.createElement(wt,{label:"BN Meta Description",value:n.bnMetaDescription,placeholder:"\u098f\u0987\u09df \u09ae\u09c7\u099f...",name:"bnMetaDescription",isError:l.bnMetaDescription&&i.bnMetaDescription||!o&&s.error.error.bnMetaDescription,errorString:l.bnMetaDescription&&i.bnMetaDescription||!o&&s.error.error.bnMetaDescription,onChange:function(e){a(e),u("bnMetaDescription")}}),c.a.createElement("h3",{className:"inputFieldLabel"},"Meta Tags"),c.a.createElement(Wt,{setTags:w,tags:S}),c.a.createElement("div",{style:{marginTop:"15px"}}),c.a.createElement("h3",{className:"inputFieldLabel"},"BN Meta Tags"),c.a.createElement(Wt,{setTags:I,tags:D})),c.a.createElement(Vt,{setvisible:N,visible:j,setmyImages:E,myImages:h,isModalOpenForImages:!0}))}))},ur=(y.a().shape({name:y.c().label("Name").required("Name is required").min(3,"Name must have at least 3 characters")}),ot.a.Column),mr=(ot.a.ColumnGroup,O.a.Search),dr=function(e){var t=e.data,a=e.setTagList,n=e.roles,r=Object(o.useState)(!1),i=Object(g.a)(r,2),l=i[0],s=i[1],u=Object(o.useState)(!1),m=Object(g.a)(u,2),d=m[0],f=m[1],h=U({},"deleteTag"),E=Object(g.a)(h,2),v=(E[0],E[1]),y=Object(_e.g)(),O=function(){var e=Object(b.a)(p.a.mark((function e(n){var r,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v({urlOptions:{placeHolders:{id:n}}});case 2:(r=e.sent)&&"ok"===r.status&&(o="Deleted Tag",Me.a.success({message:o||"Tag Created",description:"",icon:c.a.createElement(De.a,{style:{color:"rgba(0, 128, 0, 0.493)"}})}),i=t.filter((function(e){return e.id!==n})),a(i));case 4:case"end":return e.stop()}var o}),e)})));return function(t){return e.apply(this,arguments)}}();return c.a.createElement(c.a.Fragment,null,c.a.createElement(ot.a,{size:"small",dataSource:t},c.a.createElement(ur,{title:"Name",dataIndex:"name",key:"id",className:"classnameofthecolumn",render:function(e,t){return c.a.createElement(c.a.Fragment,null,c.a.createElement("h4",{onClick:function(){y.push("/admin/tag/".concat(t.id)),f(t)},style:{fontWeight:400,color:"#555",cursor:"pointer"}},e))}}),c.a.createElement(ur,{title:"Description",dataIndex:"description",key:"id",className:"classnameofthecolumn"}),D("postCatalogue",n)&&c.a.createElement(ur,{className:"classnameofthecolumn",title:"",key:"action",align:"right",render:function(e,t){return c.a.createElement(dt.a,{size:"middle"},c.a.createElement("a",{href:"##"},c.a.createElement(pt.a,{placement:"top",title:"Edit Tag"},c.a.createElement("span",{className:"iconSize",onClick:function(){s(!0),f(t)}},c.a.createElement(gt.a,null)))),c.a.createElement(bt.a,{onConfirm:function(){return O(t.id)},title:"Are you sure\uff1f",okText:"Yes",cancelText:"No"},c.a.createElement("span",{className:"iconSize iconSize-danger"},c.a.createElement(ft.a,null))))}})),d&&c.a.createElement(ir,{tagList:t,setTagList:a,tagEditVisible:l,setTagEditVisible:s,tagDetailData:d}))},pr=Object(u.b)((function(e){return{roles:e.globalState}}),null)((function(e){var t=e.roles,a=Object(o.useState)([]),n=Object(g.a)(a,2),r=n[0],i=n[1],l=U({},"tagList"),s=Object(g.a)(l,2),u=s[0],m=s[1];Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m({urlOptions:{params:{sortItem:"added",sortOrderValue:"-1"}}});case 2:t=e.sent,i(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var d=U({},"addTag"),f=Object(g.a)(d,2),h=(f[0],f[1],Object(o.useState)(!1)),v=Object(g.a)(h,2),y=v[0],O=v[1];return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"categoryListContainer"},c.a.createElement("div",{className:"categoryListContainer__header"},c.a.createElement("div",{className:"categoryListContainer__header-searchBar-tag"},c.a.createElement("h2",{className:"categoryListContainer__header-title"},"Tags"),c.a.createElement(mr,{enterButton:!1,className:"searchbarClassName",placeholder:"search tags..",onChange:function(e){return function(e){if(u.data.length>0){var t=u.data.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())}));i(t)}}(e.target.value)}})),D("postCatalogue",t)&&c.a.createElement(E.a,{className:"btnPrimaryClassNameoutline",icon:c.a.createElement(ht.a,null),onClick:function(){return O(!0)}},"Add New")),c.a.createElement("div",{className:"categoryListContainer__categoryList"},u.done&&r.length>0&&c.a.createElement(dr,{roles:t,setTagList:i,data:r}),u.isLoading&&c.a.createElement(ta,null),u.done&&!(r.length>0)&&c.a.createElement("div",{style:{marginTop:"200px"}},c.a.createElement(we.a,{description:"No Tags found",image:we.a.PRESENTED_IMAGE_SIMPLE})))),c.a.createElement(sr,{tagList:r,setTagList:i,addNewCategoryVisible:y,setAddNewCategoryVisible:O}))})),br=y.a().shape({name:y.c().label("Name").required("Name is required").min(3,"Name must have at least 3 characters")}),gr=function(e){Me.a.success({message:e||"Something Went Wrong",description:"",icon:c.a.createElement(Ct.a,{style:{color:"rgb(241, 67, 67)"}})})},fr={name:"",bnName:"",description:"",bnDescription:"",metaTitle:"",bnMetaTitle:"",metaDescription:"",bnMetaDescription:"",metaTags:"",bnMetaTags:""},hr=function(e){var t=e.tagEditVisible,a=e.setTagEditVisible,n=e.tagDetailData,r=e.setTagDetailData,i=U({},"updateTag"),l=Object(g.a)(i,2),s=l[0],u=l[1],m=Object(o.useState)([]),d=Object(g.a)(m,2),h=d[0],E=d[1],y=Object(o.useState)([]),O=Object(g.a)(y,2),j=O[0],N=O[1],x=function(){var e=Object(b.a)(p.a.mark((function e(t,n){var i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u({urlOptions:{placeHolders:{id:t.id}},body:{name:t.name,description:t.description,metaTitle:t.metaTitle,metaDescription:t.metaDescription,metaTags:h.join(","),bn:{metaTitle:t.bnMetaTitle,metaDescription:t.bnMetaDescription,metaTags:j.join(","),name:t.bnName,description:t.bnDescription}}});case 2:(i=e.sent)&&"ok"===i.status?(r({id:t.id,key:t.id,name:t.name,description:t.description}),console.log("categoryupdateTagRes",i),o=void 0,Me.a.success({message:o||"Tag Updated",description:"",icon:c.a.createElement(De.a,{style:{color:"rgba(0, 128, 0, 0.493)"}})}),a(!1)):gr(),n.setSubmitting(!1);case 5:case"end":return e.stop()}var o}),e)})));return function(t,a){return e.apply(this,arguments)}}();Object(o.useEffect)((function(){if(!s.isLoading){var e=s.error;if(e.isError&&Object.keys(e.error).length>0)(Object.values(e.error).length>0?Object.values(e.error):[]).forEach((function(e,t){if("string"===typeof e)gr(e);else if("object"===typeof e){if(e&&Object.keys(e).length>0)Object.values(e).forEach((function(e){gr(e)}))}}))}}),[s]);var k=function(e){a(!1)};return console.log("tagDetailData",n),c.a.createElement(v.a,{onSubmit:function(e,t){return x(e,t)},validationSchema:br,validateOnBlur:!1,enableReinitialize:!0,initialValues:Object(f.a)({},fr,{},n,{},n&&Object.keys(n).length>0&&{bnMetaTitle:n.bn&&n.bn.metaTitle&&n.bn.metaTitle,bnMetaDescription:n.bn&&n.bn.metaDescription&&n.bn.metaDescription,bnName:n.bn&&n.bn.name&&n.bn.name,bnDescription:n.bn&&n.bn.description&&n.bn.description})},(function(e){var a=e.handleChange,n=e.values,r=e.handleSubmit,i=e.errors,o=(e.isValid,e.isSubmitting),l=e.touched,u=(e.handleBlur,e.setFieldTouched);e.handleReset;return c.a.createElement(c.a.Fragment,null,c.a.createElement(Ot.a,{style:{top:"40px"},title:"Tag Edit",visible:t,onOk:function(e){return r(e)},onCancel:k,okText:"Update",okButtonProps:{loading:o,htmlType:"submit"}},c.a.createElement(C,{label:"Name *",value:n.name,name:"name",placeHolder:"new,fresh",isError:l.name&&i.name||!o&&s.error.error.name,errorString:l.name&&i.name||!o&&s.error.error.name,onChange:function(e){a(e),u("name")}}),c.a.createElement(C,{label:"BN Name",value:n.bnName,placeHolder:"\u09a8\u09a4\u09c1\u09a8,\u09ab\u09cd\u09b0\u09c7\u09b6",name:"bnName",isError:l.bnName&&i.bnName||!o&&s.error.error.bnName,errorString:l.bnName&&i.bnName||!o&&s.error.error.bnName,onChange:function(e){a(e),u("bnName")}}),c.a.createElement(wt,{label:"Description",value:n.description,name:"description",placeholder:"This tag...",isError:l.description&&i.description||!o&&s.error.error.description,errorString:l.description&&i.description||!o&&s.error.error.description,onChange:function(e){a(e),u("description")}}),c.a.createElement(wt,{label:"BN Description",value:n.bnDescription,placeholder:"\u098f\u0987 \u099f\u09cd\u09af\u09be\u0997...",name:"bnDescription",isError:l.bnDescription&&i.bnDescription||!o&&s.error.error.bnDescription,errorString:l.bnDescription&&i.bnDescription||!o&&s.error.error.bnDescription,onChange:function(e){a(e),u("bnDescription")}}),c.a.createElement(C,{label:"Meta title",value:n.metaTitle,placeHolder:"...",name:"metaTitle",isError:l.metaTitle&&i.metaTitle||!o&&s.error.error.metaTitle,errorString:l.metaTitle&&i.metaTitle||!o&&s.error.error.metaTitle,onChange:function(e){a(e),u("metaTitle")}}),c.a.createElement(C,{label:"BN Meta title",value:n.bnMetaTitle,placeHolder:"...",name:"bnMetaTitle",isError:l.bnMetaTitle&&i.bnMetaTitle||!o&&s.error.error.bnMetaTitle,errorString:l.bnMetaTitle&&i.bnMetaTitle||!o&&s.error.error.bnMetaTitle,onChange:function(e){a(e),u("bnMetaTitle")}}),c.a.createElement(wt,{label:"Meta description",value:n.metaDescription,placeholder:"meta...",name:"metaDescription",isError:l.metaDescription&&i.metaDescription||!o&&s.error.error.metaDescription,errorString:l.metaDescription&&i.metaDescription||!o&&s.error.error.metaDescription,onChange:function(e){a(e),u("metaDescription")}}),c.a.createElement(wt,{label:"BN Meta Description",value:n.bnMetaDescription,placeholder:"\u098f\u0987\u09df \u09ae\u09c7\u099f...",name:"bnMetaDescription",isError:l.bnMetaDescription&&i.bnMetaDescription||!o&&s.error.error.bnMetaDescription,errorString:l.bnMetaDescription&&i.bnMetaDescription||!o&&s.error.error.bnMetaDescription,onChange:function(e){a(e),u("bnMetaDescription")}}),c.a.createElement("h3",{className:"inputFieldLabel"},"Meta Tags"),c.a.createElement(Wt,{setTags:E,tags:h}),c.a.createElement("div",{style:{marginTop:"15px"}}),c.a.createElement("h3",{className:"inputFieldLabel"},"BN Meta Tags"),c.a.createElement(Wt,{setTags:N,tags:j})))}))},Er=ot.a.Column,vr=(ot.a.ColumnGroup,O.a.Search,Object(u.b)((function(e){return{roles:e.globalState}}),null)((function(e){var t=e.roles,a=U({},"tagDetail"),n=Object(g.a)(a,2),r=n[0],i=n[1],l=U({},"tagProducts"),s=Object(g.a)(l,2),u=s[0],m=s[1],d=Object(o.useState)(!1),f=Object(g.a)(d,2),h=f[0],v=f[1],y=Object(o.useState)({}),O=Object(g.a)(y,2),j=O[0],C=O[1],N=Object(_e.h)(),x=Object(_e.g)(),k=N.id;return Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i({urlOptions:{placeHolders:{id:k}}});case 2:(t=e.sent)&&(console.log("tagDetailRes",t),C(t));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[k]),Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m({urlOptions:{placeHolders:{id:k}}});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[k]),console.log("tagProductsState",u),console.log("brandParams",N),c.a.createElement("div",{className:"brandDetailContainer"},c.a.createElement("div",{className:"brandDetailContainer__heading"},c.a.createElement("h3",null,"Tag Detail"),r.done&&j&&Object.keys(j).length>0&&c.a.createElement(c.a.Fragment,null,c.a.createElement(hr,{tagEditVisible:h,setTagEditVisible:v,tagDetailData:j,setTagDetailData:C}),D("postCatalogue",t)&&c.a.createElement(E.a,{onClick:function(){return v(!0)},type:"link",icon:c.a.createElement(gt.a,null)},"Edit"))),c.a.createElement(ma.a,{paragraph:{rows:2},loading:r.isLoading},r.done&&j&&!(Object.keys(j).length>0)&&c.a.createElement(we.a,{description:"No Tag found",image:we.a.PRESENTED_IMAGE_SIMPLE}),r.done&&j&&Object.keys(j).length>0&&c.a.createElement("div",{className:"brandDetailContainer__header"},c.a.createElement("div",{className:"brandDetailContainer__header-info"},c.a.createElement("h2",null,j.name),c.a.createElement("h3",null,j.description),j.url&&c.a.createElement("h3",null,"URL:",c.a.createElement("span",null,j.url))))),c.a.createElement("div",{className:"brandDetailContainer__heading"},c.a.createElement("h3",null,"Products")),c.a.createElement("div",{className:"brandDetailContainer__body"},u.isLoading&&c.a.createElement(ta,null),u.done&&!(u.data.length>0)&&c.a.createElement("div",{style:{marginTop:"100px"}},c.a.createElement(we.a,{description:"No Products exists for this tag",image:we.a.PRESENTED_IMAGE_SIMPLE})),u.done&&u.data&&u.data.length>0&&c.a.createElement(c.a.Fragment,null,c.a.createElement(ot.a,{style:{paddingTop:"10px",borderRadius:"5px !important",overflow:"hidden",boxShadow:"0 0.125rem 0.625rem rgba(227, 231, 250, 0.3), 0 0.0625rem 0.125rem rgba(206, 220, 233, 0.4)"},size:"small",dataSource:u.data,tableLayout:"auto",onHeaderRow:function(e){return{style:{color:"red !important"}}}},c.a.createElement(Er,{title:"",dataIndex:"cover",key:"id",width:"80px",className:"classnameofthecolumn",render:function(e,t){return c.a.createElement(c.a.Fragment,null,c.a.createElement("img",{onClick:function(){x.push("/admin/product/".concat(t.id))},src:e,alt:"cover img",style:{height:"40px",width:"40px",objectFit:"contain",borderRadius:"3px",cursor:"pointer"}}))}}),c.a.createElement(Er,{title:"Name",dataIndex:"name",key:"id",className:"classnameofthecolumn",render:function(e,t){return c.a.createElement(c.a.Fragment,null,c.a.createElement("h4",{onClick:function(){x.push("/admin/product/".concat(t.id))},style:{fontWeight:400,color:"#555",cursor:"pointer"}},e))}}),c.a.createElement(Er,{title:"Offer Price",dataIndex:"offerPrice",key:"id",className:"classnameofthecolumn"}),c.a.createElement(Er,{title:"Price",dataIndex:"price",key:"id",className:"classnameofthecolumn"}),c.a.createElement(Er,{title:"Available",dataIndex:"available",key:"id",className:"classnameofthecolumn"}),c.a.createElement(Er,{title:"Minimum",dataIndex:"minimum",key:"id",className:"classnameofthecolumn"})))))}))),yr=function(e){var t=e.setProductIds,a=e.productIds,n=Object(o.useState)([]),r=Object(g.a)(n,2),i=r[0],l=r[1],s=Object(o.useState)([]),u=Object(g.a)(s,2),m=u[0],d=u[1],f=U({},"productList"),h=Object(g.a)(f,2),E=h[0],v=h[1];Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v({urlOptions:{params:{limit:1e5,sortItem:"name",sortOrderValue:"1",productType:"product",pageNumber:1}}});case 2:t=e.sent,console.log({productListRes:t}),t&&t.data.length>0&&(a=t.data.map((function(e){return e.name})),l(a));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(o.useEffect)((function(){if(a&&a.length>0){console.log("shippingRunning");var e=a.map((function(e){return e.name}));d(e)}}),[a]),Object(o.useEffect)((function(){console.log({productState:E})}),[E]);return c.a.createElement(c.a.Fragment,null,c.a.createElement(ma.a,{loading:E.isLoading},console.log(E),E.done&&E.data&&E.data.data.length>0&&c.a.createElement(Ge.a,{mode:"multiple",placeholder:"search products",value:m,onChange:function(e){if(d(e),console.log({productState:E}),E.done&&E.data&&E.data.data.length>0&&e.length>0){var a=e.map((function(e){var t=E.data.data.find((function(t){return t.name.toLowerCase()===e.toLowerCase()}));if(t)return t}));t(a)}else t([])},style:{width:"100%"}},i.filter((function(e){return!m.includes(e)})).map((function(e){return c.a.createElement(Ge.a.Option,{key:e,value:e},e)}))),E.done&&E.data&&E.data.data&&!(E.data.data.length>0)&&c.a.createElement("div",{style:{marginLeft:"32px"}},c.a.createElement(Te,{title:"No Product Found",height:150}))))},Or=function(e){var t=e.setProductList,a=e.productList;return c.a.createElement("div",{style:{flexDirection:"flex"},className:"addOrderContainer__container-orderSummary"},c.a.createElement("div",{className:"addOrderContainer__container-productItemContainer"},a&&a.length>0&&a.map((function(e){return c.a.createElement(Ua,{setProductList:t,productList:a,productId:e._id,quantity:e.quantity,item:e,variation:e.variation})})),!(a.length>0)&&c.a.createElement("div",{style:{marginLeft:"32px"}},c.a.createElement(Te,{title:"No Product Added",height:150}))))},jr=ze.a.RangePicker,Cr=y.a().shape({name:y.c().label("Name").required("Name is required").min(3,"Name must have at least 3 characters")}),Nr=function(e){Me.a.error({message:e||"Something Went Wrong",description:"",icon:c.a.createElement(Ct.a,{style:{color:"rgb(241, 67, 67)"}})})},xr={name:"",code:"",minimumOrder:null,amount:"",amountType:"",orderedProducts:[],freeDelivery:!0,freeProducts:[]},kr=function(e){var t=e.addNewCategoryVisible,a=e.setAddNewCategoryVisible,n=e.category,r=e.setTagDetailData,i=U({},"updateCoupon"),l=Object(g.a)(i,2),s=l[0],u=l[1],m=U({},"couponDetail"),d=Object(g.a)(m,2),h=d[0],E=d[1],y=Object(o.useState)(!1),O=Object(g.a)(y,2),j=O[0],N=O[1],x=Object(o.useState)(!1),k=Object(g.a)(x,2),S=k[0],w=k[1],T=Object(o.useState)(""),D=Object(g.a)(T,2),I=D[0],L=D[1],P=Object(o.useState)([]),M=Object(g.a)(P,2),R=M[0],F=M[1],A=Object(o.useState)([]),B=Object(g.a)(A,2),V=B[0],G=B[1],z=Object(o.useState)([]),H=Object(g.a)(z,2),W=H[0],q=(H[1],Object(o.useState)([])),Y=Object(g.a)(q,2),K=Y[0],J=Y[1],Q=Object(o.useState)(""),X=Object(g.a)(Q,2),Z=X[0],$=X[1],ee=Object(o.useState)(""),te=Object(g.a)(ee,2),ae=te[0],ne=te[1];Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E({urlOptions:{placeHolders:{id:n.id}}});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[n]),Object(o.useEffect)((function(){if(h.data&&Object.keys(h.data).length>0){var e=h.data.image;e&&e.length>0&&N(e),h.data.cover&&h.data.cover.id&&(N([h.data.cover]),L(h.data.cover.id))}}),[h.data]),Object(o.useEffect)((function(){j&&j[0]&&j.length<2&&I!==j[0].id&&L(j[0].id)}),[j]);var re=function(){var e=Object(b.a)(p.a.mark((function e(t,i){var o,l,s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=j?j.map((function(e){return e.id})):[],l=V.length>0?V.map((function(e){return{_id:e._id,variation:e.variation,quantity:e.quantity}})):[],e.next=4,u({urlOptions:{placeHolders:{id:t.id}},body:{name:t.name.trim(),code:t.code,minimumOrder:t.minimumOrder,amount:t.amount,amountType:t.amountType,orderedProducts:l,cover:I||o[0]?o[0]:"",startDate:Z,endDate:ae}});case 4:(s=e.sent)&&"ok"===s.status?(m=void 0,Me.a.success({message:m||"Coupon Updated",description:"",icon:c.a.createElement(De.a,{style:{color:"rgba(0, 128, 0, 0.493)"}})}),a(!1),r(Object(f.a)({},n,{},s))):Nr(),i.setSubmitting(!1);case 7:case"end":return e.stop()}var m}),e)})));return function(t,a){return e.apply(this,arguments)}}(),ie=function(e){a(!1)},oe=function(e,t){return!e.name||!t};Object(o.useEffect)((function(){if(n&&Object.keys(n).length>0){var e=n.image;e&&e.length>0&&N(e),n.cover&&n.cover.id&&(N([n.cover]),L(n.cover.id))}}),[n]),Object(o.useEffect)((function(){if(!s.isLoading){var e=s.error;if(e.isError&&Object.keys(e.error).length>0)(Object.values(e.error).length>0?Object.values(e.error):[]).forEach((function(e,t){if("string"===typeof e)Nr(e);else if("object"===typeof e){if(e&&Object.keys(e).length>0)Object.values(e).forEach((function(e){Nr(e)}))}}))}}),[s]),Object(o.useEffect)((function(){if(h.done&&h.data&&Object.keys(h.data).length>0&&h.data.orderedProducts.length>0){var e=h.data.orderedProducts.map((function(e){return e}));F(e);var t=h.data.orderedProducts.map((function(e){return Object(f.a)({},e,{_id:e._id,variation:e.variation,quantity:e.quantity})}));G(t)}}),[h]),console.log("couponDetialQuickEdit",h),Object(o.useEffect)((function(){if(R.length>0){if(R.length>V.length){var e=R[R.length-1].pricing.length>0&&R[R.length-1].pricing[0]._id;console.log("variation",e),G([].concat(Object(fe.a)(V),[Object(f.a)({},R[R.length-1],{_id:R[R.length-1].id,variation:e,quantity:1})]))}else if(R.length<V.length){console.log("productIds",R),console.log("productList",V);var t=V.filter((function(e){var t=!1;return R.forEach((function(a){a.id===e._id&&(t=!0)})),t}));G(t)}}else G([])}),[R]),Object(o.useEffect)((function(){if(W.length>0){if(W.length>K.length){var e=W[W.length-1].pricing.length>0&&W[W.length-1].pricing[0]._id;console.log("variation",e),J([].concat(Object(fe.a)(K),[Object(f.a)({},W[W.length-1],{_id:W[W.length-1].id,variation:e,quantity:1})]))}else if(W.length<K.length){console.log("freeProductIds",W),console.log("productList",V);var t=K.filter((function(e){var t=!1;return W.forEach((function(a){a.id===e._id&&(t=!0)})),t}));J(t)}}else J([])}),[W]);Object(o.useEffect)((function(){if(n&&Object.keys(n).length>0){console.log("hsit");var e=n.startDate,t=n.endDate;e=e&&new Date(_()(e).format()),t=t&&new Date(_()(t).format()),console.log("CategorydateStart",e),console.log("CategorydateStart",t),$(e),ne(t)}}),[n]);var ce=function(e){var t=e[0]&&new Date(_()(e[0]).format()),a=e[1]&&new Date(_()(e[1]).format());$(t),ne(a)};return c.a.createElement(v.a,{onSubmit:function(e,t){return re(e,t)},validationSchema:Cr,validateOnBlur:!1,enableReinitialize:!0,initialValues:Object(f.a)({},xr,{},n)},(function(e){var a=e.handleChange,n=e.values,r=e.handleSubmit,i=e.errors,o=e.isValid,l=e.isSubmitting,u=e.touched,m=(e.handleBlur,e.setFieldTouched);e.handleReset;return c.a.createElement(c.a.Fragment,null,c.a.createElement(Ot.a,{width:"45vw",style:{top:"40px"},title:"Edit Coupon",visible:t,onOk:function(e){return r(e)},onCancel:ie,okText:"Update",okButtonProps:{loading:l,htmlType:"submit",disabled:oe(n,o)}},c.a.createElement("div",{className:"dubbleRowInputs"},c.a.createElement("div",{className:"dubbleRowInputs__item"},c.a.createElement(C,{label:"Name",value:n.name,name:"name",isError:u.name&&i.name||!l&&s.error.error.name,errorString:u.name&&i.name||!l&&s.error.error.name,onChange:function(e){a(e),m("name")}})),c.a.createElement("div",{className:"dubbleRowInputs__item"},c.a.createElement(C,{label:"Code",value:n.code,name:"code",isError:u.code&&i.code||!l&&s.error.error.code,errorString:u.code&&i.code||!l&&s.error.error.code,onChange:function(e){a(e),m("code")}}))),c.a.createElement(C,{label:"Minimum Order",value:n.minimumOrder,name:"minimumOrder",isError:u.minimumOrder&&i.minimumOrder||!l&&s.error.error.minimumOrder,errorString:u.minimumOrder&&i.minimumOrder||!l&&s.error.error.minimumOrder,onChange:function(e){a(e),m("minimumOrder")}}),c.a.createElement("div",{className:"dubbleRowInputs"},c.a.createElement("div",{className:"dubbleRowInputs__item"},c.a.createElement(C,{label:"Discount Amount",value:n.amount,name:"amount",isError:u.amount&&i.amount||!l&&s.error.error.amount,errorString:u.amount&&i.amount||!l&&s.error.error.amount,onChange:function(e){a(e),m("amount")}})),c.a.createElement("div",{className:"dubbleRowInputs__item"},c.a.createElement(C,{label:"Discount Amount Type",value:n.amountType,name:"amountType",isError:u.amountType&&i.amountType||!l&&s.error.error.amountType,errorString:u.amountType&&i.amountType||!l&&s.error.error.amountType,onChange:function(e){a(e),m("amountType")}}))),c.a.createElement("div",{style:{marginBottom:"15px"}},c.a.createElement("h3",{className:"inputFieldLabel"},"Start and end date"),c.a.createElement(jr,{style:{borderRadius:"8px",borderColor:"#eee",width:"100%"},value:[_()(Z,"YYYY-MM-DD").isValid()?_()(Z,"YYYY-MM-DD"):void 0,_()(ae,"YYYY-MM-DD").isValid()?_()(ae,"YYYY-MM-DD"):void 0],showTime:!0,onChange:ce,picker:"date"})),c.a.createElement("div",{className:"addproductSection-left-header",style:{marginBottom:"-5px"}},c.a.createElement("h3",{className:"inputFieldLabel"},"Cover")),c.a.createElement("div",{className:"aboutToUploadImagesContainer"},j&&j.length>0&&j.map((function(e,t){return c.a.createElement("div",{className:"aboutToUploadImagesContainer__item"},c.a.createElement("div",{className:"aboutToUploadImagesContainer__item-imgContainer",onClick:function(){w(!0)}},c.a.createElement("img",{src:e.cover,alt:e.alt})),c.a.createElement("span",{onClick:function(){return function(e){var t=j&&j.filter((function(t){return t.id!==e}));N(t)}(e.id)},className:"aboutToUploadImagesContainer__item-remove"},c.a.createElement(Nt.a,null)))})),j&&(!j||j&&j.length>0)?"":c.a.createElement(c.a.Fragment,null,c.a.createElement(pt.a,{title:"Attach images"},c.a.createElement("div",{onClick:function(){w(!0)},className:"aboutToUploadImagesContainer__uploadItem"},c.a.createElement(kt.a,null),c.a.createElement("span",{className:"aboutToUploadImagesContainer__uploadItem-plus"},c.a.createElement(ht.a,null)))))),c.a.createElement("h3",{className:"inputFieldLabel"},"Ordered Products"),c.a.createElement(yr,{setProductIds:F,productIds:R}),c.a.createElement("div",{style:{marginTop:"15px"}}),c.a.createElement("h3",{className:"inputFieldLabel"},"Selected Ordered Products"),c.a.createElement(Or,{productList:V,setProductList:G})),c.a.createElement(Vt,{setvisible:w,visible:S,setmyImages:N,myImages:j,isModalOpenForImages:!1}))}))},Sr=(ot.a.Column,ot.a.ColumnGroup,O.a.Search,function(e){var t=U({},"couponDetail"),a=Object(g.a)(t,2),n=a[0],r=a[1],i=U({},"tagProducts"),l=Object(g.a)(i,2),s=l[0],u=(l[1],Object(o.useState)(!1)),m=Object(g.a)(u,2),d=m[0],f=m[1],h=Object(o.useState)({}),v=Object(g.a)(h,2),y=v[0],O=v[1],j=Object(_e.h)(),C=(Object(_e.g)(),j.id);return Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r({urlOptions:{placeHolders:{id:C}}});case 2:(t=e.sent)&&O(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[C]),console.log("coupondetail",n),console.log("brandParams",j),c.a.createElement("div",{className:"brandDetailContainer"},c.a.createElement("div",{className:"brandDetailContainer__heading"},c.a.createElement("h3",null,"Coupon Detail"),n.done&&y&&Object.keys(y).length>0&&c.a.createElement(c.a.Fragment,null,c.a.createElement(kr,{addNewCategoryVisible:d,setAddNewCategoryVisible:f,category:y,setTagDetailData:O}),c.a.createElement(E.a,{onClick:function(){return f(!0)},type:"link",icon:c.a.createElement(gt.a,null)},"Edit"))),c.a.createElement(ma.a,{paragraph:{rows:2},loading:n.isLoading},n.done&&y&&!(Object.keys(y).length>0)&&c.a.createElement(we.a,{description:"No Coupon found",image:we.a.PRESENTED_IMAGE_SIMPLE}),n.done&&y&&Object.keys(y).length>0&&c.a.createElement("div",{className:"brandDetailContainer__header"},c.a.createElement("div",{className:"brandDetailContainer__header-coverContainer"},c.a.createElement("img",{src:y.cover&&y.cover.cover,alt:""})),c.a.createElement("div",{className:"brandDetailContainer__header-info"},c.a.createElement("h2",null,y.name),c.a.createElement("h3",null,y.description),y.code&&c.a.createElement("h3",null,"CODE:",c.a.createElement("span",null,y.code)),y.amount&&c.a.createElement("h3",null,"AMOUT:",c.a.createElement("span",null,y.amount)),y.startDate&&c.a.createElement("h3",null,"START DATE:",c.a.createElement("span",null,_()(y.startDate).format("MMMM Do YYYY, h:mm:ss a"))),y.endDate&&c.a.createElement("h3",null,"END DATE:",c.a.createElement("span",null,_()(y.endDate).format("MMMM Do YYYY, h:mm:ss a")))))),c.a.createElement("div",{className:"brandDetailContainer__heading"},c.a.createElement("h3",null,"Ordered Products")),c.a.createElement("div",{className:"brandDetailContainer__body"},s.isLoading&&c.a.createElement(ta,null),n.done&&y&&y.orderedProducts&&!(y.orderedProducts.length>0)&&c.a.createElement("div",{style:{marginTop:"100px"}},c.a.createElement(we.a,{description:"No Products exists for this coupon",image:we.a.PRESENTED_IMAGE_SIMPLE})),n.done&&y&&Object.keys(y).length>0&&c.a.createElement(c.a.Fragment,null,y.orderedProducts&&y.orderedProducts.length>0&&y.orderedProducts.map((function(e){return c.a.createElement($a,{productId:e._id})})))))}),wr=ze.a.RangePicker,Tr=y.a().shape({}),_r=function(e){Me.a.error({message:e||"Something Went Wrong",description:"",icon:c.a.createElement(Ct.a,{style:{color:"rgb(241, 67, 67)"}})})},Dr={name:"",code:"",minimumOrder:null,amount:"",amountType:"",orderedProducts:[],freeDelivery:!0,freeProducts:[]},Ir=function(e){var t=e.addNewCategoryVisible,a=e.setAddNewCategoryVisible,n=e.tagList,r=e.setTagList,i=e.category,l=U({},"updateCoupon"),s=Object(g.a)(l,2),u=s[0],m=s[1],d=U({},"couponDetail"),h=Object(g.a)(d,2),E=h[0],y=h[1],O=Object(o.useState)(!1),j=Object(g.a)(O,2),N=j[0],x=j[1],k=Object(o.useState)(!1),S=Object(g.a)(k,2),w=S[0],T=S[1],D=Object(o.useState)(""),I=Object(g.a)(D,2),L=I[0],P=I[1],M=Object(o.useState)([]),R=Object(g.a)(M,2),F=R[0],A=R[1],B=Object(o.useState)([]),V=Object(g.a)(B,2),G=V[0],z=V[1],H=Object(o.useState)([]),W=Object(g.a)(H,2),q=W[0],Y=(W[1],Object(o.useState)([])),K=Object(g.a)(Y,2),J=K[0],Q=K[1],X=Object(o.useState)(""),Z=Object(g.a)(X,2),$=Z[0],ee=Z[1],te=Object(o.useState)(""),ae=Object(g.a)(te,2),ne=ae[0],re=ae[1];Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y({urlOptions:{placeHolders:{id:i.id}}});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[i]),Object(o.useEffect)((function(){if(E.data&&Object.keys(E.data).length>0){var e=E.data.image;e&&e.length>0&&x(e),E.data.cover&&E.data.cover.id&&(x([E.data.cover]),P(E.data.cover.id))}}),[E.data]),Object(o.useEffect)((function(){N&&N[0]&&N.length<2&&L!==N[0].id&&P(N[0].id)}),[N]);var ie=function(){var e=Object(b.a)(p.a.mark((function e(t,i){var o,l,s,u,d,b,g;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=N?N.map((function(e){return e.id})):[],l=G.length>0?G.map((function(e){return{_id:e._id,variation:e.variation,quantity:e.quantity}})):[],e.next=4,m({urlOptions:{placeHolders:{id:t.id}},body:{name:t.name.trim(),code:t.code,minimumOrder:t.minimumOrder,amount:t.amount,amountType:t.amountType,orderedProducts:l,cover:L||o[0]?o[0]:"",startDate:$,endDate:ne}});case 4:(s=e.sent)&&"ok"===s.status?(d=function(e){if(!(e&&N&&N[0]))return"";if(N&&N.length>0){var t=N.find((function(t){return t.id===e}));if(t)return t.cover}},p=void 0,Me.a.success({message:p||"Coupon Updated",description:"",icon:c.a.createElement(De.a,{style:{color:"rgba(0, 128, 0, 0.493)"}})}),a(!1),u=function(){return n.map((function(e){return e.id})).indexOf(t.id)}(),b=Object.assign({},n[u],Object(f.a)({},s,{cover:d(L)})),g=[].concat(Object(fe.a)(n.slice(0,u)),[b],Object(fe.a)(n.slice(u+1))),r(g),z([]),A([]),ee(""),re(""),x(!1),P(""),T(!1),i.resetForm()):_r(),i.setSubmitting(!1);case 7:case"end":return e.stop()}var p}),e)})));return function(t,a){return e.apply(this,arguments)}}();console.log("4444444",N),console.log("4444444",L);var oe=function(e){a(!1),z([]),A([]),ee(""),re(""),x(!1),P(""),T(!1)};Object(o.useEffect)((function(){if(i&&Object.keys(i).length>0){var e=i.image;e&&e.length>0&&x(e),i.cover&&i.cover.id&&(x([i.cover]),P(i.cover.id))}}),[i]),Object(o.useEffect)((function(){if(i&&Object.keys(i).length>0){console.log("hsit");var e=i.startDate,t=i.endDate;e=e&&new Date(_()(e).format()),t=t&&new Date(_()(t).format()),console.log("CategorydateStart",e),console.log("CategorydateStart",t),ee(e),re(t)}}),[i]);var ce=function(e){var t=e[0]&&new Date(_()(e[0]).format()),a=e[1]&&new Date(_()(e[1]).format());ee(t),re(a)};Object(o.useEffect)((function(){if(!u.isLoading){var e=u.error;if(e.isError&&Object.keys(e.error).length>0)(Object.values(e.error).length>0?Object.values(e.error):[]).forEach((function(e,t){if("string"===typeof e)_r(e);else if("object"===typeof e){if(e&&Object.keys(e).length>0)Object.values(e).forEach((function(e){_r(e)}))}}))}}),[u]),Object(o.useEffect)((function(){if(E.done&&E.data&&Object.keys(E.data).length>0&&E.data.orderedProducts.length>0){var e=E.data.orderedProducts.map((function(e){return e}));A(e);var t=E.data.orderedProducts.map((function(e){return Object(f.a)({},e,{_id:e._id,variation:e.variation,quantity:e.quantity})}));z(t)}}),[E]),console.log("couponDetialQuickEdit",E),Object(o.useEffect)((function(){if(F.length>0){if(F.length>G.length){var e=F[F.length-1].pricing.length>0&&F[F.length-1].pricing[0]._id;console.log("variation",e),z([].concat(Object(fe.a)(G),[Object(f.a)({},F[F.length-1],{_id:F[F.length-1].id,variation:e,quantity:1})]))}else if(F.length<G.length){console.log("productIds",F),console.log("productList",G);var t=G.filter((function(e){var t=!1;return F.forEach((function(a){a.id===e._id&&(t=!0)})),t}));z(t)}}else z([])}),[F]),console.log("startDate--",$),console.log("endDate--",ne),Object(o.useEffect)((function(){if(q.length>0){if(q.length>J.length){var e=q[q.length-1].pricing.length>0&&q[q.length-1].pricing[0]._id;console.log("variation",e),Q([].concat(Object(fe.a)(J),[Object(f.a)({},q[q.length-1],{_id:q[q.length-1].id,variation:e,quantity:1})]))}else if(q.length<J.length){console.log("freeProductIds",q),console.log("productList",G);var t=J.filter((function(e){var t=!1;return q.forEach((function(a){a.id===e._id&&(t=!0)})),t}));Q(t)}}else Q([])}),[q]);return c.a.createElement(v.a,{onSubmit:function(e,t){return ie(e,t)},validationSchema:Tr,validateOnBlur:!1,enableReinitialize:!0,initialValues:Object(f.a)({},Dr,{},i)},(function(e){var a=e.handleChange,n=e.values,r=e.handleSubmit,i=e.errors,o=(e.isValid,e.isSubmitting),l=e.touched,s=(e.handleBlur,e.setFieldTouched);e.handleReset;return c.a.createElement(c.a.Fragment,null,c.a.createElement(Ot.a,{width:"45vw",style:{top:"40px"},title:"Edit Coupon",visible:t,onOk:function(e){return r(e)},onCancel:oe,okText:"Update",okButtonProps:{loading:o,htmlType:"submit"}},c.a.createElement("div",{className:"dubbleRowInputs"},c.a.createElement("div",{className:"dubbleRowInputs__item"},c.a.createElement(C,{label:"Name",value:n.name,name:"name",isError:l.name&&i.name||!o&&u.error.error.name,errorString:l.name&&i.name||!o&&u.error.error.name,onChange:function(e){a(e),s("name")}})),c.a.createElement("div",{className:"dubbleRowInputs__item"},c.a.createElement(C,{label:"Code",value:n.code,name:"code",isError:l.code&&i.code||!o&&u.error.error.code,errorString:l.code&&i.code||!o&&u.error.error.code,onChange:function(e){a(e),s("code")}}))),c.a.createElement(C,{label:"Minimum Order",value:n.minimumOrder,name:"minimumOrder",isError:l.minimumOrder&&i.minimumOrder||!o&&u.error.error.minimumOrder,errorString:l.minimumOrder&&i.minimumOrder||!o&&u.error.error.minimumOrder,onChange:function(e){a(e),s("minimumOrder")}}),c.a.createElement("div",{className:"dubbleRowInputs"},c.a.createElement("div",{className:"dubbleRowInputs__item"},c.a.createElement(C,{label:"Discount Amount",value:n.amount,name:"amount",isError:l.amount&&i.amount||!o&&u.error.error.amount,errorString:l.amount&&i.amount||!o&&u.error.error.amount,onChange:function(e){a(e),s("amount")}})),c.a.createElement("div",{className:"dubbleRowInputs__item"},c.a.createElement(C,{label:"Discount Amount Type",value:n.amountType,name:"amountType",isError:l.amountType&&i.amountType||!o&&u.error.error.amountType,errorString:l.amountType&&i.amountType||!o&&u.error.error.amountType,onChange:function(e){a(e),s("amountType")}}))),c.a.createElement("div",{style:{marginBottom:"15px"}},c.a.createElement("h3",{className:"inputFieldLabel"},"Start and end date"),c.a.createElement(wr,{style:{borderRadius:"8px",borderColor:"#eee",width:"100%"},value:[_()($,"YYYY-MM-DD").isValid()?_()($,"YYYY-MM-DD"):void 0,_()(ne,"YYYY-MM-DD").isValid()?_()(ne,"YYYY-MM-DD"):void 0],showTime:!0,onChange:ce,picker:"date"})),c.a.createElement("div",{className:"addproductSection-left-header",style:{marginBottom:"-5px"}},c.a.createElement("h3",{className:"inputFieldLabel"},"Cover")),c.a.createElement("div",{className:"aboutToUploadImagesContainer"},N&&N.length>0&&N.map((function(e,t){return c.a.createElement("div",{className:"aboutToUploadImagesContainer__item"},c.a.createElement("div",{className:"aboutToUploadImagesContainer__item-imgContainer",onClick:function(){T(!0)}},c.a.createElement("img",{src:e.cover,alt:e.alt})),c.a.createElement("span",{onClick:function(){return function(e){var t=N&&N.filter((function(t){return t.id!==e}));x(t)}(e.id)},className:"aboutToUploadImagesContainer__item-remove"},c.a.createElement(Nt.a,null)))})),N&&(!N||N&&N.length>0)?"":c.a.createElement(c.a.Fragment,null,c.a.createElement(pt.a,{title:"Attach images"},c.a.createElement("div",{onClick:function(){T(!0)},className:"aboutToUploadImagesContainer__uploadItem"},c.a.createElement(kt.a,null),c.a.createElement("span",{className:"aboutToUploadImagesContainer__uploadItem-plus"},c.a.createElement(ht.a,null)))))),c.a.createElement("h3",{className:"inputFieldLabel"},"Ordered Products"),c.a.createElement(yr,{setProductIds:A,productIds:F}),c.a.createElement("div",{style:{marginTop:"15px"}}),c.a.createElement("h3",{className:"inputFieldLabel"},"Selected Ordered Products"),c.a.createElement(Or,{productList:G,setProductList:z})),c.a.createElement(Vt,{setvisible:T,visible:w,setmyImages:x,myImages:N,isModalOpenForImages:!1}))}))},Lr=ze.a.RangePicker,Pr=y.a().shape({}),Mr=function(e){Me.a.error({message:e||"Something Went Wrong",description:"",icon:c.a.createElement(De.a,{style:{color:"rgb(241, 67, 67)"}})})},Rr={name:"",code:"",minimumOrder:null,amount:"",amountType:"",orderedProducts:[],freeDelivery:!0,freeProducts:[]},Fr=function(e){var t=e.addNewCategoryVisible,a=e.setAddNewCategoryVisible,n=e.tagList,r=e.setTagList,i=U({},"addCoupon"),l=Object(g.a)(i,2),s=l[0],u=l[1],m=Object(o.useState)(!1),d=Object(g.a)(m,2),h=d[0],E=d[1],y=Object(o.useState)(!1),O=Object(g.a)(y,2),j=O[0],N=O[1],x=Object(o.useState)(""),k=Object(g.a)(x,2),S=k[0],w=(k[1],Object(o.useState)([])),T=Object(g.a)(w,2),D=T[0],I=T[1],L=Object(o.useState)([]),P=Object(g.a)(L,2),M=P[0],R=P[1],F=Object(o.useState)([]),A=Object(g.a)(F,2),B=A[0],V=(A[1],Object(o.useState)([])),G=Object(g.a)(V,2),z=G[0],H=G[1],W=Object(o.useState)(""),q=Object(g.a)(W,2),Y=q[0],K=q[1],J=Object(o.useState)(""),Q=Object(g.a)(J,2),X=Q[0],Z=Q[1],$=function(){var e=Object(b.a)(p.a.mark((function e(t,i){var o,l,s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=h?h.map((function(e){return e.id})):[],l=M.length>0?M.map((function(e){return{_id:e._id,variation:e.variation,quantity:e.quantity}})):[],e.next=4,u({urlOptions:{placeHolders:{id:t.id}},body:{name:t.name.trim(),code:t.code,minimumOrder:t.minimumOrder,amount:t.amount,amountType:t.amountType,orderedProducts:l,cover:S||o[0]?o[0]:"",startDate:Y,endDate:X}});case 4:(s=e.sent)&&"ok"===s.status?(m=void 0,Me.a.success({message:m||"Coupon Created",description:"",icon:c.a.createElement(De.a,{style:{color:"rgba(0, 128, 0, 0.493)"}})}),a(!1),r([Object(f.a)({},s,{id:s._id||"",key:s._id||"",name:s.name||""})].concat(Object(fe.a)(n))),i.resetForm()):Mr(),i.setSubmitting(!1);case 7:case"end":return e.stop()}var m}),e)})));return function(t,a){return e.apply(this,arguments)}}(),ee=function(e){a(!1)};Object(o.useEffect)((function(){if(!s.isLoading){var e=s.error;if(e.isError&&Object.keys(e.error).length>0)(Object.values(e.error).length>0?Object.values(e.error):[]).forEach((function(e,t){if("string"===typeof e)Mr(e);else if("object"===typeof e){if(e&&Object.keys(e).length>0)Object.values(e).forEach((function(e){Mr(e)}))}}))}}),[s]),Object(o.useEffect)((function(){if(D.length>0){if(D.length>M.length){var e=D[D.length-1].pricing.length>0&&D[D.length-1].pricing[0]._id;console.log("variation",e),R([].concat(Object(fe.a)(M),[Object(f.a)({},D[D.length-1],{_id:D[D.length-1].id,variation:e,quantity:1})]))}else if(D.length<M.length){console.log("productIds",D),console.log("productList",M);var t=M.filter((function(e){var t=!1;return D.forEach((function(a){a.id===e._id&&(t=!0)})),t}));R(t)}}else R([])}),[D]),Object(o.useEffect)((function(){if(B.length>0){if(B.length>z.length){var e=B[B.length-1].pricing.length>0&&B[B.length-1].pricing[0]._id;console.log("variation",e),H([].concat(Object(fe.a)(z),[Object(f.a)({},B[B.length-1],{_id:B[B.length-1].id,variation:e,quantity:1})]))}else if(B.length<z.length){console.log("freeProductIds",B),console.log("productList",M);var t=z.filter((function(e){var t=!1;return B.forEach((function(a){a.id===e._id&&(t=!0)})),t}));H(t)}}else H([])}),[B]);var te=function(e){var t=new Date(_()(e[0]).format()),a=new Date(_()(e[1]).format());K(t),Z(a)};return c.a.createElement(v.a,{onSubmit:function(e,t){return $(e,t)},validationSchema:Pr,validateOnBlur:!1,enableReinitialize:!0,initialValues:Object(f.a)({},Rr)},(function(e){var a=e.handleChange,n=e.values,r=e.handleSubmit,i=e.errors,o=(e.isValid,e.isSubmitting),l=e.touched,u=(e.handleBlur,e.setFieldTouched);e.handleReset;return c.a.createElement(c.a.Fragment,null,c.a.createElement(Ot.a,{width:"45vw",style:{top:"40px"},title:"Add New Coupon",visible:t,onOk:function(e){return r(e)},onCancel:ee,okText:"Create",okButtonProps:{loading:o,htmlType:"submit"}},c.a.createElement("div",{className:"dubbleRowInputs"},c.a.createElement("div",{className:"dubbleRowInputs__item"},c.a.createElement(C,{label:"Name",value:n.name,name:"name",isError:l.name&&i.name||!o&&s.error.error.name,errorString:l.name&&i.name||!o&&s.error.error.name,onChange:function(e){a(e),u("name")}})),c.a.createElement("div",{className:"dubbleRowInputs__item"},c.a.createElement(C,{label:"Code",value:n.code,name:"code",isError:l.code&&i.code||!o&&s.error.error.code,errorString:l.code&&i.code||!o&&s.error.error.code,onChange:function(e){a(e),u("code")}}))),c.a.createElement(C,{label:"Minimum Order",value:n.minimumOrder,name:"minimumOrder",isError:l.minimumOrder&&i.minimumOrder||!o&&s.error.error.minimumOrder,errorString:l.minimumOrder&&i.minimumOrder||!o&&s.error.error.minimumOrder,onChange:function(e){a(e),u("minimumOrder")}}),c.a.createElement("div",{className:"dubbleRowInputs"},c.a.createElement("div",{className:"dubbleRowInputs__item"},c.a.createElement(C,{label:"Discount Amount",value:n.amount,name:"amount",isError:l.amount&&i.amount||!o&&s.error.error.amount,errorString:l.amount&&i.amount||!o&&s.error.error.amount,onChange:function(e){a(e),u("amount")}})),c.a.createElement("div",{className:"dubbleRowInputs__item"},c.a.createElement(C,{label:"Discount Amount Type",value:n.amountType,name:"amountType",isError:l.amountType&&i.amountType||!o&&s.error.error.amountType,errorString:l.amountType&&i.amountType||!o&&s.error.error.amountType,onChange:function(e){a(e),u("amountType")}}))),c.a.createElement("div",{style:{marginBottom:"15px"}},c.a.createElement("h3",{className:"inputFieldLabel"},"Start and end date"),c.a.createElement(Lr,{style:{borderRadius:"8px",borderColor:"#eee",width:"100%"},showTime:!0,onChange:te,picker:"date"})),c.a.createElement("div",{className:"addproductSection-left-header",style:{marginBottom:"-5px"}},c.a.createElement("h3",{className:"inputFieldLabel"},"Cover")),c.a.createElement("div",{className:"aboutToUploadImagesContainer"},h&&h.length>0&&h.map((function(e,t){return c.a.createElement("div",{className:"aboutToUploadImagesContainer__item"},c.a.createElement("div",{className:"aboutToUploadImagesContainer__item-imgContainer",onClick:function(){N(!0)}},c.a.createElement("img",{src:e.cover,alt:e.alt})),c.a.createElement("span",{onClick:function(){return function(e){var t=h&&h.filter((function(t){return t.id!==e}));E(t)}(e.id)},className:"aboutToUploadImagesContainer__item-remove"},c.a.createElement(Nt.a,null)))})),h&&(!h||h&&h.length>0)?"":c.a.createElement(c.a.Fragment,null,c.a.createElement(pt.a,{title:"Attach images"},c.a.createElement("div",{onClick:function(){N(!0)},className:"aboutToUploadImagesContainer__uploadItem"},c.a.createElement(kt.a,null),c.a.createElement("span",{className:"aboutToUploadImagesContainer__uploadItem-plus"},c.a.createElement(ht.a,null)))))),c.a.createElement("h3",{className:"inputFieldLabel"},"Ordered Products"),c.a.createElement(yr,{setProductIds:I,productIds:D}),c.a.createElement("div",{style:{marginTop:"15px"}}),c.a.createElement("h3",{className:"inputFieldLabel"},"Selected Ordered Products"),c.a.createElement(Or,{productList:M,setProductList:R})),c.a.createElement(Vt,{setvisible:N,visible:j,setmyImages:E,myImages:h,isModalOpenForImages:!1}))}))},Ar=(y.a().shape({name:y.c().label("Name").required("Name is required").min(3,"Name must have at least 3 characters")}),ot.a.Column),Br=(ot.a.ColumnGroup,O.a.Search),Vr=function(e){var t=e.data,a=e.setTagList,n=Object(o.useState)(!1),r=Object(g.a)(n,2),i=r[0],l=r[1],s=Object(o.useState)(!1),u=Object(g.a)(s,2),m=u[0],d=u[1],f=U({},"deleteCoupon"),h=Object(g.a)(f,2),E=(h[0],h[1]),v=Object(_e.g)(),y=function(){var e=Object(b.a)(p.a.mark((function e(n){var r,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E({urlOptions:{placeHolders:{id:n}}});case 2:(r=e.sent)&&"ok"===r.status&&(o="Deleted Coupon",Me.a.success({message:o||"Coupon Created",description:"",icon:c.a.createElement(De.a,{style:{color:"rgba(0, 128, 0, 0.493)"}})}),i=t.filter((function(e){return e.id!==n})),a(i));case 4:case"end":return e.stop()}var o}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(e){return e.cover?e.cover:""};return c.a.createElement(c.a.Fragment,null,c.a.createElement(ot.a,{size:"small",dataSource:t},c.a.createElement(Ar,{title:"",dataIndex:"cover",key:"id",width:"80px",className:"classnameofthecolumn",render:function(e,t){return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"listCoverImage",onClick:function(){v.push("/admin/coupon/".concat(t.id)),d(t)}},c.a.createElement("img",{src:O(t),alt:""})))}}),c.a.createElement(Ar,{title:"Name",dataIndex:"name",key:"id",className:"classnameofthecolumn",render:function(e,t){return c.a.createElement(c.a.Fragment,null,c.a.createElement("h4",{onClick:function(){v.push("/admin/coupon/".concat(t.id)),d(t)},style:{fontWeight:400,color:"#555",cursor:"pointer"}},e))}}),c.a.createElement(Ar,{title:"Code",dataIndex:"code",key:"id",className:"classnameofthecolumn"}),c.a.createElement(Ar,{title:"Discount",dataIndex:"amount",key:"id",className:"classnameofthecolumn"}),c.a.createElement(Ar,{title:"Order Products",dataIndex:"orderedProductsCount",key:"id",className:"classnameofthecolumn"}),c.a.createElement(Ar,{width:150,title:"Start Date",dataIndex:"startDate",key:"id",className:"classnameofthecolumn",render:function(e,t){return c.a.createElement(c.a.Fragment,null,c.a.createElement("h4",{style:{fontWeight:400,color:"#555",cursor:"pointer",fontSize:"13px"}},e&&_()(e).format("MMMM Do YYYY, h:mm a")))}}),c.a.createElement(Ar,{width:150,title:"End Date",dataIndex:"endDate",key:"id",className:"classnameofthecolumn",render:function(e,t){return c.a.createElement(c.a.Fragment,null,c.a.createElement("h4",{style:{fontWeight:400,color:"#555",cursor:"pointer"}},e&&_()(e).format("MMMM Do YYYY, h:mm a")))}}),c.a.createElement(Ar,{className:"classnameofthecolumn",title:"",key:"action",align:"right",render:function(e,t){return c.a.createElement(dt.a,{size:"middle"},c.a.createElement("a",{href:"##"},c.a.createElement(pt.a,{placement:"top",title:"Edit Coupon"},c.a.createElement("span",{className:"iconSize",onClick:function(){l(!0),d(t)}},c.a.createElement(gt.a,null)))),c.a.createElement(bt.a,{onConfirm:function(){return y(t.id)},title:"Are you sure\uff1f",okText:"Yes",cancelText:"No"},c.a.createElement("span",{className:"iconSize iconSize-danger"},c.a.createElement(ft.a,null))))}})),m&&c.a.createElement(Ir,{tagList:t,setTagList:a,setAddNewCategoryVisible:l,addNewCategoryVisible:i,category:m}))},Ur=function(e){Object(h.a)(e);var t=Object(o.useState)([]),a=Object(g.a)(t,2),n=a[0],r=a[1],i=U({},"couponList"),l=Object(g.a)(i,2),s=l[0],u=l[1];Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u({urlOptions:{params:{sortItem:"added",sortOrderValue:"-1"}}});case 2:t=e.sent,r(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),console.log("couponList",s);var m=Object(o.useState)(!1),d=Object(g.a)(m,2),f=d[0],v=d[1];return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"categoryListContainer"},c.a.createElement("div",{className:"categoryListContainer__header"},c.a.createElement("div",{className:"categoryListContainer__header-searchBar-tag"},c.a.createElement("h2",{className:"categoryListContainer__header-title"},"Coupons"),c.a.createElement(Br,{enterButton:!1,className:"searchbarClassName",placeholder:"search coupon..",onChange:function(e){return function(e){if(s.data.length>0){var t=s.data.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())}));r(t)}}(e.target.value)}})),c.a.createElement(E.a,{className:"btnPrimaryClassNameoutline",icon:c.a.createElement(ht.a,null),onClick:function(){return v(!0)}},"Add New")),c.a.createElement("div",{className:"categoryListContainer__categoryList"},s.done&&n.length>0&&c.a.createElement(Vr,{setTagList:r,data:n}),s.isLoading&&c.a.createElement(ta,null),s.done&&!(n.length>0)&&c.a.createElement("div",{style:{marginTop:"200px"}},c.a.createElement(we.a,{description:"No Coupon found",image:we.a.PRESENTED_IMAGE_SIMPLE})))),c.a.createElement(Fr,{tagList:n,setTagList:r,addNewCategoryVisible:f,setAddNewCategoryVisible:v}))},Gr=Ge.a.Option,zr=y.a().shape({}),Hr={phone:"",email:"",firstName:"",lastName:"",address1:"",address2:"",zipCode:"",password:"",dealerCode:""},Wr=function(e){Me.a.error({message:e||"Something Went Wrong",description:"",icon:c.a.createElement(Ct.a,{style:{color:"rgb(241, 67, 67)"}})})},qr=function(e){var t=e.addNewCategoryVisible,a=e.setAddNewCategoryVisible,n=e.customerList,r=e.setCustomerList,i=U({},"addCustomer"),l=Object(g.a)(i,2),s=l[0],u=l[1],m=Object(o.useState)(""),d=Object(g.a)(m,2),h=d[0],E=d[1],y=Object(o.useState)(""),O=Object(g.a)(y,2),N=O[0],x=O[1],k=Object(o.useState)([]),S=Object(g.a)(k,2),w=S[0],T=S[1],_=Object(o.useState)([]),D=Object(g.a)(_,2),I=D[0],L=D[1],P=U([],"countryList"),M=Object(g.a)(P,2),R=M[0],F=M[1],A=U([],"cityList"),B=Object(g.a)(A,2),V=B[0],G=B[1],z=Object(o.useState)(!1),H=Object(g.a)(z,2),W=H[0],q=(H[1],Object(o.useState)([])),Y=Object(g.a)(q,2),K=(Y[0],Y[1],Object(o.useState)([])),J=Object(g.a)(K,2),Q=(J[0],J[1],function(){var e=Object(b.a)(p.a.mark((function e(t,i){var o;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u({body:{phone:t.phone,email:t.email.trim(),password:t.password,address1:t.address1,address2:t.address2,firstName:t.firstName.trim(),lastName:t.lastName,country:h,city:N,dealerCode:t.dealerCode}});case 2:(o=e.sent)&&"ok"===o.status?(l=void 0,Me.a.success({message:l||"Customer Created!",description:"",icon:c.a.createElement(De.a,{style:{color:"rgba(0, 128, 0, 0.493)"}})}),r([Object(f.a)({id:o._id||"",key:o._id||"",name:o.firstName+" "+o.lastName},o)].concat(Object(fe.a)(n))),a(!1),i.resetForm()):Wr(),i.setSubmitting(!1);case 5:case"end":return e.stop()}var l}),e)})));return function(t,a){return e.apply(this,arguments)}}());Object(o.useEffect)((function(){if(!s.isLoading){var e=s.error;if(e.isError&&Object.keys(e.error).length>0)(Object.values(e.error).length>0?Object.values(e.error):[]).forEach((function(e,t){if("string"===typeof e)Wr(e);else if("object"===typeof e){if(e&&Object.keys(e).length>0)Object.values(e).forEach((function(e){Wr(e)}))}}))}}),[s]);var X=function(e){x(e)},Z=function(e){E(e)};Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F({});case 2:(t=e.sent)&&t.length>0&&(a=t.map((function(e){return{value:e.name,name:e.name}})),T(a));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G({urlOptions:{placeHolders:{country:h}}});case 2:(t=e.sent)&&t.length>0&&(a=t.map((function(e){return{value:e.name,name:e.name}})),L(a));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[h]);var $=function(e){a(!1)};return console.log("cityListState",V),c.a.createElement(v.a,{onSubmit:function(e,t){return Q(e,t)},validationSchema:zr,validateOnBlur:!1,enableReinitialize:!0,initialValues:Object(f.a)({},Hr)},(function(e){var a=e.handleChange,n=e.values,r=e.handleSubmit,i=e.errors,o=(e.isValid,e.isSubmitting),l=e.touched,u=(e.handleBlur,e.setFieldTouched);e.handleReset;return c.a.createElement(c.a.Fragment,null,c.a.createElement(Ot.a,{style:{top:"40px"},bodyStyle:{margin:"0",padding:"10px"},title:"Add New Customer",visible:t,onOk:function(e){return r(e)},onCancel:$,okText:"Create",okButtonProps:{loading:o,htmlType:"submit"}},c.a.createElement("div",{className:"dubbleRowInputs"},c.a.createElement("div",{className:"dubbleRowInputs__item"},c.a.createElement(C,{label:"First Name *",value:n.firstName,name:"firstName",isError:l.firstName&&i.firstName||!o&&s.error.error.firstName,errorString:l.firstName&&i.firstName||!o&&s.error.error.firstName,onChange:function(e){a(e),u("firstName")}})),c.a.createElement("div",{className:"dubbleRowInputs__item"},c.a.createElement(C,{label:"Last Name",value:n.lastName,name:"lastName",isError:l.lastName&&i.lastName||!o&&s.error.error.lastName,errorString:l.lastName&&i.lastName||!o&&s.error.error.lastName,onChange:function(e){a(e),u("lastName")}}))),c.a.createElement("div",{className:"dubbleRowInputs"},c.a.createElement("div",{className:"dubbleRowInputs__item"},c.a.createElement(C,{label:"Phone *",value:n.phone,name:"phone",isError:l.phone&&i.phone||!o&&s.error.error.phone,errorString:l.phone&&i.phone||!o&&s.error.error.phone,onChange:function(e){a(e),u("phone")}})),c.a.createElement("div",{className:"dubbleRowInputs__item"},c.a.createElement(C,{label:"Email",value:n.email,name:"email",isError:l.email&&i.email||!o&&s.error.error.email,errorString:l.email&&i.email||!o&&s.error.error.email,onChange:function(e){a(e),u("email")}}))),c.a.createElement("div",{className:"dubbleRowInputs",style:Object(f.a)({alignItems:"center"},!W&&{margin:"10px 0"})},c.a.createElement("div",{className:"dubbleRowInputs__item"},W&&c.a.createElement(C,{label:"Referral Code",value:n.dealerCode,name:"dealerCode",isError:l.dealerCode&&i.dealerCode||!o&&s.error.error.dealerCode,errorString:l.dealerCode&&i.dealerCode||!o&&s.error.error.dealerCode,onChange:function(e){a(e),u("dealerCode")}}))),c.a.createElement("div",{style:{marginRight:"10px"}},c.a.createElement(C,{label:"Password *",type:"password",value:n.password,name:"password",isError:l.password&&i.password||!o&&s.error.error.password,errorString:l.password&&i.password||!o&&s.error.error.password,onChange:function(e){a(e),u("password")}})),c.a.createElement("div",{className:"dubbleRowInputs"},c.a.createElement("div",{className:"dubbleRowInputs__item"},c.a.createElement("h3",{className:"inputFieldLabel"},"Country *"),c.a.createElement(j.a.Item,{validateStatus:s.error.error.country?"error":"",help:s.error.error.country},c.a.createElement(Ge.a,{notFoundContent:c.a.createElement(we.a,{description:"No Country Found",image:we.a.PRESENTED_IMAGE_SIMPLE}),showSearch:!0,style:{width:"100%"},placeholder:"Select a Country",optionFilterProp:"children",onChange:Z,filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0}},R.done&&R.data.length>0&&w.map((function(e){return c.a.createElement(Gr,{value:e.value},e.name)}))))),c.a.createElement("div",{className:"dubbleRowInputs__item"},c.a.createElement("h3",{className:"inputFieldLabel"},"City *"),c.a.createElement(j.a.Item,{validateStatus:s.error.error.city?"error":"",help:s.error.error.city},c.a.createElement(Ge.a,{className:"selectClassName",notFoundContent:c.a.createElement(we.a,{description:"First Select a Country",image:we.a.PRESENTED_IMAGE_SIMPLE}),showSearch:!0,style:{width:"100%"},placeholder:"Select a city",optionFilterProp:"children",onChange:X,filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0}},V.done&&V.data.length>0&&I.map((function(e){return c.a.createElement(Gr,{value:e.value},e.name)})))))),c.a.createElement("div",{style:{marginRight:"10px"}},c.a.createElement(C,{label:"Address *",value:n.address1,name:"address1",isError:l.address1&&i.address1||!o&&s.error.error.address1,errorString:l.address1&&i.address1||!o&&s.error.error.address1,onChange:function(e){a(e),u("address1")}}))))}))},Yr=Ge.a.Option,Kr=y.a().shape({}),Jr=function(e){Me.a.success({message:e||"Something Went Wrong",description:"",icon:c.a.createElement(Ct.a,{style:{color:"rgb(241, 67, 67)"}})})},Qr={phone:"",email:"",address1:"",firstName:"",lastName:"",dealerCode:""},Xr=function(e){var t=e.customer,a=e.setvisible,n=e.visible,r=e.customerList,i=e.setCustomerList,l=U({},"updateCustomer"),s=Object(g.a)(l,2),u=s[0],m=s[1],d=Object(o.useState)(""),h=Object(g.a)(d,2),E=h[0],y=h[1],O=Object(o.useState)(""),N=Object(g.a)(O,2),x=N[0],k=N[1],S=Object(o.useState)([]),w=Object(g.a)(S,2),T=w[0],_=w[1],D=Object(o.useState)([]),I=Object(g.a)(D,2),L=I[0],P=I[1],M=U([],"countryList"),R=Object(g.a)(M,2),F=R[0],A=R[1],B=U([],"cityList"),V=Object(g.a)(B,2),G=V[0],z=V[1],H=Object(o.useState)([]),W=Object(g.a)(H,2),q=(W[0],W[1],Object(o.useState)([])),Y=Object(g.a)(q,2),K=(Y[0],Y[1],function(){var e=Object(b.a)(p.a.mark((function e(n,o){var l,s,u,d;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m({urlOptions:{placeHolders:{id:n.id}},body:{phone:n.phone.trim(),email:n.email.trim(),password:n.password,address1:n.address1.trim(),firstName:n.firstName.trim(),lastName:n.lastName,country:E||t.country,city:x||t.city,dealerCode:n.dealerCode.trim()}});case 2:(l=e.sent)&&"ok"===l.status?(p=void 0,Me.a.success({message:p||"Customer Updated",description:"",icon:c.a.createElement(De.a,{style:{color:"rgba(0, 128, 0, 0.493)"}})}),s=function(){return r.map((function(e){return e.id})).indexOf(t.id)}(),u=Object.assign({},r[s],Object(f.a)({},l,{id:n.id,name:l.firstName+" "+l.lastName})),d=[].concat(Object(fe.a)(r.slice(0,s)),[u],Object(fe.a)(r.slice(s+1))),i(d),a(!1),k(""),y("")):Jr(),o.setSubmitting(!1);case 5:case"end":return e.stop()}var p}),e)})));return function(t,a){return e.apply(this,arguments)}}()),J=function(e){k(e)},Q=function(e){y(e)};Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A({});case 2:(t=e.sent)&&t.length>0&&(a=t.map((function(e){return{value:e.name,name:e.name}})),_(a));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[t]),Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z({urlOptions:{placeHolders:{country:E||t.country}}});case 2:(a=e.sent)&&a.length>0&&(n=a.map((function(e){return{value:e.name,name:e.name}})),P(n));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[t.country,E]),Object(o.useEffect)((function(){if(!u.isLoading){var e=u.error;if(e.isError&&Object.keys(e.error).length>0)e.error.registerError||e.error.checkoutError,(Object.values(e.error).length>0?Object.values(e.error):[]).forEach((function(e,t){if("string"===typeof e)Jr(e);else if("object"===typeof e){if(e&&Object.keys(e).length>0)Object.values(e).forEach((function(e){Jr(e)}))}}))}!u.isLoading&&Object.keys(u.data).length>0&&u.data.status}),[u]);var X=function(e){a(!1),k(""),y("")};return c.a.createElement(v.a,{onSubmit:function(e,t){return K(e,t)},validationSchema:Kr,validateOnBlur:!1,enableReinitialize:!0,initialValues:Object(f.a)({},Qr,{},t)},(function(e){var a=e.handleChange,r=e.values,i=e.handleSubmit,o=e.errors,l=(e.isValid,e.isSubmitting),s=e.touched,m=(e.handleBlur,e.setFieldTouched);e.handleReset;return c.a.createElement(c.a.Fragment,null,c.a.createElement(Ot.a,{style:{top:"40px"},title:"Customer Edit",visible:n,onOk:function(e){return i(e)},onCancel:X,destroyOnClose:!0,okText:"Update",okButtonProps:{loading:l,htmlType:"submit"},bodyStyle:{margin:"0",padding:"10px"}},c.a.createElement("div",{className:"dubbleRowInputs"},c.a.createElement("div",{className:"dubbleRowInputs__item"},c.a.createElement(C,{label:"First Name",value:r.firstName,name:"firstName",isError:s.firstName&&o.firstName||!l&&u.error.error.firstName,errorString:s.firstName&&o.firstName||!l&&u.error.error.firstName,onChange:function(e){a(e),m("firstName")}})),c.a.createElement("div",{className:"dubbleRowInputs__item"},c.a.createElement(C,{label:"Last Name",value:r.lastName,name:"lastName",isError:s.lastName&&o.lastName||!l&&u.error.error.lastName,errorString:s.lastName&&o.lastName||!l&&u.error.error.lastName,onChange:function(e){a(e),m("lastName")}}))),c.a.createElement("div",{className:"dubbleRowInputs"},c.a.createElement("div",{className:"dubbleRowInputs__item"},c.a.createElement(C,{label:"Phone",value:r.phone,name:"phone",isError:s.phone&&o.phone||!l&&u.error.error.phone,errorString:s.phone&&o.phone||!l&&u.error.error.phone,onChange:function(e){a(e),m("phone")}})),c.a.createElement("div",{className:"dubbleRowInputs__item"},c.a.createElement(C,{label:"Email",value:r.email,name:"email",isError:s.email&&o.email||!l&&u.error.error.email,errorString:s.email&&o.email||!l&&u.error.error.email,onChange:function(e){a(e),m("email")}}))),c.a.createElement("div",{className:"dubbleRowInputs"},c.a.createElement("div",{className:"dubbleRowInputs__item"},c.a.createElement("h3",{className:"inputFieldLabel"},"Country *"),c.a.createElement(j.a.Item,{validateStatus:u.error.error.country?"error":"",help:u.error.error.country},c.a.createElement(Ge.a,{notFoundContent:c.a.createElement(we.a,{description:"No Country Found",image:we.a.PRESENTED_IMAGE_SIMPLE}),showSearch:!0,style:{width:"100%"},defaultValue:t&&t.country,placeholder:"Select a Country",optionFilterProp:"children",onChange:Q,filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0}},F.done&&F.data.length>0&&T.map((function(e){return c.a.createElement(Yr,{value:e.value},e.name)}))))),c.a.createElement("div",{className:"dubbleRowInputs__item"},c.a.createElement("h3",{className:"inputFieldLabel"},"City *"),c.a.createElement(j.a.Item,{validateStatus:u.error.error.city?"error":"",help:u.error.error.city},c.a.createElement(Ge.a,{className:"selectClassName",notFoundContent:c.a.createElement(we.a,{description:"First Select a Country",image:we.a.PRESENTED_IMAGE_SIMPLE}),showSearch:!0,style:{width:"100%"},placeholder:"Select a city",defaultValue:t&&t.city,optionFilterProp:"children",onChange:J,filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0}},G.done&&G.data.length>0&&L.map((function(e){return c.a.createElement(Yr,{value:e.value},e.name)})))))),c.a.createElement("div",{style:{marginRight:"10px"}},c.a.createElement(C,{label:"Address *",value:r.address1,name:"address1",isError:s.address1&&o.address1||!l&&u.error.error.address1,errorString:s.address1&&o.address1||!l&&u.error.error.address1,onChange:function(e){a(e),m("address1")}}))))}))},Zr=ot.a.Column,$r=(ot.a.ColumnGroup,O.a.Search),ei=Ge.a.Option,ti=function(e){var t=e.data,a=e.setCustomerList,n=Object(o.useState)(!1),r=Object(g.a)(n,2),i=r[0],l=r[1],s=Object(o.useState)(!1),u=Object(g.a)(s,2),m=u[0],d=u[1],f=Object(_e.g)(),h=U({},"deleteCustomer"),E=Object(g.a)(h,2),v=(E[0],E[1]),y=function(){var e=Object(b.a)(p.a.mark((function e(n){var r,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v({urlOptions:{placeHolders:{id:n}}});case 2:(r=e.sent)&&"ok"===r.status&&(o="Deleted Customer",Me.a.success({message:o||"Tag Created",description:"",icon:c.a.createElement(De.a,{style:{color:"rgba(0, 128, 0, 0.493)"}})}),i=t.filter((function(e){return e.id!==n})),a(i));case 4:case"end":return e.stop()}var o}),e)})));return function(t){return e.apply(this,arguments)}}();return c.a.createElement(c.a.Fragment,null,c.a.createElement(ot.a,{size:"small",dataSource:t},c.a.createElement(Zr,{title:"Name",dataIndex:"name",key:"id",className:"classnameofthecolumn",render:function(e,t){return c.a.createElement(c.a.Fragment,null,c.a.createElement("h4",{onClick:function(){f.push("/admin/customer/".concat(t.id)),d(t)},style:{fontWeight:400,color:"#555",cursor:"pointer"}},e))}}),c.a.createElement(Zr,{title:"Phone",dataIndex:"phone",key:"id",className:"classnameofthecolumn"}),c.a.createElement(Zr,{title:"Dealer",dataIndex:"dealerName",key:"id",className:"classnameofthecolumn",render:function(e,t){return c.a.createElement(c.a.Fragment,null,c.a.createElement("h4",{onClick:function(){},style:{fontWeight:400,color:"#555",cursor:"pointer"}},e))}}),c.a.createElement(Zr,{title:"Order",dataIndex:"orderCount",key:"id",className:"classnameofthecolumn"}),c.a.createElement(Zr,{title:"Total Price",dataIndex:"totalOrderPrice",key:"id",className:"classnameofthecolumn"}),c.a.createElement(Zr,{width:150,title:"Created",dataIndex:"created",key:"id",className:"classnameofthecolumn",render:function(e,t){return c.a.createElement(dt.a,{size:"middle"},c.a.createElement("h5",null,e&&_()(e).format("MMMM Do YYYY, h:mm a")))}}),c.a.createElement(Zr,{className:"classnameofthecolumn",title:"",key:"action",align:"right",render:function(e,t){return c.a.createElement(dt.a,{size:"middle"},c.a.createElement("a",{href:"##"},c.a.createElement(pt.a,{placement:"top",title:"Edit Customer"},c.a.createElement("span",{className:"iconSize",onClick:function(){l(!0),d(t)}},c.a.createElement(gt.a,null)))),c.a.createElement(bt.a,{onConfirm:function(){return y(t.id)},title:"Are you sure\uff1f",okText:"Yes",cancelText:"No"},c.a.createElement("span",{className:"iconSize iconSize-danger"},c.a.createElement(ft.a,null))))}})),m&&c.a.createElement(Xr,{customerList:t,setCustomerList:a,setvisible:l,visible:i,customer:m}))},ai=Object(_e.i)((function(e){e.history;var t=Object(o.useState)([]),a=Object(g.a)(t,2),n=a[0],r=a[1],i=U({},"customerList"),l=Object(g.a)(i,2),s=l[0],u=l[1],m=Object(o.useState)(""),d=Object(g.a)(m,2),h=d[0],v=d[1];console.log("customerList",n),Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=function(){switch(h){case"newFirst":return{sortItem:"added",sortOrderValue:"-1"};case"orderCountHigh":return{sortItem:"orderCount",sortOrderValue:"-1"};case"orderCountLow":return{sortItem:"orderCount",sortOrderValue:"1"};case"totalPriceHigh":return{sortItem:"totalPrice",sortOrderValue:"-1"};case"totalPriceLow":return{sortItem:"totalPrice",sortOrderValue:"1"};default:return{sortItem:"added",sortOrderValue:"-1"}}},e.next=3,u({urlOptions:{params:Object(f.a)({},t(),{limitNumber:252423480})}});case 3:a=e.sent,r(a);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[h]);var y=Object(o.useState)(!1),O=Object(g.a)(y,2),j=O[0],C=O[1];return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"categoryListContainer"},c.a.createElement("div",{className:"categoryListContainer__header"},c.a.createElement("div",{className:"categoryListContainer__header-searchBar"},c.a.createElement("h2",{className:"categoryListContainer__header-title"},"Customers"),c.a.createElement($r,{enterButton:!1,className:"searchbarClassName",placeholder:"search customer..",onChange:function(e){return function(e){if(s.data.length>0){var t=s.data.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())}));r(t)}}(e.target.value)}})),c.a.createElement("div",null,c.a.createElement(Ge.a,{style:{borderRadius:"15px",color:"#3fa6f9",marginRight:"15px",width:"200px"},placeholder:"Select status",optionFilterProp:"children",onChange:function(e){v(e)},defaultValue:"newFirst",bordered:!1},[{name:"New first",value:"newFirst"},{name:"Order count (high > low)",value:"orderCountHigh"},{name:"Order count (low < high)",value:"orderCountLow"},{name:"Total price (high > low)",value:"totalPriceHigh"},{name:"Total price (low < high)",value:"totalPriceLow"}].map((function(e){return c.a.createElement(ei,{value:e.value},e.name)}))),c.a.createElement(E.a,{className:"btnPrimaryClassNameoutline",icon:c.a.createElement(ht.a,null),onClick:function(){return C(!0)}},"Add New"))),c.a.createElement("div",{className:"categoryListContainer__afterHeader"}),c.a.createElement("div",{className:"categoryListContainer__categoryList"},s.done&&n.length>0&&c.a.createElement(ti,{setCustomerList:r,data:n}),s.isLoading&&c.a.createElement(ta,null),s.done&&!(n.length>0)&&c.a.createElement(Te,{title:"No Customer found"}))),s.done&&c.a.createElement(qr,{setCustomerList:r,addNewCategoryVisible:j,setAddNewCategoryVisible:C,customerList:s.data}))})),ni=Ge.a.Option,ri=y.a().shape({}),ii=function(e){Me.a.success({message:e||"Something Went Wrong",description:"",icon:c.a.createElement(Ct.a,{style:{color:"rgb(241, 67, 67)"}})})},oi={phone:"",email:"",address1:"",firstName:"",lastName:"",dealerCode:""},ci=function(e){var t=e.customer,a=e.setvisible,n=e.visible,r=e.setCustomerDetailData,i=U({},"updateCustomer"),l=Object(g.a)(i,2),s=l[0],u=l[1],m=Object(o.useState)(""),d=Object(g.a)(m,2),h=d[0],E=d[1],y=Object(o.useState)(""),O=Object(g.a)(y,2),N=O[0],x=O[1],k=Object(o.useState)([]),S=Object(g.a)(k,2),w=S[0],T=S[1],_=Object(o.useState)([]),D=Object(g.a)(_,2),I=D[0],L=D[1],P=U([],"countryList"),M=Object(g.a)(P,2),R=M[0],F=M[1],A=U([],"cityList"),B=Object(g.a)(A,2),V=B[0],G=B[1],z=function(){var e=Object(b.a)(p.a.mark((function e(n,i){var o;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u({urlOptions:{placeHolders:{id:n.id}},body:{phone:n.phone.trim(),email:n.email.trim(),password:n.password,address1:n.address1.trim(),firstName:n.firstName.trim(),lastName:n.lastName,country:h||t.country,city:N||t.city,dealerCode:n.dealerCode.trim()}});case 2:(o=e.sent)&&"ok"===o.status?(l=void 0,Me.a.success({message:l||"Customer Updated",description:"",icon:c.a.createElement(De.a,{style:{color:"rgba(0, 128, 0, 0.493)"}})}),r(Object(f.a)({},o,{id:n.id,name:o.firstName+" "+o.lastName})),a(!1)):ii(),i.setSubmitting(!1);case 5:case"end":return e.stop()}var l}),e)})));return function(t,a){return e.apply(this,arguments)}}();Object(o.useEffect)((function(){if(!s.isLoading){var e=s.error;if(e.isError&&Object.keys(e.error).length>0)(Object.values(e.error).length>0?Object.values(e.error):[]).forEach((function(e,t){if("string"===typeof e)ii(e);else if("object"===typeof e){if(e&&Object.keys(e).length>0)Object.values(e).forEach((function(e){ii(e)}))}}))}}),[s]);var H=function(e){x(e)},W=function(e){E(e)};Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F({});case 2:(t=e.sent)&&t.length>0&&(a=t.map((function(e){return{value:e.name,name:e.name}})),T(a));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[t]),Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G({urlOptions:{placeHolders:{country:h||t.country}}});case 2:(a=e.sent)&&a.length>0&&(n=a.map((function(e){return{value:e.name,name:e.name}})),L(n));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[t.country,h]);var q=function(e){a(!1)};console.log("realCustomer",t);return c.a.createElement(v.a,{onSubmit:function(e,t){return z(e,t)},validationSchema:ri,validateOnBlur:!1,enableReinitialize:!0,initialValues:Object(f.a)({},oi,{},t)},(function(e){var a=e.handleChange,r=e.values,i=e.handleSubmit,o=e.errors,l=(e.isValid,e.isSubmitting),u=e.touched,m=(e.handleBlur,e.setFieldTouched);e.handleReset;return c.a.createElement(c.a.Fragment,null,c.a.createElement(Ot.a,{style:{top:"40px"},title:"Customer Edit",visible:n,onOk:function(e){return i(e)},onCancel:q,okText:"Update",okButtonProps:{loading:l,htmlType:"submit"},bodyStyle:{margin:"0",padding:"10px"}},c.a.createElement("div",{className:"dubbleRowInputs"},c.a.createElement("div",{className:"dubbleRowInputs__item"},c.a.createElement(C,{label:"First Name *",value:r.firstName,name:"firstName",isError:u.firstName&&o.firstName||!l&&s.error.error.firstName,errorString:u.firstName&&o.firstName||!l&&s.error.error.firstName,onChange:function(e){a(e),m("firstName")}})),c.a.createElement("div",{className:"dubbleRowInputs__item"},c.a.createElement(C,{label:"Last Name",value:r.lastName,name:"lastName",isError:u.lastName&&o.lastName||!l&&s.error.error.lastName,errorString:u.lastName&&o.lastName||!l&&s.error.error.lastName,onChange:function(e){a(e),m("lastName")}}))),c.a.createElement("div",{className:"dubbleRowInputs"},c.a.createElement("div",{className:"dubbleRowInputs__item"},c.a.createElement(C,{label:"Phone *",value:r.phone,name:"phone",isError:u.phone&&o.phone||!l&&s.error.error.phone,errorString:u.phone&&o.phone||!l&&s.error.error.phone,onChange:function(e){a(e),m("phone")}})),c.a.createElement("div",{className:"dubbleRowInputs__item"},c.a.createElement(C,{label:"Email",value:r.email,name:"email",isError:u.email&&o.email||!l&&s.error.error.email,errorString:u.email&&o.email||!l&&s.error.error.email,onChange:function(e){a(e),m("email")}}))),c.a.createElement("div",{className:"dubbleRowInputs"},c.a.createElement("div",{className:"dubbleRowInputs__item"},c.a.createElement("h3",{className:"inputFieldLabel"},"Country *"),c.a.createElement(j.a.Item,{validateStatus:s.error.error.country?"error":"",help:s.error.error.country},c.a.createElement(Ge.a,{notFoundContent:c.a.createElement(we.a,{description:"No Country Found",image:we.a.PRESENTED_IMAGE_SIMPLE}),showSearch:!0,style:{width:"100%"},defaultValue:t&&t.country,placeholder:"Select a Country",optionFilterProp:"children",onChange:W,filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0}},R.done&&R.data.length>0&&w.map((function(e){return c.a.createElement(ni,{value:e.value},e.name)}))))),c.a.createElement("div",{className:"dubbleRowInputs__item"},c.a.createElement("h3",{className:"inputFieldLabel"},"City *"),c.a.createElement(j.a.Item,{validateStatus:s.error.error.city?"error":"",help:s.error.error.city},c.a.createElement(Ge.a,{className:"selectClassName",notFoundContent:c.a.createElement(we.a,{description:"First Select a Country",image:we.a.PRESENTED_IMAGE_SIMPLE}),showSearch:!0,style:{width:"100%"},placeholder:"Select a city",defaultValue:t&&t.city,optionFilterProp:"children",onChange:H,filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0}},V.done&&V.data.length>0&&I.map((function(e){return c.a.createElement(ni,{value:e.value},e.name)})))))),c.a.createElement("div",{style:{marginRight:"10px"}},c.a.createElement(C,{label:"Address *",value:r.address1,name:"address1",isError:u.address1&&o.address1||!l&&s.error.error.address1,errorString:u.address1&&o.address1||!l&&s.error.error.address1,onChange:function(e){a(e),m("address1")}}))))}))},li=ot.a.Column,si=(ot.a.ColumnGroup,O.a.Search,function(e){var t=U({},"customerDetail"),a=Object(g.a)(t,2),n=a[0],r=a[1],i=U({},"orderListForCustomer"),l=Object(g.a)(i,2),s=l[0],u=l[1],m=Object(o.useState)(!1),d=Object(g.a)(m,2),f=d[0],h=d[1],v=Object(o.useState)({}),y=Object(g.a)(v,2),O=y[0],j=y[1];console.log("customerDetailData",O);var C=Object(_e.h)(),N=Object(_e.g)(),x=C.id;return Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r({urlOptions:{placeHolders:{id:x}}});case 2:(t=e.sent)&&j(t),console.log("customerDetailDataRes",t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[x]),Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u({urlOptions:{params:{customerId:x}}});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[x]),console.log("customerDetailData",O),c.a.createElement("div",{className:"brandDetailContainer"},c.a.createElement("div",{className:"brandDetailContainer__heading"},c.a.createElement("h3",null,"Customer Detail"),n.done&&O&&Object.keys(O).length>0&&c.a.createElement(c.a.Fragment,null,c.a.createElement(ci,{visible:f,setvisible:h,customer:O,setCustomerDetailData:j}),c.a.createElement(E.a,{onClick:function(){return h(!0)},type:"link",icon:c.a.createElement(gt.a,null)},"Edit"))),c.a.createElement(ma.a,{paragraph:{rows:2},loading:n.isLoading},n.done&&O&&!(Object.keys(O).length>0)&&c.a.createElement(we.a,{description:"No Customer found",image:we.a.PRESENTED_IMAGE_SIMPLE}),n.done&&O&&Object.keys(O).length>0&&c.a.createElement("div",{className:"brandDetailContainer__header"},c.a.createElement("div",{className:"brandDetailContainer__header-info"},c.a.createElement("h2",null,O.name),c.a.createElement("h3",null,O.description),O.country&&c.a.createElement("h3",null,"COUNTRY:",c.a.createElement("span",null,O.country)),O.city&&c.a.createElement("h3",null,"CITY:",c.a.createElement("span",null,O.city)),O.address1&&c.a.createElement("h3",null,"ADDRESS:",c.a.createElement("span",null,O.address1)),O.phone&&c.a.createElement("h3",null,"PHONE:",c.a.createElement("span",null,O.phone)),O.email&&c.a.createElement("h3",null,"EMAIL:",c.a.createElement("span",null,O.email))))),c.a.createElement("div",{className:"brandDetailContainer__heading"},c.a.createElement("h3",null,"Orders")),c.a.createElement("div",{className:"brandDetailContainer__body"},s.isLoading&&c.a.createElement(ta,null),s.done&&!(s.data.length>0)&&c.a.createElement("div",{style:{marginTop:"100px"}},c.a.createElement(we.a,{description:"No Orders exists for this Customer ",image:we.a.PRESENTED_IMAGE_SIMPLE})),s.done&&s.data&&s.data.length>0&&c.a.createElement(c.a.Fragment,null,c.a.createElement(ot.a,{style:{paddingTop:"10px",borderRadius:"5px !important",overflow:"hidden",boxShadow:"0 0.125rem 0.625rem rgba(227, 231, 250, 0.3), 0 0.0625rem 0.125rem rgba(206, 220, 233, 0.4)"},size:"small",dataSource:s.data,tableLayout:"auto",onHeaderRow:function(e){return{style:{color:"red !important"}}}},c.a.createElement(li,{title:"Code",dataIndex:"shortCode",key:"id",className:"classnameofthecolumn",render:function(e,t){return c.a.createElement(c.a.Fragment,null,c.a.createElement("h4",{onClick:function(){N.push("/admin/order/".concat(t.id))},style:{fontWeight:400,color:"#555",cursor:"pointer"}},"#",e))}}),c.a.createElement(li,{title:"Name",dataIndex:"name",key:"id",className:"classnameofthecolumn",render:function(e,t){return c.a.createElement(c.a.Fragment,null,c.a.createElement("h4",{onClick:function(){N.push("/admin/order/".concat(t.id))},style:{fontWeight:400,color:"#555",cursor:"pointer"}},e))}}),c.a.createElement(li,{title:"Delivery",dataIndex:"deliveryName",key:"id",className:"classnameofthecolumn"}),c.a.createElement(li,{title:"Created",dataIndex:"date_created",key:"id",className:"classnameofthecolumn",render:function(e,t){return c.a.createElement(c.a.Fragment,null,c.a.createElement("h4",{style:{fontWeight:400,color:"#555"}},e&&_()(e).format("MMMM Do YYYY, h:mm a")))}}),c.a.createElement(li,{title:"Total Price",dataIndex:"total",key:"id",className:"classnameofthecolumn"}),c.a.createElement(li,{width:150,title:"Status",dataIndex:"status",key:"id",className:"classnameofthecolumn",render:function(e,t){return c.a.createElement(c.a.Fragment,null,c.a.createElement("a",{href:"##"},c.a.createElement("span",{style:{fontSize:"12px"}},e)))}})))))}),ui=ot.a.Column,mi=O.a.Search,di=function(e){var t=e.data,a=e.setBrandList,n=e.roles,r=Object(o.useState)(!1),i=Object(g.a)(r,2),l=(i[0],i[1]),s=U({},"deletePage"),u=Object(g.a)(s,2),m=(u[0],u[1]),d=Object(_e.g)(),f=function(){var e=Object(b.a)(p.a.mark((function e(n){var r,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m({urlOptions:{placeHolders:{id:n}}});case 2:(r=e.sent)&&"ok"===r.status&&(o="Deleted Page",Me.a.success({message:o||"Page Created",description:"",icon:c.a.createElement(De.a,{style:{color:"rgba(0, 128, 0, 0.493)"}})}),i=t.filter((function(e){return e.id!==n})),a(i));case 4:case"end":return e.stop()}var o}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(e){return e.cover?e.cover:""};return c.a.createElement(c.a.Fragment,null,c.a.createElement(ot.a,{size:"small",dataSource:t},c.a.createElement(ui,{title:"",dataIndex:"cover",key:"id",width:"100px",className:"classnameofthecolumn",render:function(e,t){return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"listCoverImage",onClick:function(){d.push("/admin/page/".concat(t.id)),l(t)}},c.a.createElement("img",{src:h(t),alt:""})))}}),c.a.createElement(ui,{title:"Name",dataIndex:"name",key:"id",className:"classnameofthecolumn",render:function(e,t){return c.a.createElement(c.a.Fragment,null,c.a.createElement("h4",{onClick:function(){d.push("/admin/page/".concat(t.id))},style:{fontWeight:400,color:"#555",cursor:"pointer"}},e))}}),c.a.createElement(ui,{title:"Last Modified",dataIndex:"lastModified",key:"id",className:"classnameofthecolumn",render:function(e,t){return c.a.createElement(c.a.Fragment,null,c.a.createElement("h4",{style:{fontWeight:400,color:"#555"}},e&&_()(e).format("MMMM Do YYYY, h:mm a")))}}),c.a.createElement(ui,{title:"Created",dataIndex:"added",key:"id",className:"classnameofthecolumn",render:function(e,t){return c.a.createElement(c.a.Fragment,null,c.a.createElement("h4",{style:{fontWeight:400,color:"#555"}},e&&_()(e).format("MMMM Do YYYY, h:mm a")))}}),D("postPage",n)&&c.a.createElement(ui,{className:"classnameofthecolumn",title:"",key:"action",align:"right",render:function(e,t){return c.a.createElement(dt.a,{size:"middle"},c.a.createElement("a",{href:"##"},c.a.createElement(pt.a,{placement:"top",title:"Edit Page"},c.a.createElement("span",{className:"iconSize",onClick:function(){d.push("/admin/page/edit/".concat(t.id)),l(t)}},c.a.createElement(gt.a,null)))),c.a.createElement(bt.a,{onConfirm:function(){return f(t.id)},title:"Are you sure\uff1f",okText:"Yes",cancelText:"No"},c.a.createElement("span",{className:"iconSize iconSize-danger"},c.a.createElement(ft.a,null))))}})))},pi=Object(u.b)((function(e){return{roles:e.globalState}}),null)((function(e){var t=e.roles,a=Object(o.useState)([]),n=Object(g.a)(a,2),r=n[0],i=n[1],l=U({},"pageList"),s=Object(g.a)(l,2),u=s[0],m=s[1];console.log("myPageList",r);var d=Object(_e.g)();Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m({urlOptions:{params:{sortItem:"added",sortOrderValue:"-1"}}});case 2:t=e.sent,i(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"categoryListContainer"},c.a.createElement("div",{className:"categoryListContainer__header"},c.a.createElement("div",{className:"categoryListContainer__header-searchBar"},c.a.createElement("h2",{className:"categoryListContainer__header-title"},"Pages"),c.a.createElement(mi,{enterButton:!1,className:"searchbarClassName",placeholder:"search pages..",onSearch:function(e){return function(e){if(u.data.length>0){var t=u.data.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())}));i(t)}}(e)}})),D("postPage",t)&&c.a.createElement(E.a,{className:"btnPrimaryClassNameoutline",icon:c.a.createElement(ht.a,null),onClick:function(){return d.push("/admin/page/new")}},"Add New")),c.a.createElement("div",{className:"categoryListContainer__afterHeader"}),c.a.createElement("div",{className:"categoryListContainer__categoryList"},u.done&&r.length>0&&c.a.createElement(di,{roles:t,setBrandList:i,data:r}),u.isLoading&&c.a.createElement(ta,null),u.done&&!(r.length>0)&&c.a.createElement("div",{style:{marginTop:"200px"}},c.a.createElement(we.a,{description:"No Page found",image:we.a.PRESENTED_IMAGE_SIMPLE})))))})),bi=a(183),gi=a.n(bi),fi=(ot.a.Column,ot.a.ColumnGroup,O.a.Search,Object(u.b)((function(e){return{roles:e.globalState}}),null)((function(e){var t=e.roles,a=U({},"tagProducts"),n=Object(g.a)(a,2),r=n[0],i=n[1],l=Object(o.useState)(!1),s=Object(g.a)(l,2),u=(s[0],s[1],U({},"pageDetail")),m=Object(g.a)(u,2),d=m[0],f=m[1],h=Object(o.useState)({}),v=Object(g.a)(h,2),y=v[0],O=v[1],j=Object(_e.h)(),C=Object(_e.g)(),N=j.id;return Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f({urlOptions:{placeHolders:{id:N}}});case 2:(t=e.sent)&&(console.log("pageDetailRes",t),O(t));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[N]),Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i({urlOptions:{placeHolders:{id:N}}});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[N]),console.log("tagProductsState",r),console.log("brandParams",j),c.a.createElement("div",{className:"brandDetailContainer"},c.a.createElement("div",{className:"brandDetailContainer__heading"},c.a.createElement("h3",null,"Page Detail"),d.done&&y&&Object.keys(y).length>0&&c.a.createElement(c.a.Fragment,null,D("postPage",t)&&c.a.createElement(E.a,{onClick:function(){C.push("/admin/page/edit/".concat(y._id))},type:"link",icon:c.a.createElement(gt.a,null)},"Edit"))),c.a.createElement(ma.a,{paragraph:{rows:2},loading:d.isLoading},d.done&&y&&!(Object.keys(y).length>0)&&c.a.createElement(we.a,{description:"No Page found",image:we.a.PRESENTED_IMAGE_SIMPLE}),d.done&&y&&Object.keys(y).length>0&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"brandDetailContainer__header"},c.a.createElement("div",{className:"brandDetailContainer__header-coverContainer"},c.a.createElement("img",{src:y.cover&&y.cover.cover,alt:""})),c.a.createElement("div",{className:"brandDetailContainer__header-info"},c.a.createElement("h2",null,y.name),y.url&&c.a.createElement("h3",null,"URL:",c.a.createElement("span",null,y.url)),y.lastModified&&c.a.createElement("h3",null,"LAST MODIFIED:",c.a.createElement("span",null,y.lastModified&&_()(y.lastModified).format("MMMM Do YYYY, h:mm a"))),y.added&&c.a.createElement("h3",null,"CREATED:",c.a.createElement("span",null,y.added&&_()(y.added).format("MMMM Do YYYY, h:mm a"))))),c.a.createElement("div",{className:"brandDetailContainer__heading"},c.a.createElement("h3",null,"Content")),c.a.createElement("div",{className:"brandDetailContainer__header",style:{display:"block"}},gi()(y.content)))))}))),hi=a(896),Ei=(Ge.a.Option,hi.a.Step,function(e){Me.a.error({message:e||"Something Went Wrong",description:"",icon:c.a.createElement(Ct.a,{style:{color:"rgb(241, 67, 67)"}})})}),vi=y.a().shape({}),yi={name:"",bnName:"",content:"",bnContent:"",metaTitle:"",bnMetaTitle:"",metaDescription:"",bnMetaDescription:"",metaTags:"",bnMetaTags:"",url:""},Oi=function(e){Object(h.a)(e);var t=U({},"addPage"),a=Object(g.a)(t,2),n=a[0],r=a[1],i=Object(o.useState)("<p>Hello from the new page !</p>"),l=Object(g.a)(i,2),s=l[0],u=l[1],m=Object(o.useState)("<p>\u09b9\u09cd\u09af\u09be\u09b2\u09cb \u09a8\u09a4\u09c1\u09a8 \u09aa\u09c7\u099c \u09a5\u09c7\u0995\u09c7!</p>"),d=Object(g.a)(m,2),y=d[0],O=d[1],j=Object(o.useState)(!1),N=Object(g.a)(j,2),x=N[0],k=N[1],S=Object(o.useState)(!1),w=Object(g.a)(S,2),T=w[0],_=w[1],D=Object(o.useState)(""),I=Object(g.a)(D,2),L=(I[0],I[1]),P=Object(o.useState)([]),M=Object(g.a)(P,2),R=M[0],F=M[1],A=Object(o.useState)([]),B=Object(g.a)(A,2),V=B[0],G=B[1],z=function(){var e=Object(b.a)(p.a.mark((function e(t,a){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r({body:{name:t.name,content:s,url:t.url.trim(),cover:x?x[0]&&x[0].id:"",metaTitle:t.metaTitle,metaDescription:t.metaDescription,metaTags:R.join(","),bn:{metaTitle:t.bnMetaTitle,metaDescription:t.bnMetaDescription,metaTags:V.join(","),name:t.bnName.trim(),content:y}}});case 2:(n=e.sent)&&"ok"===n.status?(L(""),G([]),F([]),u(""),O(""),_(),k([]),a.resetForm()):Ei("Couldn't create page, Something went wrong"),a.setSubmitting(!1);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();return Object(o.useEffect)((function(){if(!n.isLoading){var e=n.error;if(e.isError&&Object.keys(e.error).length>0)e.error.registerError||e.error.checkoutError,(Object.values(e.error).length>0?Object.values(e.error):[]).forEach((function(e,t){if("string"===typeof e)Ei(e);else if("object"===typeof e){if(e&&Object.keys(e).length>0)Object.values(e).forEach((function(e){Ei(e)}))}}))}var t;!n.isLoading&&Object.keys(n.data).length>0&&"ok"===n.data.status&&(t="Page Created Successfully",Me.a.success({message:t||"Page Created",description:"",icon:c.a.createElement(De.a,{style:{color:"rgba(0, 128, 0, 0.493)"}})}))}),[n]),console.log("myImagesdx",x),c.a.createElement(v.a,{onSubmit:function(e,t){return z(e,t)},validationSchema:vi,validateOnBlur:!1,enableReinitialize:!0,initialValues:Object(f.a)({},yi)},(function(e){var t=e.handleChange,a=e.values,r=e.handleSubmit,i=e.errors,o=(e.isValid,e.isSubmitting),l=e.touched,m=(e.handleBlur,e.setFieldTouched);e.handleReset;return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"addNewPageContainer"},c.a.createElement("h3",{className:"addNewPageContainer__heading"},"Add New Page"),c.a.createElement("div",{className:"addNewPageContainer__header"},c.a.createElement("div",{className:"dubbleRowInputs"},c.a.createElement("div",{className:"dubbleRowInputs__item"},c.a.createElement(C,{label:"Title",value:a.name,name:"name",placeHolder:"About us,Contact us",isError:l.name&&i.name||!o&&n.error.error.name,errorString:l.name&&i.name||!o&&n.error.error.name,onChange:function(e){t(e),m("name")}})),c.a.createElement("div",{className:"dubbleRowInputs__item"},c.a.createElement(C,{label:"BN Title",value:a.bnName,placeHolder:"\u09ac\u09cd\u09b2\u0997...",name:"bnName",isError:l.bnName&&i.bnName||!o&&n.error.error.bnName,errorString:l.bnName&&i.bnName||!o&&n.error.error.bnName,onChange:function(e){t(e),m("bnName")}}))),c.a.createElement(C,{label:"Slug",value:a.url,name:"url",isError:l.url&&i.url||!o&&n.error.error.url,errorString:l.url&&i.url||!o&&n.error.error.url,onChange:function(e){t(e),m("url")}}),c.a.createElement("h3",{className:"inputFieldLabel"},"Thumbnail"),c.a.createElement("div",{className:"aboutToUploadImagesContainer"},x&&x.length>0&&x.map((function(e,t){return c.a.createElement("div",{className:"aboutToUploadImagesContainer__item"},c.a.createElement("div",{className:"aboutToUploadImagesContainer__item-imgContainer",onClick:function(){_(!0)}},c.a.createElement("img",{src:e.cover,alt:e.alt})),c.a.createElement("span",{onClick:function(){return function(e){var t=x&&x.filter((function(t){return t.id!==e}));k(t)}(e.id)},className:"aboutToUploadImagesContainer__item-remove"},c.a.createElement(Nt.a,null)))})),x?!x[0]&&c.a.createElement(pt.a,{title:"Attach images"},c.a.createElement("div",{onClick:function(){_(!0)},className:"aboutToUploadImagesContainer__uploadItem"},c.a.createElement(kt.a,null),c.a.createElement("span",{className:"aboutToUploadImagesContainer__uploadItem-plus"},c.a.createElement(ht.a,null)))):c.a.createElement(pt.a,{title:"Attach images"},c.a.createElement("div",{onClick:function(){_(!0)},className:"aboutToUploadImagesContainer__uploadItem"},c.a.createElement(kt.a,null),c.a.createElement("span",{className:"aboutToUploadImagesContainer__uploadItem-plus"},c.a.createElement(ht.a,null))))),c.a.createElement("p",{style:{color:"#ff4d4f",marginTop:"-15px"}},n.error.error.cover)),c.a.createElement("div",{className:"addNewPageContainer__body"},c.a.createElement("h3",{className:"inputFieldLabel"},"Content"),c.a.createElement(ja.a,{editor:Na.a,data:s,onInit:function(e){console.log("Editor is ready to use!",e)},onChange:function(e,t){var a=t.getData();u(a)},onBlur:function(e,t){console.log("Blur.",t)},onFocus:function(e,t){console.log("Focus.",t)}}),c.a.createElement("div",{style:{marginTop:"15px"}}),c.a.createElement("h3",{className:"inputFieldLabel"},"BN Content"),c.a.createElement(ja.a,{editor:Na.a,data:y,onInit:function(e){console.log("Editor is ready to use!",e)},onChange:function(e,t){var a=t.getData();O(a)},onBlur:function(e,t){console.log("Blur.",t)},onFocus:function(e,t){console.log("Focus.",t)}})),c.a.createElement("div",{style:{marginTop:"20px"}}),c.a.createElement("div",{className:"addNewPageContainer__header"},c.a.createElement("div",{className:"dubbleRowInputs"},c.a.createElement("div",{className:"dubbleRowInputs__item"},c.a.createElement(C,{label:"Meta Title",value:a.metaTitle,name:"metaTitle",isError:l.metaTitle&&i.metaTitle||!o&&n.error.error.metaTitle,errorString:l.metaTitle&&i.metaTitle||!o&&n.error.error.metaTitle,onChange:function(e){t(e),m("metaTitle")}})),c.a.createElement("div",{className:"dubbleRowInputs__item"},c.a.createElement(C,{label:"BN Meta Title",value:a.bnMetaTitle,placeHolder:"",name:"bnMetaTitle",isError:l.bnMetaTitle&&i.bnMetaTitle||!o&&n.error.error.bnMetaTitle,errorString:l.bnMetaTitle&&i.bnMetaTitle||!o&&n.error.error.bnMetaTitle,onChange:function(e){t(e),m("bnMetaTitle")}}))),c.a.createElement("div",{className:"dubbleRowInputs"},c.a.createElement("div",{className:"dubbleRowInputs__item"},c.a.createElement(wt,{label:"Meta description",value:a.metaDescription,placeholder:"meta...",name:"metaDescription",isError:l.metaDescription&&i.metaDescription||!o&&n.error.error.metaDescription,errorString:l.metaDescription&&i.metaDescription||!o&&n.error.error.metaDescription,onChange:function(e){t(e),m("metaDescription")}})),c.a.createElement("div",{className:"dubbleRowInputs__item"},c.a.createElement(wt,{label:"BN Meta Description",value:a.bnMetaDescription,placeholder:"\u098f\u0987\u09df \u09ae\u09c7\u099f...",name:"bnMetaDescription",isError:l.bnMetaDescription&&i.bnMetaDescription||!o&&n.error.error.bnMetaDescription,errorString:l.bnMetaDescription&&i.bnMetaDescription||!o&&n.error.error.bnMetaDescription,onChange:function(e){t(e),m("bnMetaDescription")}}))),c.a.createElement("div",{className:"dubbleRowInputs"},c.a.createElement("div",{className:"dubbleRowInputs__item"},c.a.createElement("h3",{className:"inputFieldLabel"},"Meta Tags"),c.a.createElement(Wt,{setTags:F,tags:R})),c.a.createElement("div",{className:"dubbleRowInputs__item"},c.a.createElement("h3",{className:"inputFieldLabel"},"BN Meta Tags"),c.a.createElement(Wt,{setTags:G,tags:V})))),c.a.createElement("div",{style:{marginTop:"20px"}}),c.a.createElement(E.a,{loading:n.isLoading,onClick:function(e){return r(e)},className:"btnPrimaryClassNameoutline"},"Create page")),c.a.createElement(Vt,{setvisible:_,visible:T,setmyImages:k,myImages:x,isModalOpenForImages:!0}))}))},ji=(Ge.a.Option,hi.a.Step,function(e){Me.a.success({message:e||"Page Updated",description:"",icon:c.a.createElement(De.a,{style:{color:"rgba(0, 128, 0, 0.493)"}})})}),Ci=function(e){Me.a.error({message:e||"Something Went Wrong",description:"",icon:c.a.createElement(Ct.a,{style:{color:"rgb(241, 67, 67)"}})})},Ni=y.a().shape({}),xi={name:"",bnName:"",content:"",bnContent:"",metaTitle:"",bnMetaTitle:"",metaDescription:"",bnMetaDescription:"",metaTags:"",bnMetaTags:"",url:""},ki=function(e){Object(h.a)(e);var t=U({},"updatePage"),a=Object(g.a)(t,2),n=a[0],r=a[1],i=Object(o.useState)(""),l=Object(g.a)(i,2),s=l[0],u=l[1],m=Object(o.useState)(""),d=Object(g.a)(m,2),y=d[0],O=d[1],j=Object(o.useState)(!1),N=Object(g.a)(j,2),x=N[0],k=N[1],S=Object(o.useState)(!1),w=Object(g.a)(S,2),T=w[0],_=w[1],D=Object(o.useState)(""),I=Object(g.a)(D,2),L=I[0],P=I[1],M=Object(o.useState)([]),R=Object(g.a)(M,2),F=R[0],A=R[1],B=Object(o.useState)([]),V=Object(g.a)(B,2),G=V[0],z=V[1],H=U({},"pageDetail"),W=Object(g.a)(H,2),q=(W[0],W[1]),Y=Object(o.useState)({}),K=Object(g.a)(Y,2),J=K[0],Q=K[1],X=U({},"setImageAsThumbnailToItem"),Z=Object(g.a)(X,2),$=(Z[0],Z[1]),ee=U({},"detachImageFromItemSingle"),te=Object(g.a)(ee,2),ae=(te[0],te[1]),ne=Object(_e.h)().id;Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q({urlOptions:{placeHolders:{id:ne}}});case 2:(t=e.sent)&&(console.log("tagDetailRes",t),Q(t));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[ne]),Object(o.useEffect)((function(){J&&Object.keys(J).length>0&&J.cover&&J.cover.id&&(k([J.cover]),P(J.cover.id))}),[J]),Object(o.useEffect)((function(){J&&Object.keys(J).length>0&&(u(J.content||""),O(J.bn&&J.bn.content?J.bn.content:""))}),[J]);var re=function(){var e=Object(b.a)(p.a.mark((function e(t,a){var n,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.url.trim()?t.url.replace("/page/",""):"",e.next=3,r({urlOptions:{placeHolders:{id:J._id}},body:{name:t.name.trim(),content:s,url:n,cover:x?x[0]&&x[0].id:"",metaTitle:t.metaTitle,metaDescription:t.metaDescription,metaTags:F&&F.length>0?F.join(","):"",bn:{metaTitle:t.bnMetaTitle,metaDescription:t.bnMetaDescription,metaTags:G&&G.length>0?G.join(","):"",name:t.bnName.trim(),content:y}}});case 3:(i=e.sent)&&"ok"===i.status||Ci("Couldn't Update page, Something went wrong"),a.setSubmitting(!1);case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),ie=function(){var e=Object(b.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$({urlOptions:{placeHolders:{imageId:t.id,collection:"page",itemId:J.id}}});case 2:(a=e.sent)&&"ok"===a.status?ji("Set as thumbnail!"):Ci("Couldn't set as thumbnail, Something went wrong");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(o.useEffect)((function(){x&&x[0]&&x.length<2&&L!==x[0].id&&(P(x[0].id),ie(x[0]))}),[x]),Object(o.useEffect)((function(){if(!n.isLoading){var e=n.error;if(e.isError&&Object.keys(e.error).length>0)e.error.registerError||e.error.checkoutError,(Object.values(e.error).length>0?Object.values(e.error):[]).forEach((function(e,t){if("string"===typeof e)Ci(e);else if("object"===typeof e){if(e&&Object.keys(e).length>0)Object.values(e).forEach((function(e){Ci(e)}))}}))}!n.isLoading&&Object.keys(n.data).length>0&&"ok"===n.data.status&&ji("Page Updated Successfully")}),[n]),Object(o.useEffect)((function(){if(J&&Object.keys(J).length>0){var e=J.metaTags&&J.metaTags.split(",");console.log("localMetaTags",e);var t=J.bn&&J.bn.metaTags&&J.bn.metaTags.split(",");A(e||[]),z(t||[])}}),[]);var oe=function(){var e=Object(b.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("dure",t),console.log("dure2",J),e.next=4,ae({urlOptions:{placeHolders:{imageId:t,collection:"page",itemId:J.id}}});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return c.a.createElement(v.a,{onSubmit:function(e,t){return re(e,t)},validationSchema:Ni,validateOnBlur:!1,enableReinitialize:!0,initialValues:Object(f.a)({},xi,{},J,{},J&&Object.keys(J).length>0&&{bnMetaTitle:J.bn&&J.bn.metaTitle&&J.bn.metaTitle,bnMetaDescription:J.bn&&J.bn.metaDescription&&J.bn.metaDescription,bnName:J.bn&&J.bn.name&&J.bn.name,bnDescription:J.bn&&J.bn.description&&J.bn.description})},(function(e){var t=e.handleChange,a=e.values,r=e.handleSubmit,i=e.errors,o=(e.isValid,e.isSubmitting),l=e.touched,m=(e.handleBlur,e.setFieldTouched);e.handleReset;return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"addNewPageContainer"},c.a.createElement("h3",{className:"addNewPageContainer__heading"},"Edit Page"),c.a.createElement("div",{className:"addNewPageContainer__header"},c.a.createElement("div",{className:"dubbleRowInputs"},c.a.createElement("div",{className:"dubbleRowInputs__item"},c.a.createElement(C,{label:"Title",value:a.name,name:"name",placeHolder:"About us,Contact us",isError:l.name&&i.name||!o&&n.error.error.name,errorString:l.name&&i.name||!o&&n.error.error.name,onChange:function(e){t(e),m("name")}})),c.a.createElement("div",{className:"dubbleRowInputs__item"},c.a.createElement(C,{label:"BN Title",value:a.bnName,placeHolder:"\u09ac\u09cd\u09b2\u0997...",name:"bnName",isError:l.bnName&&i.bnName||!o&&n.error.error.bnName,errorString:l.bnName&&i.bnName||!o&&n.error.error.bnName,onChange:function(e){t(e),m("bnName")}}))),c.a.createElement(C,{label:"Slug",value:a.url,name:"url",isError:l.url&&i.url||!o&&n.error.error.url,errorString:l.url&&i.url||!o&&n.error.error.url,onChange:function(e){t(e),m("url")}}),c.a.createElement("h3",{className:"inputFieldLabel"},"Thumbnail"),c.a.createElement("div",{className:"aboutToUploadImagesContainer"},J&&Object.keys(J).length>0&&c.a.createElement(c.a.Fragment,null,x&&x.length>0&&x.map((function(e,t){return c.a.createElement("div",{className:"aboutToUploadImagesContainer__item"},c.a.createElement("div",{className:"aboutToUploadImagesContainer__item-imgContainer",onClick:function(){_(!0)}},c.a.createElement("img",{src:e.cover,alt:e.alt})),c.a.createElement("span",{onClick:function(){!function(e){var t=x&&x.filter((function(t){return t.id!==e}));k(t)}(e.id),oe(e.id)},className:"aboutToUploadImagesContainer__item-remove"},c.a.createElement(Nt.a,null)))})),x&&(!x||x&&x.length>0)?"":c.a.createElement(c.a.Fragment,null,c.a.createElement(pt.a,{title:"Attach images"},c.a.createElement("div",{onClick:function(){_(!0)},className:"aboutToUploadImagesContainer__uploadItem"},c.a.createElement(kt.a,null),c.a.createElement("span",{className:"aboutToUploadImagesContainer__uploadItem-plus"},c.a.createElement(ht.a,null))))))),c.a.createElement("p",{style:{color:"#ff4d4f",marginTop:"-15px"}},n.error.error.cover)),c.a.createElement("div",{className:"addNewPageContainer__body"},c.a.createElement("h3",{className:"inputFieldLabel"},"Content"),c.a.createElement(ja.a,{editor:Na.a,data:s,onInit:function(e){console.log("Editor is ready to use!",e)},onChange:function(e,t){var a=t.getData();u(a)},onBlur:function(e,t){console.log("Blur.",t)},onFocus:function(e,t){console.log("Focus.",t)}}),c.a.createElement("div",{style:{marginTop:"15px"}}),c.a.createElement("h3",{className:"inputFieldLabel"},"BN Content"),c.a.createElement(ja.a,{editor:Na.a,data:y,onInit:function(e){console.log("Editor is ready to use!",e)},onChange:function(e,t){var a=t.getData();O(a)},onBlur:function(e,t){console.log("Blur.",t)},onFocus:function(e,t){console.log("Focus.",t)}})),c.a.createElement("div",{style:{marginTop:"20px"}}),c.a.createElement("div",{className:"addNewPageContainer__header"},c.a.createElement("div",{className:"dubbleRowInputs"},c.a.createElement("div",{className:"dubbleRowInputs__item"},c.a.createElement(C,{label:"Meta Title",value:a.metaTitle,name:"metaTitle",isError:l.metaTitle&&i.metaTitle||!o&&n.error.error.metaTitle,errorString:l.metaTitle&&i.metaTitle||!o&&n.error.error.metaTitle,onChange:function(e){t(e),m("metaTitle")}})),c.a.createElement("div",{className:"dubbleRowInputs__item"},c.a.createElement(C,{label:"BN Meta Title",value:a.bnMetaTitle,placeHolder:"",name:"bnMetaTitle",isError:l.bnMetaTitle&&i.bnMetaTitle||!o&&n.error.error.bnMetaTitle,errorString:l.bnMetaTitle&&i.bnMetaTitle||!o&&n.error.error.bnMetaTitle,onChange:function(e){t(e),m("bnMetaTitle")}}))),c.a.createElement("div",{className:"dubbleRowInputs"},c.a.createElement("div",{className:"dubbleRowInputs__item"},c.a.createElement(wt,{label:"Meta description",value:a.metaDescription,placeholder:"meta...",name:"metaDescription",isError:l.metaDescription&&i.metaDescription||!o&&n.error.error.metaDescription,errorString:l.metaDescription&&i.metaDescription||!o&&n.error.error.metaDescription,onChange:function(e){t(e),m("metaDescription")}})),c.a.createElement("div",{className:"dubbleRowInputs__item"},c.a.createElement(wt,{label:"BN Meta Description",value:a.bnMetaDescription,placeholder:"\u098f\u0987\u09df \u09ae\u09c7\u099f...",name:"bnMetaDescription",isError:l.bnMetaDescription&&i.bnMetaDescription||!o&&n.error.error.bnMetaDescription,errorString:l.bnMetaDescription&&i.bnMetaDescription||!o&&n.error.error.bnMetaDescription,onChange:function(e){t(e),m("bnMetaDescription")}}))),c.a.createElement("div",{className:"dubbleRowInputs"},c.a.createElement("div",{className:"dubbleRowInputs__item"},c.a.createElement("h3",{className:"inputFieldLabel"},"Meta Tags"),c.a.createElement(Wt,{setTags:A,tags:F})),c.a.createElement("div",{className:"dubbleRowInputs__item"},c.a.createElement("h3",{className:"inputFieldLabel"},"BN Meta Tags"),c.a.createElement(Wt,{setTags:z,tags:G})))),c.a.createElement("div",{style:{marginTop:"20px"}}),c.a.createElement(E.a,{loading:n.isLoading,onClick:function(e){return r(e)},className:"btnPrimaryClassNameoutline"},"Update page")),c.a.createElement(Vt,{setvisible:_,visible:T,setmyImages:k,myImages:x,isModalOpenForImages:!0}))}))},Si=y.a().shape({name:y.c().label("Name").required("Name is required").min(3,"Name must have at least 3 characters"),description:y.c().label("Description").required("Description is required")}),wi=function(e){var t=e.category,a=e.setvisible,n=e.visible,r=U({},"updateCategory"),i=Object(g.a)(r,2),o=i[0],l=i[1],s=function(){var e=Object(b.a)(p.a.mark((function e(t,a){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l({urlOptions:{placeHolders:{id:t.id}},body:{name:t.name,description:t.description}});case 2:e.sent,a.setSubmitting(!1);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),u=function(e){a(!1)},m=function(e,t){return!(e.name&&e.description&&t)};return c.a.createElement(v.a,{onSubmit:function(e,t){return s(e,t)},validationSchema:Si,validateOnBlur:!1,enableReinitialize:!0,initialValues:Object(f.a)({},t)},(function(e){var t=e.handleChange,a=e.values,r=e.handleSubmit,i=e.errors,l=e.isValid,s=e.isSubmitting,d=e.touched,p=(e.handleBlur,e.setFieldTouched);e.handleReset;return c.a.createElement(c.a.Fragment,null,c.a.createElement(Ot.a,{title:"Quick Edit",visible:n,onOk:function(e){return r(e)},onCancel:u,okText:"Update",okButtonProps:{loading:s,htmlType:"submit",disabled:m(a,l)}},c.a.createElement(C,{label:"Title",value:a.name,name:"name",isError:d.name&&i.name||!s&&o.error.error.name,errorString:d.name&&i.name||!s&&o.error.error.name,onChange:function(e){t(e),p("name")}}),c.a.createElement(wt,{label:"Description",value:a.description,name:"description",isError:d.description&&i.description||!s&&o.error.error.description,errorString:d.description&&i.description||!s&&o.error.error.description,onChange:function(e){t(e),p("description")}})))}))},Ti=function(e){function t(){var e,a;Object(N.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(Ut.a)(this,(e=Object(Gt.a)(t)).call.apply(e,[this].concat(r)))).state={tags:[],inputVisible:!1,inputValue:"",editInputIndex:-1,editInputValue:""},a.handleClose=function(e){var t=a.state.tags.filter((function(t){return t!==e}));a.setState({tags:t})},a.showInput=function(){a.setState({inputVisible:!0},(function(){return a.input.focus()}))},a.handleInputChange=function(e){a.setState({inputValue:e.target.value})},a.handleInputConfirm=function(){var e=a.state.inputValue,t=a.state.tags;e&&-1===t.indexOf(e)&&(t=[].concat(Object(fe.a)(t),[e])),a.setState({tags:t,inputVisible:!1,inputValue:""})},a.handleEditInputChange=function(e){a.setState({editInputValue:e.target.value})},a.handleEditInputConfirm=function(){a.setState((function(e){var t=e.tags,a=e.editInputIndex,n=e.editInputValue,r=Object(fe.a)(t);return r[a]=n,{tags:r,editInputIndex:-1,editInputValue:""}}))},a.saveInputRef=function(e){a.input=e},a.saveEditInputRef=function(e){a.editInput=e},a}return Object(zt.a)(t,e),Object(x.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.tags,n=t.inputVisible,r=t.inputValue,i=t.editInputIndex,o=t.editInputValue;return c.a.createElement(c.a.Fragment,null,a.map((function(t,a){if(i===a)return c.a.createElement(O.a,{ref:e.saveEditInputRef,key:t,size:"small",className:"tag-input",value:o,onChange:e.handleEditInputChange,onBlur:e.handleEditInputConfirm,onPressEnter:e.handleEditInputConfirm});var n=t.length>20,r=c.a.createElement(Ht.a,{className:"edit-tag",key:t,closable:0!==a,onClose:function(){return e.handleClose(t)}},c.a.createElement("span",{onDoubleClick:function(n){0!==a&&(e.setState({editInputIndex:a,editInputValue:t},(function(){e.editInput.focus()})),n.preventDefault())}},n?"".concat(t.slice(0,20),"..."):t));return n?c.a.createElement(pt.a,{title:t,key:t},r):r})),n&&c.a.createElement(O.a,{style:{margin:"10px 0"},ref:this.saveInputRef,type:"text",size:"small",className:"tag-input",value:r,onChange:this.handleInputChange,onBlur:this.handleInputConfirm,onPressEnter:this.handleInputConfirm}),!n&&c.a.createElement(Ht.a,{className:"site-tag-plus",onClick:this.showInput},c.a.createElement(ht.a,null)," New Value"))}}]),t}(c.a.Component),_i=y.a().shape({name:y.c().label("Name").required("Name is required").min(3,"Name must have at least 3 characters"),description:y.c().label("Description").required("Description is required")}),Di={name:"",description:""},Ii=ot.a.Column,Li=(ot.a.ColumnGroup,O.a.Search),Pi=function(e){var t=e.data,a=Object(o.useState)(!1),n=Object(g.a)(a,2),r=n[0],i=n[1],l=Object(o.useState)(!1),s=Object(g.a)(l,2),u=s[0],m=s[1],d=U({},"deleteTag"),f=Object(g.a)(d,2),h=(f[0],f[1]),E=function(){var e=Object(b.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h({urlOptions:{placeHolders:{id:t}}});case 2:e.sent;case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return c.a.createElement(c.a.Fragment,null,c.a.createElement(ot.a,{size:"small",dataSource:t},c.a.createElement(Ii,{title:"Name",dataIndex:"name",key:"id",className:"classnameofthecolumn"}),c.a.createElement(Ii,{title:"Description",dataIndex:"description",key:"id",className:"classnameofthecolumn"}),c.a.createElement(Ii,{className:"classnameofthecolumn",title:"",key:"action",align:"right",render:function(e,t){return c.a.createElement(dt.a,{size:"middle"},c.a.createElement(pt.a,{placement:"top",title:"Quick Edit Tag"},c.a.createElement("span",{className:"iconSize",onClick:function(){i(!0),m(t)}},c.a.createElement(gt.a,null))),c.a.createElement(pt.a,{placement:"top",title:"Delete Tag"},c.a.createElement("span",{className:"iconSize iconSize-danger",onClick:function(){return E(t.id)}},c.a.createElement(ft.a,null))))}})),u&&c.a.createElement(wi,{setvisible:i,visible:r,category:u}))},Mi=function(e){Object(h.a)(e);var t=A([],[],"brandList",{urlOptions:{params:{isSubCategory:!0}}}),a=U({},"updateCategory"),n=Object(g.a)(a,2),r=n[0],i=n[1],l=Object(o.useState)(!1),s=Object(g.a)(l,2),u=(s[0],s[1],function(){var e=Object(b.a)(p.a.mark((function e(t,a){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i({urlOptions:{placeHolders:{id:t.id}},body:{name:t.name,description:t.description}});case 2:e.sent,a.setSubmitting(!1);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),m=function(e,t){return!(e.name&&e.description&&t)};return c.a.createElement("div",{className:"site-layout-background",style:{padding:"30px 20px 30px 20px",minHeight:360}},c.a.createElement("div",{className:"addproductSectionTitleContainer"},c.a.createElement("h2",{className:"addprouctSectionTitle"},"Add Attribute")),c.a.createElement("div",{className:"addproductSectionContainer addproductSectionContainer-tags"},c.a.createElement("div",{className:"addproductSection addproductSection-left"},c.a.createElement(v.a,{onSubmit:function(e,t){return u(e,t)},validationSchema:_i,validateOnBlur:!1,enableReinitialize:!0,initialValues:Object(f.a)({},Di)},(function(e){var t=e.handleChange,a=e.values,n=e.handleSubmit,i=e.errors,o=e.isValid,l=e.isSubmitting,s=e.touched,u=(e.handleBlur,e.setFieldTouched);e.handleReset;return c.a.createElement(c.a.Fragment,null,c.a.createElement(C,{label:"Title",value:a.name,name:"name",isError:s.name&&i.name||!l&&r.error.error.name,errorString:s.name&&i.name||!l&&r.error.error.name,onChange:function(e){t(e),u("name")}}),c.a.createElement("div",{style:{marginTop:"0px"}}),c.a.createElement("h3",{className:"inputFieldLabel"}," Values"),c.a.createElement(Ti,null),c.a.createElement(E.a,{style:{display:"block",marginTop:"20px"},type:"primary",onClick:function(e){return n(e)},disabled:m(a,o),loading:l},"Create"))}))),c.a.createElement("div",{className:"addproductSection addproductSection-right"},c.a.createElement("div",{className:"categoryListContainer"},c.a.createElement("div",{className:"categoryListContainer__header"},c.a.createElement("div",{className:"categoryListContainer__header-searchBar-tag"},c.a.createElement(Li,{enterButton:!1,className:"searchbarClassName",placeholder:"search categories..",onSearch:function(e){return console.log(e)}}))),c.a.createElement("div",{className:"categoryListContainer__afterHeader"}),c.a.createElement("div",{className:"categoryListContainer__categoryList"},t.done&&t.data.length>0&&c.a.createElement(Pi,{data:t.data}),t.isLoading&&c.a.createElement(ta,null))))))},Ri=a(119),Fi=a(475),Ai=a.n(Fi),Bi=a(945),Vi=a(946),Ui=a(476),Gi=a.n(Ui),zi=(Ge.a.Option,function(e){function t(){return Object(N.a)(this,t),Object(Ut.a)(this,Object(Gt.a)(t).apply(this,arguments))}return Object(zt.a)(t,e),Object(x.a)(t,[{key:"render",value:function(){var e=this.props,t=e.orderDetailState,a=e.invoiceSettingsState,n=e.anotherRef;return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{ref:n,className:"invoiceContainer"},c.a.createElement("table",{width:"98%",border:0,cellPadding:0,cellSpacing:0,align:"center",className:"fullTable",bgcolor:"#fff"},c.a.createElement("tbody",null,c.a.createElement("tr",null,c.a.createElement("td",{height:20})),c.a.createElement("tr",null,c.a.createElement("td",null,c.a.createElement("table",{width:600,border:0,cellPadding:0,cellSpacing:0,align:"center",className:"fullTable",bgcolor:"#ffffff",style:{borderRadius:"10px 10px 0 0"}},c.a.createElement("tbody",null,c.a.createElement("tr",null,c.a.createElement("td",null,c.a.createElement("table",{width:570,border:0,cellPadding:0,cellSpacing:0,align:"center",className:"fullPadding"},c.a.createElement("tbody",null,c.a.createElement("tr",null,c.a.createElement("td",null,c.a.createElement("table",{width:"100%",border:0,cellPadding:0,cellSpacing:0,align:"left",className:"col",style:{borderBottom:"1px solid #eee",paddingBottom:"40px",marginBottom:"15px"}},c.a.createElement("tbody",{style:{marginBottom:"50px"}},c.a.createElement("tr",null,c.a.createElement("td",{style:{fontSize:12,color:"#5b5b5b",lineHeight:1.6,verticalAlign:"top",textAlign:"left"}},c.a.createElement("span",{style:{display:"inline-block",fontSize:"14px",fontWeight:"600",color:"#000"}},"Bill From:"),c.a.createElement("p",null,a.done&&a.data&&Object.keys(a.data).length>0&&a.data.invoiceTitle),c.a.createElement("p",null,a.done&&a.data&&Object.keys(a.data).length>0&&a.data.address),c.a.createElement("p",null,a.done&&a.data&&Object.keys(a.data).length>0&&a.data.phone),c.a.createElement("p",null,a.done&&a.data&&Object.keys(a.data).length>0&&a.data.email),c.a.createElement("br",null)),c.a.createElement("td",{style:{verticalAlign:"top"},align:"right"}," ",c.a.createElement("img",{src:"".concat(k.baseURL,"/images/logo.png"),style:{width:"175px"},alt:"logo",border:0}))))),c.a.createElement("table",{width:"100%",border:0,cellPadding:0,cellSpacing:0,align:"left",className:"col"},c.a.createElement("tbody",null,c.a.createElement("tr",{className:"visibleMobile"},c.a.createElement("td",{height:20})),c.a.createElement("tr",null,c.a.createElement("td",{height:5})),c.a.createElement("tr",null),c.a.createElement("tr",null),c.a.createElement("tr",null,c.a.createElement("td",{style:{fontSize:12,color:"#5b5b5b",lineHeight:1.6,verticalAlign:"top",textAlign:"left"}},c.a.createElement("span",{style:{display:"inline-block",fontSize:"14px",fontWeight:"600",color:"#000"}},"Bill To:"),c.a.createElement("p",null,t.data.name),c.a.createElement("p",null,t.data.phone),c.a.createElement("p",null,t.data.address),c.a.createElement("p",null,t.data.email)),c.a.createElement("td",{style:{fontSize:13,color:"#5b5b5b",lineHeight:1.6,verticalAlign:"top",textAlign:"right"}},c.a.createElement("p",null,c.a.createElement("strong",null,"ORDER ID #",t.data.shortCode)),c.a.createElement("span",null,t.data.date_created&&_()(t.data.date_created).format("MMMM Do YYYY, h:mm a")),c.a.createElement("br",null),c.a.createElement("span",null,c.a.createElement("br",null),c.a.createElement("p",null,c.a.createElement("strong",null,"Delivery Zone:")),"".concat(t.data.deliveryName,", ").concat(t.data.deliveryPickUpLocation,", ").concat(t.data.deliveryCountryName)))))))))))))))))),t.data&&t.data.products&&t.data.products.length>0&&c.a.createElement("table",{width:"100%",border:0,cellPadding:0,cellSpacing:0,align:"center",className:"fullTable",bgcolor:"#fff"},c.a.createElement("tbody",null,c.a.createElement("tr",null,c.a.createElement("td",null,c.a.createElement("table",{width:"100%",border:0,cellPadding:0,cellSpacing:0,align:"center",className:"fullTable",bgcolor:"#ffffff"},c.a.createElement("tbody",null,c.a.createElement("tr",null),c.a.createElement("tr",{className:"hiddenMobile"},c.a.createElement("td",{height:60})),c.a.createElement("tr",{className:"visibleMobile"},c.a.createElement("td",{height:40})),c.a.createElement("tr",null,c.a.createElement("td",null,c.a.createElement("table",{width:"95%",border:0,cellPadding:0,cellSpacing:0,align:"center",className:"fullPadding"},c.a.createElement("tbody",null,c.a.createElement("tr",{style:{backgroundColor:"#eee"}},c.a.createElement("th",{style:{fontSize:12,color:"#5b5b5b",fontWeight:"normal",lineHeight:1.6,verticalAlign:"top",padding:"5px 10px 5px 5px"},width:"25%",align:"left"},"Name"),c.a.createElement("th",{style:{fontSize:12,color:"#5b5b5b",fontWeight:"normal",lineHeight:1.6,verticalAlign:"top",padding:"5px 10px 5px 5px"},width:"20%",align:"left"},"Variation"),c.a.createElement("th",{style:{fontSize:12,color:"#5b5b5b",fontWeight:"normal",lineHeight:1.6,verticalAlign:"center",textAlign:"center"},align:"left"},"Quantity"),c.a.createElement("th",{style:{fontSize:12,color:"#1e2b33",fontWeight:"normal",lineHeight:1.6,verticalAlign:"center",textAlign:"center"},align:"left"},"Unit Price"),c.a.createElement("th",{style:{fontSize:12,color:"#1e2b33",fontWeight:"normal",lineHeight:1.6,verticalAlign:"center",textAlign:"right",paddingRight:"5px"},align:"right"},"Total Price")),t.data.products.map((function(e){var t=e.pricing.find((function(t){return t._id==e.variation}));return console.log(t),c.a.createElement(c.a.Fragment,null,c.a.createElement("tr",null,c.a.createElement("td",{height:1,style:{background:"#bebebe"},colSpan:5})),c.a.createElement("tr",null,c.a.createElement("td",{width:"30%",style:{fontSize:12,color:"#ff0000",lineHeight:1.6,verticalAlign:"top",padding:"6px 0"},className:"article"},e.name),c.a.createElement("td",{width:"15%",style:{fontSize:12,color:"#ff0000",lineHeight:1.6,verticalAlign:"top",padding:"6px 0"},className:"article"},Object.keys(t.attribute).map((function(e){return"".concat(e," : ").concat(t.attribute[e])}))),c.a.createElement("td",{style:{fontSize:12,color:"#646a6e",lineHeight:1.6,verticalAlign:"top",padding:"6px 0",textAlign:"center"},align:"left"},e.quantity),c.a.createElement("td",{style:{fontSize:12,color:"#1e2b33",lineHeight:1.6,verticalAlign:"top",padding:"6px 0",textAlign:"center"},align:"left"},e.unitPrice),c.a.createElement("td",{style:{fontSize:12,color:"#1e2b33",lineHeight:1.6,verticalAlign:"top",padding:"6px 0"},align:"right"},e.quantity*e.unitPrice)))})),c.a.createElement("tr",null,c.a.createElement("td",{height:1,colSpan:4,style:{borderBottom:"1px solid #eee"}})))))),c.a.createElement("tr",null,c.a.createElement("td",{height:20})))))))),c.a.createElement("table",{width:"100%",border:0,cellPadding:0,cellSpacing:0,align:"center",className:"fullTable",bgcolor:"#fff"},c.a.createElement("tbody",null,c.a.createElement("tr",null,c.a.createElement("td",null,c.a.createElement("table",{width:600,border:0,cellPadding:0,cellSpacing:0,align:"center",className:"fullTable",bgcolor:"#ffffff"},c.a.createElement("tbody",{style:{marginBottom:"20px"}},c.a.createElement("tr",null,c.a.createElement("td",null,c.a.createElement("table",{style:{marginBottom:"50px",marginTop:"30px"},width:570,border:0,cellPadding:0,cellSpacing:0,align:"center",className:"fullPadding"},c.a.createElement("tbody",null,c.a.createElement("tr",null,c.a.createElement("td",{style:{fontSize:12,color:"#646a6e",lineHeight:1.6,verticalAlign:"top",textAlign:"right"}},"Total Price"),c.a.createElement("td",{style:{fontSize:13,color:"#646a6e",lineHeight:1.6,verticalAlign:"top",textAlign:"right",whiteSpace:"nowrap",fontWeight:"600",marginBottom:"5px"},width:80},t.data.total)),c.a.createElement("tr",null,c.a.createElement("td",{style:{fontSize:12,color:"#646a6e",lineHeight:1.6,verticalAlign:"top",textAlign:"right"}},"Shipping & Delivery"),c.a.createElement("td",{style:{fontSize:12,color:"#646a6e",lineHeight:1.6,verticalAlign:"top",textAlign:"right"}},t.data&&t.data.total>5e3||t.data&&0===t.data.deliveryCharge?"Free":"+".concat(t.data&&t.data.deliveryCharge))),c.a.createElement("tr",null,c.a.createElement("td",{style:{fontSize:12,color:"#000",lineHeight:1.6,verticalAlign:"top",textAlign:"right"}},c.a.createElement("strong",null,"Grand Total (Incl.Delivery)")),c.a.createElement("td",{style:{fontSize:12,color:"#000",lineHeight:1.6,verticalAlign:"top",textAlign:"right"}},c.a.createElement("strong",null,t.data.total+t.data.deliveryCharge||0)))))))))))))))}}]),t}(c.a.Component)),Hi=function(e){var t=e.id,a=e.setShowInvoice,n=e.showInvoice,r=U({},"orderDetail"),i=Object(g.a)(r,2),l=i[0],s=i[1],u=Object(o.useRef)(),m=c.a.createRef(),d=U({},"invoiceSettingsDetail"),f=Object(g.a)(d,2),h=f[0],v=f[1];Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v({});case 2:e.sent;case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s({urlOptions:{placeHolders:{id:t}}});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[t]),console.log("orderDetailState",l);return c.a.createElement(Ot.a,{title:"Invoice",visible:n,bodyStyle:{margin:"0",padding:"10px"},style:{top:"40px"},onCancel:function(){return a(!1)},width:"48vw",okText:"Print",onOk:function(){window.print()},footer:!1},l.isLoading&&c.a.createElement(Re.a,null),l.data&&Object.keys(l.data).length>0&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{style:{display:"flex",width:"100%",justifyContent:"flex-end",padding:"20px 20px 20px 20px"}},c.a.createElement(Ai.a,{targetRef:m,y:15,x:25,filename:"order-".concat(l.data.shortCode,"-invoice"),options:{orientation:"a4"}},(function(e){var t=e.toPdf;return c.a.createElement(E.a,{style:{marginRight:"15px"},onClick:t,className:"btnPrimaryClassNameoutline",icon:c.a.createElement(Bi.a,null)},"Download as pdf")})),c.a.createElement(Gi.a,{documentTitle:"Order Invoice",trigger:function(){return c.a.createElement(E.a,{className:"btnPrimaryClassNameoutline",icon:c.a.createElement(Vi.a,null)},"Print")},content:function(){return u.current}})),c.a.createElement(zi,{ref:u,anotherRef:m,invoiceSettingsState:h,orderDetailState:l})))},Wi=function(e){var t=e.productId,a=e.quantity,n=e.item,r=e.variation,i=U({},"productDetailById"),l=Object(g.a)(i,2),s=l[0],u=l[1],m=Object(o.useState)({}),d=Object(g.a)(m,2),f=(d[0],d[1]),h=Object(o.useState)(!1),E=Object(g.a)(h,2),v=(E[0],E[1]),y=Object(o.useState)(""),O=Object(g.a)(y,2),j=O[0],C=(O[1],Object(o.useState)(r)),N=Object(g.a)(C,2);N[0],N[1];return Object(o.useEffect)((function(){v(!0),function(){var e=Object(b.a)(p.a.mark((function e(){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u({urlOptions:{placeHolders:{id:t}}});case 2:a=e.sent,f(a),v(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[]),console.log("modifiedPrice",j),c.a.createElement(c.a.Fragment,null,c.a.createElement(ma.a,{loading:s.isLoading},s.data&&Object.keys(s.data).length>0&&c.a.createElement("div",{className:"cart-item",key:""},c.a.createElement("img",{src:s.data.cover&&s.data.cover.cover,alt:"Img",style:{cursor:"pointer"}}),c.a.createElement("div",{className:"cart-item-info"},c.a.createElement("h4",null,s.data.name),c.a.createElement("h5",null,"Quantity : ",a),c.a.createElement("h5",null,n.unitPrice)))))},qi=Ge.a.Option,Yi=y.a().shape({}),Ki=function(e){Me.a.error({message:e||"Something Went Wrong",description:"",icon:c.a.createElement(Ct.a,{style:{color:"rgb(241, 67, 67)"}})})},Ji=function(e){var t=e.customer,a=e.setvisible,n=e.visible,r=e.setOrderList,i=e.orderList,l=U({},"updateOrder"),s=Object(g.a)(l,2),u=s[0],m=s[1];console.log("customerVie",t);var d=Object(o.useState)(""),h=Object(g.a)(d,2),y=h[0],O=h[1],N=Object(o.useState)(""),x=Object(g.a)(N,2),k=x[0],S=x[1],w=Object(o.useState)([]),T=Object(g.a)(w,2),_=T[0],D=T[1],I=Object(o.useState)([]),L=Object(g.a)(I,2),P=L[0],M=L[1],R=U([],"countryList"),F=Object(g.a)(R,2),A=F[0],B=F[1],V=U([],"cityList"),G=Object(g.a)(V,2),z=G[0],H=G[1],W=Object(o.useState)([]),q=Object(g.a)(W,2),Y=(q[0],q[1],Object(o.useState)([])),K=Object(g.a)(Y,2),J=(K[0],K[1],Object(o.useState)(!1)),Q=Object(g.a)(J,2),X=Q[0],Z=Q[1],$=function(){var e=Object(b.a)(p.a.mark((function e(n,o){var l,s,u,d;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("cooles",t),e.next=3,m({urlOptions:{placeHolders:{id:t.id}},body:{billingAddress:{phone:n.phone,email:n.email,address1:n.address1,address2:n.address2,firstName:n.firstName,lastName:n.lastName,city:k||t.billingAddress.city,country:y||t.billingAddress.country},products:t.products,customerId:t.customerId}});case 3:(l=e.sent)&&"ok"===l.status?(p=void 0,Me.a.success({message:p||"Tag Created",description:"",icon:c.a.createElement(De.a,{style:{color:"rgba(0, 128, 0, 0.493)"}})}),s=function(){return i.map((function(e){return e.id})).indexOf(t.id)}(),u=Object.assign({},i[s],Object(f.a)({},l)),d=[].concat(Object(fe.a)(i.slice(0,s)),[u],Object(fe.a)(i.slice(s+1))),r(d)):Ki(),o.setSubmitting(!1),a(!1);case 7:case"end":return e.stop()}var p}),e)})));return function(t,a){return e.apply(this,arguments)}}(),ee=function(e){S(e)},te=function(e){O(e)};Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B({});case 2:(t=e.sent)&&t.length>0&&(a=t.map((function(e){return{value:e.name,name:e.name}})),D(a));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H({urlOptions:{placeHolders:{country:y}}});case 2:(t=e.sent)&&t.length>0&&(a=t.map((function(e){return{value:e.name,name:e.name}})),M(a));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[y]);var ae=function(e){a(!1)};return c.a.createElement(v.a,{onSubmit:function(e,t){return $(e,t)},validationSchema:Yi,validateOnBlur:!1,enableReinitialize:!0,initialValues:Object(f.a)({},t.billingAddress?t.billingAddress:{})},(function(e){var a=e.handleChange,r=e.values,i=e.handleSubmit,o=e.errors,l=(e.isValid,e.isSubmitting),s=e.touched,m=(e.handleBlur,e.setFieldTouched);e.handleReset;return c.a.createElement(c.a.Fragment,null,c.a.createElement(Ot.a,{title:"Order detail",visible:n,onOk:function(e){return i(e)},onCancel:ae,okText:"Create",okButtonProps:{loading:l,htmlType:"submit"},bodyStyle:{margin:"0",padding:"10px"},width:"70vw"},c.a.createElement("div",{className:"dubbleRowInputs"},c.a.createElement("div",{className:"dubbleRowInputs__item"},c.a.createElement(C,{label:"First Name",value:r.firstName,name:"firstName",isError:s.firstName&&o.firstName||!l&&u.error.error.firstName,errorString:s.firstName&&o.firstName||!l&&u.error.error.firstName,onChange:function(e){a(e),m("firstName")}})),c.a.createElement("div",{className:"dubbleRowInputs__item"},c.a.createElement(C,{label:"Last Name",value:r.lastName,name:"lastName",isError:s.lastName&&o.lastName||!l&&u.error.error.lastName,errorString:s.lastName&&o.lastName||!l&&u.error.error.lastName,onChange:function(e){a(e),m("lastName")}}))),c.a.createElement("div",{className:"dubbleRowInputs"},c.a.createElement("div",{className:"dubbleRowInputs__item"},c.a.createElement(C,{label:"Phone",value:r.phone,name:"phone",isError:s.phone&&o.phone||!l&&u.error.error.phone,errorString:s.phone&&o.phone||!l&&u.error.error.phone,onChange:function(e){a(e),m("phone")}})),c.a.createElement("div",{className:"dubbleRowInputs__item"},c.a.createElement(C,{label:"Email",value:r.email,name:"email",isError:s.email&&o.email||!l&&u.error.error.email,errorString:s.email&&o.email||!l&&u.error.error.email,onChange:function(e){a(e),m("email")}}))),c.a.createElement("div",{className:"dubbleRowInputs"},c.a.createElement("div",{className:"dubbleRowInputs__item"},c.a.createElement("h3",{className:"inputFieldLabel"},"Country"),c.a.createElement(j.a.Item,{validateStatus:u.error.error.country?"error":"",help:u.error.error.country},c.a.createElement(Ge.a,{defaultValue:r.country,notFoundContent:c.a.createElement(we.a,{description:"No Country Found",image:we.a.PRESENTED_IMAGE_SIMPLE}),showSearch:!0,style:{width:"100%"},placeholder:"Select a Country",optionFilterProp:"children",onChange:te,filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0}},A.done&&A.data.length>0&&_.map((function(e){return c.a.createElement(qi,{value:e.value},e.name)}))))),c.a.createElement("div",{className:"dubbleRowInputs__item"},c.a.createElement("h3",{className:"inputFieldLabel"},"City"),c.a.createElement(j.a.Item,{validateStatus:u.error.error.city?"error":"",help:u.error.error.city},c.a.createElement(Ge.a,{defaultValue:r.city,className:"selectClassName",notFoundContent:c.a.createElement(we.a,{description:"First Select a Country",image:we.a.PRESENTED_IMAGE_SIMPLE}),showSearch:!0,style:{width:"100%"},placeholder:"Select a city",optionFilterProp:"children",onChange:ee,filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0}},z.done&&z.data.length>0&&P.map((function(e){return c.a.createElement(qi,{value:e.value},e.name)})))))),c.a.createElement("div",{style:{marginTop:"12px"}}),c.a.createElement("div",{className:"dubbleRowInputs"},c.a.createElement("div",{className:"dubbleRowInputs__item"},c.a.createElement(C,{label:"Address",value:r.address1,name:"address1",isError:s.address1&&o.address1||!l&&u.error.error.address1,errorString:s.address1&&o.address1||!l&&u.error.error.address1,onChange:function(e){a(e),m("address1")}})),c.a.createElement("div",{className:"dubbleRowInputs__item"},c.a.createElement(C,{label:"Address 2",value:r.address2,name:"address2",isError:s.address2&&o.address2||!l&&u.error.error.address2,errorString:s.address2&&o.address2||!l&&u.error.error.address2,onChange:function(e){a(e),m("address2")}}))),c.a.createElement("div",{style:{marginTop:"12px"}}),t.products&&t.products.length>0&&c.a.createElement("h3",{className:"inputFieldLabel"},"Products"),t.products&&t.products.length>0&&c.a.createElement(c.a.Fragment,null,t.products.map((function(e){return c.a.createElement(Wi,{productId:e._id,quantity:e.quantity,item:e,variation:e.variation})}))),c.a.createElement("div",{style:{marginTop:"20px"}}),c.a.createElement(E.a,{onClick:function(){return Z(!0)},className:"btnPrimaryClassNameoutline"},"Generate Invoice"),c.a.createElement("div",{style:{marginBottom:"20px"}}),c.a.createElement(Hi,{id:t.id,setShowInvoice:Z,showInvoice:X})))}))},Qi=ot.a.Column,Xi=(ot.a.ColumnGroup,O.a.Search),Zi=ze.a.RangePicker,$i=function(e){Me.a.success({message:e||"Order Created",description:"",icon:c.a.createElement(De.a,{style:{color:"rgba(0, 128, 0, 0.493)"}})})},eo=Ge.a.Option,to=function(e){var t=e.data,a=e.setOrderList,n=e.roles,r=Object(o.useState)(!1),i=Object(g.a)(r,2),l=i[0],s=i[1],u=Object(o.useState)(!1),m=Object(g.a)(u,2),d=m[0],f=m[1],h=U({},"deleteOrder"),E=Object(g.a)(h,2),v=(E[0],E[1],U({},"updateOrderStatus")),y=Object(g.a)(v,2),O=(y[0],y[1]),j=Object(_e.g)(),C=function(){var e=Object(b.a)(p.a.mark((function e(n,r,i){var o,l,s,u;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O({urlOptions:{params:{newOrderstatus:i},placeHolders:{id:r}}});case 2:(o=e.sent)&&"ok"===o.status?($i("Updated Order Status"),l=function(){return t.map((function(e){return e.id})).indexOf(r)}(),console.log("recordis",n,l),s=Object.assign({},t[l],{status:i}),u=[].concat(Object(fe.a)(t.slice(0,l)),[s],Object(fe.a)(t.slice(l+1))),console.log("updateOrderList",u,"-----",a),a(u)):(m="Couldn't changed order status, Something went wrong",Me.a.error({message:m||"Something Went Wrong",description:"",icon:c.a.createElement(De.a,{style:{color:"rgb(241, 67, 67)"}})}));case 4:case"end":return e.stop()}var m}),e)})));return function(t,a,n){return e.apply(this,arguments)}}();return c.a.createElement(c.a.Fragment,null,c.a.createElement(ot.a,{size:"small",dataSource:t},c.a.createElement(Qi,{title:"Code",dataIndex:"shortCode",key:"id",className:"classnameofthecolumn",render:function(e,t){return c.a.createElement(c.a.Fragment,null,c.a.createElement("h4",{onClick:function(){j.push("/admin/order/".concat(t.id)),f(t)},style:{fontWeight:400,color:"#555",cursor:"pointer"}},"#",e))}}),c.a.createElement(Qi,{title:"Name",dataIndex:"name",key:"id",className:"classnameofthecolumn",render:function(e,t){return c.a.createElement(c.a.Fragment,null,c.a.createElement("h4",{onClick:function(){j.push("/admin/order/".concat(t.id)),f(t)},style:{fontWeight:400,color:"#555",cursor:"pointer"}},e))}}),c.a.createElement(Qi,{title:"Delivery",dataIndex:"deliveryName",key:"id",className:"classnameofthecolumn"}),c.a.createElement(Qi,{title:"Created",dataIndex:"date_created",key:"id",className:"classnameofthecolumn",render:function(e,t){return c.a.createElement(c.a.Fragment,null,c.a.createElement("h4",{style:{fontWeight:400,color:"#555"}},e&&_()(e).format("MMMM Do YYYY, h:mm a")))}}),c.a.createElement(Qi,{title:"Total Price",dataIndex:"total",key:"id",className:"classnameofthecolumn"}),c.a.createElement(Qi,{align:"right",title:"Status",dataIndex:"status",key:"id",className:"classnameofthecolumn",render:function(e,t){return c.a.createElement(c.a.Fragment,null,D("postOrder",n)?c.a.createElement(Fe.a,{overlay:function(){return function(e,t){return c.a.createElement(J.a,null,c.a.createElement(J.a.Item,{onClick:function(){return C(e,t,"pending")},key:"1",icon:c.a.createElement(xt.a,null)},"Pending"),c.a.createElement(J.a.Item,{onClick:function(){return C(e,t,"processing")},key:"1",icon:c.a.createElement(xt.a,null)},"Processing"),c.a.createElement(J.a.Item,{onClick:function(){return C(e,t,"sentForDelivery")},key:"1",icon:c.a.createElement(xt.a,null)},"Sent for delivery"),c.a.createElement(J.a.Item,{onClick:function(){return C(e,t,"complete")},key:"1",icon:c.a.createElement(xt.a,null)},"Completed"),c.a.createElement(J.a.Item,{onClick:function(){return C(e,t,"cancel")},key:"1",icon:c.a.createElement(xt.a,null)},"Cancel"))}(t,t.id)},placement:"bottomRight"},c.a.createElement("a",{href:"##"},c.a.createElement("span",{style:{fontSize:"12px"}},e,c.a.createElement("span",{style:{marginLeft:"5px",fontSize:"10px"}},c.a.createElement(Nn.a,null))))):c.a.createElement("a",{href:"##"},c.a.createElement("span",{style:{fontSize:"12px"}},e,c.a.createElement("span",{style:{marginLeft:"5px",fontSize:"10px"}}))))}})),d&&c.a.createElement(Ji,{setvisible:s,visible:l,customer:d,orderList:t,setOrderList:a}))},ao=Object(u.b)((function(e){return{roles:e.globalState}}),null)((function(e){var t=e.roles,a=Object(o.useState)([]),n=Object(g.a)(a,2),r=n[0],i=n[1],l=Object(_e.g)(),s=U({},"orderList"),u=Object(g.a)(s,2),m=u[0],d=u[1],f=Object(o.useState)(""),h=Object(g.a)(f,2),v=h[0],y=h[1],O=Object(o.useState)(""),j=Object(g.a)(O,2),C=j[0],N=j[1],x=Object(o.useState)(""),k=Object(g.a)(x,2),S=k[0],w=k[1],T=Object(o.useState)(""),I=Object(g.a)(T,2),L=I[0],P=I[1];console.log("orderState",m),Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d({urlOptions:{params:{sortItem:"added",sortOrderValue:"-1",statusValue:"all"===v?"":v,startDateValue:S,endDateValue:L,deliveryRegionNameValue:"all"===C?"":C}}});case 2:t=e.sent,i(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[v,S,L,C]);var M=Object(o.useState)([]),R=Object(g.a)(M,2),F=R[0],A=R[1],B=U({},"regionList"),V=Object(g.a)(B,2),G=(V[0],V[1]);Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G({urlOptions:{params:{sortItem:"added",sortOrderValue:"-1"}}});case 2:(t=e.sent)&&t.length>0&&(a=t.map((function(e){return{name:e.name,value:e.name}})),A([{name:"All Region",value:"all"}].concat(Object(fe.a)(a))));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),console.log("regionList33",F);var z=r&&r.length>0?r.map((function(e){return console.log(e),{shortCode:e.shortCode,name:e.name,deliveryName:e.deliveryName,date_created:e.date_created?_()(e.joiningDate).format("MMMM Do YYYY, h:mm a"):"",status:e.status,total:e.total}})):[];return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"categoryListContainer"},c.a.createElement("div",{className:"categoryListContainer__header"},c.a.createElement("div",{className:"categoryListContainer__header-searchBar"},c.a.createElement("h2",{className:"categoryListContainer__header-title"},"Orders"),c.a.createElement(Xi,{enterButton:!1,className:"searchbarClassName",placeholder:"search orders (ex. #04343)",onChange:function(e){return function(e){if(m.data.length>0){var t=m.data.filter((function(t){return JSON.stringify(t).toLocaleLowerCase().includes(e)}));i(t)}}(e.target.value)}})),c.a.createElement("div",{style:{display:"flex",alignItems:"center"}},r&&r.length>0&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{style:{display:"flex",alignItems:"center",marginRight:"25px"}},c.a.createElement(Ri.CSVLink,{filename:"Orders.csv",data:z,headers:[{label:"Order Code",key:"shortCode"},{label:"Name",key:"name"},{label:"Delivery",key:"deliveryName"},{label:"Created",key:"date_created"},{label:"Total Price",key:"total"},{label:"Status",key:"status"}]},"Export as csv"),c.a.createElement("span",{style:{color:"#1890ff",marginLeft:"10px"}},c.a.createElement(xn.a,null)))),D("postOrder",t)&&c.a.createElement(E.a,{className:"btnPrimaryClassNameoutline",icon:c.a.createElement(ht.a,null),onClick:function(){return l.push("/admin/order/new")}},"Add New"))),c.a.createElement("div",{style:{marginTop:"30px"},className:"categoryListContainer__header"},c.a.createElement("div",null),c.a.createElement("div",null,c.a.createElement(Zi,{style:{width:270,color:"#3fa6f9"},onChange:function(e){console.log("dateOrder",_()(e[0]).format()),console.log("dateOff",_()(e[1]).format());var t=new Date(_()(e[0]).format()),a=new Date(_()(e[1]).format());w(t),P(a)},picker:"date",bordered:!1}),F&&F.length>0&&c.a.createElement(c.a.Fragment,null,c.a.createElement(Ge.a,{showSearch:!0,style:{borderRadius:"15px",color:"#3fa6f9",width:"150px",marginRight:"15px"},placeholder:"Delivery Region",optionFilterProp:"children",onChange:function(e){N(e)},bordered:!1,filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0},defaultValue:"all"},F.map((function(e){return c.a.createElement(eo,{value:e.value},e.name)})))),c.a.createElement(Ge.a,{style:{borderRadius:"15px",color:"#3fa6f9",width:"100px"},placeholder:"Select status",optionFilterProp:"children",onChange:function(e){y(e)},defaultValue:"all",bordered:!1},[{name:"All Status",value:"all"},{name:"Pending",value:"pending"},{name:"Processing",value:"processing"},{name:"Sent for delivery",value:"sentForDelivery"},{name:"Completed",value:"complete"},{name:"Cancel",value:"cancel"}].map((function(e){return c.a.createElement(eo,{value:e.value},e.name)}))))),c.a.createElement("div",{className:"categoryListContainer__afterHeader"}),c.a.createElement("div",{className:"categoryListContainer__categoryList"},m.done&&r.length>0&&c.a.createElement(to,{roles:t,setOrderList:i,data:r}),m.isLoading&&c.a.createElement(ta,null),m.done&&!(r.length>0)&&c.a.createElement(Te,{title:"No Order found"}))))})),no=a(263),ro=a(948),io=a(949),oo=a(950),co=a(947),lo=Object(o.memo)((function(e){var t=e.setProductList,a=e.productList;return c.a.createElement("div",{style:{flexDirection:"flex"},className:"addOrderContainer__container-orderSummary"},c.a.createElement("h3",{className:"addOrderContainer-sectionTitle"},c.a.createElement("span",null,c.a.createElement(co.a,null)),"Selected Products"),c.a.createElement("div",{className:"addOrderContainer__container-productItemContainer"},a&&a.length>0&&a.map((function(e){return c.a.createElement(Ua,{setProductList:t,productList:a,productId:e._id,quantity:e.quantity,item:e,variation:e.variation})})),!(a.length>0)&&c.a.createElement("div",{style:{marginLeft:"32px"}},c.a.createElement(Te,{title:"No Product Added",height:150}))))})),so=Ge.a.Option,uo=function(e){var t=e.setCustomerId,a=e.setSelectedCustomerData,n=Object(o.useState)([]),r=Object(g.a)(n,2),i=r[0],l=r[1],s=Object(o.useState)(""),u=Object(g.a)(s,2),m=(u[0],u[1]),d=U({},"customerList"),h=Object(g.a)(d,2),E=h[0],v=h[1];return Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v({urlOptions:{params:{sortItem:"added",sortOrderValue:"-1"}}});case 2:(t=e.sent)&&t.length>0&&(a=t.map((function(e){return Object(f.a)({},e,{value:e.id,name:"Name: ".concat(e.firstName," ").concat(e.lastName,", ").concat(e.phone?"Phone: ".concat(e.phone):"")})})),l(a));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),c.a.createElement(ma.a,{loading:E.isLoading},c.a.createElement(Ge.a,{showSearch:!0,size:"middle",style:{width:"100%"},placeholder:"Select a Customer",optionFilterProp:"children",onChange:function(e){if(i&&i.length>0){var n=i.find((function(t){return t.value===e}));n&&a(n)}m(e),t(e)},onFocus:function(){},onBlur:function(){},onSearch:function(e){},filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0}},E.done&&E.data.length>0&&i.map((function(e){return c.a.createElement(so,{value:e.value},e.name)}))))},mo=Object(o.memo)((function(e){var t=e.setProductIds,a=(e.productIds,e.productListState),n=Object(o.useState)([]),r=Object(g.a)(n,2),i=r[0],l=r[1],s=Object(o.useState)([]),u=Object(g.a)(s,2),m=u[0],d=u[1];Object(o.useEffect)((function(){if(a.done&&a.data&&a.data.data.length>0){var e=a.data.data.map((function(e){return e.name}));l(e)}}),[a]);return c.a.createElement(c.a.Fragment,null,c.a.createElement(ma.a,{loading:a.isLoading},a.done&&a.data&&a.data.data.length>0&&c.a.createElement(Ge.a,{mode:"multiple",placeholder:"search products",value:m,onChange:function(e){if(d(e),a.done&&a.data&&a.data.data.length>0&&e.length>0){var n=e.map((function(e){var t=a.data.data.find((function(t){return t.name.toLowerCase()===e.toLowerCase()}));if(t)return t}));console.log("selectedCategoryIds",n),t(n)}else t([])},style:{width:"100%"}},i.filter((function(e){return!m.includes(e)})).map((function(e){return c.a.createElement(Ge.a.Option,{key:e,value:e},e)})))))})),po=Ge.a.Option,bo=hi.a.Step,go=O.a.Search,fo=function(e){Me.a.error({message:e||"Something Went Wrong",description:"",icon:c.a.createElement(Ct.a,{style:{color:"rgb(241, 67, 67)"}})})},ho=y.a().shape({}),Eo={phone:"",email:"",firstName:"",lastName:"",address1:"",address2:"",zipCode:"",additionalInfo:"",country:"",city:""},vo=[{title:"Order Information",content:""},{title:"Address"},{title:"Confirm Order",content:""}],yo=function(e){Object(h.a)(e);var t=U({},"addOrder"),a=Object(g.a)(t,2),n=a[0],r=a[1],i=Object(o.useState)(""),l=Object(g.a)(i,2),s=l[0],u=l[1],m=Object(o.useState)(""),d=Object(g.a)(m,2),y=d[0],O=d[1],N=Object(o.useState)([]),x=Object(g.a)(N,2),k=x[0],S=x[1],w=Object(o.useState)({}),T=Object(g.a)(w,2),_=T[0],D=T[1],I=Object(o.useState)([]),L=Object(g.a)(I,2),P=L[0],M=L[1],R=Object(o.useState)([]),F=Object(g.a)(R,2),A=F[0],B=F[1],V=U([],"countryList"),G=Object(g.a)(V,2),z=G[0],H=G[1],W=U([],"cityList"),q=Object(g.a)(W,2),Y=q[0],K=q[1],J=Object(o.useState)(0),Q=Object(g.a)(J,2),X=Q[0],Z=Q[1],$=Object(o.useState)([]),ee=Object(g.a)($,2),te=ee[0],ae=ee[1],re=Object(o.useState)([]),oe=Object(g.a)(re,2),ce=oe[0],le=oe[1],se=U({},"productList"),ue=Object(g.a)(se,2),me=ue[0],de=ue[1],pe=U({},"customerList"),be=Object(g.a)(pe,2),ge=be[0],he=be[1],Ee=U([],"getDeliveryRegion"),ve=Object(g.a)(Ee,2),ye=ve[0],Oe=ve[1],je=Object(o.useState)(""),Ce=Object(g.a)(je,2),Ne=Ce[0],xe=Ce[1],ke=Object(o.useState)({}),Se=Object(g.a)(ke,2),Te=(Se[0],Se[1]),_e=Object(o.useState)([]),Ie=Object(g.a)(_e,2),Le=Ie[0],Pe=Ie[1];Object(o.useEffect)((function(){_&&Object.keys(_).length>0&&(O(_.city),u(_.country))}),[_]);var Re=function(e){return!!e};Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Oe({urlOptions:{placeHolders:{cityName:y}}});case 2:t=e.sent,Pe(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()(),console.log("selectedCityValue",y)}),[y]);Object(o.useEffect)((function(){if(Re(Le.length>0&&Le)){var e=Le.find((function(e,t){return 0===t}));e&&(xe(e.name),Te(e))}}),[Le]),Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,de({urlOptions:{params:{sortItem:"added",sortOrderValue:"-1",productType:"product",pageNumber:1}}});case 2:e.sent;case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,he({});case 2:e.sent;case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var Fe=function(){var e=Object(b.a)(p.a.mark((function e(t,a){var n,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ce&&ce.length>0?ce.map((function(e){return{product:e._id,quantity:e.quantity,variation:e.variation}})):[],e.next=3,r({body:{shippingAddress:{phone:t.phone,email:t.email,address1:t.address1,address2:t.address2,firstName:t.firstName,lastName:t.lastName,city:y||_.city,country:s||_.country},items:n,delivery:Ne,customerId:k}});case 3:(i=e.sent)&&"ok"===i.status?(a.resetForm(),Z(0),ae([]),le([]),S([]),O(""),u(""),xe(""),Te({}),Pe([]),D({})):fo("Couldn't create order, Something went wrong"),a.setSubmitting(!1);case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();Object(o.useEffect)((function(){if(!n.isLoading){var e=n.error;if(e.isError&&Object.keys(e.error).length>0)e.error.registerError||e.error.checkoutError,(Object.values(e.error).length>0?Object.values(e.error):[]).forEach((function(e,t){if("string"===typeof e)fo(e);else if("object"===typeof e){if(e&&Object.keys(e).length>0)Object.values(e).forEach((function(e){fo(e)}))}}))}var t;!n.isLoading&&Object.keys(n.data).length>0&&"ok"===n.data.status&&(t="Order Created Successfully",Me.a.success({message:t||"Order Created",description:"",icon:c.a.createElement(De.a,{style:{color:"rgba(0, 128, 0, 0.493)"}})}))}),[n]);var Ae=function(e){O(e)},Be=function(e){u(e)};Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H({});case 2:(t=e.sent)&&t.length>0&&(a=t.map((function(e){return{value:e.id,name:e.name}})),M(a));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K({urlOptions:{placeHolders:{country:s}}});case 2:(t=e.sent)&&t.length>0&&(a=t.map((function(e){return{value:e.name,name:e.name}})),B(a));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[s]);Object(o.useEffect)((function(){if(te&&te.length>0&&ce){if(te.length>ce.length){var e=te[te.length-1].pricing&&te[te.length-1].pricing.length>0&&te[te.length-1].pricing[0]._id;le([].concat(Object(fe.a)(ce),[Object(f.a)({},te[te.length-1],{_id:te[te.length-1].id,variation:e,quantity:1})]))}else if(te.length<ce.length){console.log("productIds",te),console.log("productList",ce);var t=ce.filter((function(e){var t=!1;return te.forEach((function(a){a.id===e._id&&(t=!0)})),t}));le(t)}}else le([])}),[te]),console.log("selectedCustomerData",_);return c.a.createElement(v.a,{onSubmit:function(e,t){return Fe(e,t)},validationSchema:ho,validateOnBlur:!1,enableReinitialize:!0,initialValues:Object(f.a)({},Eo,{},_)},(function(e){var t=e.handleChange,a=e.values,r=e.handleSubmit,i=e.errors,o=(e.isValid,e.isSubmitting),l=e.touched,s=(e.handleBlur,e.setFieldTouched);e.handleReset;return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"addOrderContainer"},c.a.createElement("h3",null,"Add New Order"),c.a.createElement("div",{className:"addOrderContainer__container"},c.a.createElement(hi.a,{current:X},vo.map((function(e){return c.a.createElement(bo,{key:e.title,title:e.title})}))),0===X&&c.a.createElement("div",{className:"addOrderContainer__container-OrderInfoContainer"},c.a.createElement("div",{className:"addOrderContainer__container-OrderInfoContainer-left"},c.a.createElement("h3",{style:{},className:"addOrderContainer-sectionTitle"},c.a.createElement("span",null,c.a.createElement(ie.a,null)),"Customers And products"),c.a.createElement("div",{style:{marginTop:"15px"}}),c.a.createElement("h4",{className:"inputFieldLabel"},"Customer"),c.a.createElement(uo,{customerListState:ge,setSelectedCustomerData:D,setCustomerId:S}),c.a.createElement("div",{style:{marginTop:"15px"}}),c.a.createElement("h4",{className:"inputFieldLabel"},"Products"),c.a.createElement(mo,{productListState:me,productIds:te,setProductIds:ae})),c.a.createElement("div",{className:"addOrderContainer__container-OrderInfoContainer-right"},c.a.createElement(lo,{setProductList:le,productList:ce}))),1===X&&c.a.createElement("div",{className:"addOrderContainer__container-address"},c.a.createElement("div",{className:"dubbleRowInputs"},c.a.createElement("div",{className:"dubbleRowInputs__item"},c.a.createElement(C,{label:"First Name",value:a.firstName,name:"firstName",isError:l.firstName&&i.firstName||!o&&n.error.error.firstName,errorString:l.firstName&&i.firstName||!o&&n.error.error.firstName,onChange:function(e){t(e),s("firstName")}})),c.a.createElement("div",{className:"dubbleRowInputs__item"},c.a.createElement(C,{label:"Last Name",value:a.lastName,name:"lastName",isError:l.lastName&&i.lastName||!o&&n.error.error.lastName,errorString:l.lastName&&i.lastName||!o&&n.error.error.lastName,onChange:function(e){t(e),s("lastName")}}))),c.a.createElement("div",{className:"dubbleRowInputs"},c.a.createElement("div",{className:"dubbleRowInputs__item"},c.a.createElement(C,{label:"Phone",value:a.phone,name:"phone",isError:l.phone&&i.phone||!o&&n.error.error.phone,errorString:l.phone&&i.phone||!o&&n.error.error.phone,onChange:function(e){t(e),s("phone")}})),c.a.createElement("div",{className:"dubbleRowInputs__item"},c.a.createElement(C,{label:"Email",value:a.email,name:"email",isError:l.email&&i.email||!o&&n.error.error.email,errorString:l.email&&i.email||!o&&n.error.error.email,onChange:function(e){t(e),s("email")}}))),c.a.createElement("div",{className:"dubbleRowInputs"},c.a.createElement("div",{className:"dubbleRowInputs__item"},c.a.createElement("h3",{className:"inputFieldLabel"},"Country"),c.a.createElement(j.a.Item,{validateStatus:n.error.error.country?"error":"",help:n.error.error.country},c.a.createElement(Ge.a,{defaultValue:a.country,notFoundContent:c.a.createElement(we.a,{description:"No Country Found",image:we.a.PRESENTED_IMAGE_SIMPLE}),showSearch:!0,style:{width:"100%"},placeholder:"Select a Country",optionFilterProp:"children",onChange:Be,filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0}},z.done&&z.data.length>0&&P.map((function(e){return c.a.createElement(po,{value:e.value},e.name)}))))),c.a.createElement("div",{className:"dubbleRowInputs__item"},c.a.createElement("h3",{className:"inputFieldLabel"},"City"),c.a.createElement(j.a.Item,{validateStatus:n.error.error.city?"error":"",help:n.error.error.city},c.a.createElement(Ge.a,{defaultValue:a.city,className:"selectClassName",notFoundContent:c.a.createElement(we.a,{description:"First Select a Country",image:we.a.PRESENTED_IMAGE_SIMPLE}),showSearch:!0,style:{width:"100%"},placeholder:"Select a city",optionFilterProp:"children",onChange:Ae,filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0}},Y.done&&Y.data.length>0&&A.map((function(e){return c.a.createElement(po,{value:e.value},e.name)})))))),c.a.createElement("div",{style:{marginTop:"12px"}}),c.a.createElement("div",{className:"dubbleRowInputs"},c.a.createElement("div",{className:"dubbleRowInputs__item"},c.a.createElement(C,{label:"Address",value:a.address1,name:"address1",isError:l.address1&&i.address1||!o&&n.error.error.address1,errorString:l.address1&&i.address1||!o&&n.error.error.address1,onChange:function(e){t(e),s("address1")}})),c.a.createElement("div",{className:"dubbleRowInputs__item"},c.a.createElement(C,{label:"Address 2",value:a.address2,name:"address2",isError:l.address2&&i.address2||!o&&n.error.error.address2,errorString:l.address2&&i.address2||!o&&n.error.error.address2,onChange:function(e){t(e),s("address2")}})))),10===X&&c.a.createElement("div",{className:"addOrderContainer__container-address"},c.a.createElement("div",{className:"dubbleRowInputs"},c.a.createElement("div",{className:"dubbleRowInputs__item"},c.a.createElement(C,{label:"First Name",value:a.firstName,name:"firstName",isError:l.firstName&&i.firstName||!o&&n.error.error.firstName,errorString:l.firstName&&i.firstName||!o&&n.error.error.firstName,onChange:function(e){t(e),s("firstName")}})),c.a.createElement("div",{className:"dubbleRowInputs__item"},c.a.createElement(C,{label:"Last Name",value:a.lastName,name:"lastName",isError:l.lastName&&i.lastName||!o&&n.error.error.lastName,errorString:l.lastName&&i.lastName||!o&&n.error.error.lastName,onChange:function(e){t(e),s("lastName")}}))),c.a.createElement("div",{className:"dubbleRowInputs"},c.a.createElement("div",{className:"dubbleRowInputs__item"},c.a.createElement(C,{label:"Phone",value:a.phone,name:"phone",isError:l.phone&&i.phone||!o&&n.error.error.phone,errorString:l.phone&&i.phone||!o&&n.error.error.phone,onChange:function(e){t(e),s("phone")}})),c.a.createElement("div",{className:"dubbleRowInputs__item"},c.a.createElement(C,{label:"Email",value:a.email,name:"email",isError:l.email&&i.email||!o&&n.error.error.email,errorString:l.email&&i.email||!o&&n.error.error.email,onChange:function(e){t(e),s("email")}}))),c.a.createElement("div",{className:"dubbleRowInputs"},c.a.createElement("div",{className:"dubbleRowInputs__item"},c.a.createElement("h3",{className:"inputFieldLabel"},"Country"),c.a.createElement(j.a.Item,{validateStatus:n.error.error.country?"error":"",help:n.error.error.country},c.a.createElement(Ge.a,{defaultValue:"Comoros",notFoundContent:c.a.createElement(we.a,{description:"No Country Found",image:we.a.PRESENTED_IMAGE_SIMPLE}),showSearch:!0,style:{width:"100%"},placeholder:"Select a Country",optionFilterProp:"children",onChange:Be,filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0}},z.done&&z.data.length>0&&P.map((function(e){return c.a.createElement(po,{value:e.value},e.name)}))))),c.a.createElement("div",{className:"dubbleRowInputs__item"},c.a.createElement("h3",{className:"inputFieldLabel"},"City"),c.a.createElement(j.a.Item,{validateStatus:n.error.error.city?"error":"",help:n.error.error.city},c.a.createElement(Ge.a,{defaultValue:"Dhaka",className:"selectClassName",notFoundContent:c.a.createElement(we.a,{description:"First Select a Country",image:we.a.PRESENTED_IMAGE_SIMPLE}),showSearch:!0,style:{width:"100%"},placeholder:"Select a city",optionFilterProp:"children",onChange:Ae,filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0}},Y.done&&Y.data.length>0&&A.map((function(e){return c.a.createElement(po,{value:e.value},e.name)})))))),c.a.createElement("div",{style:{marginTop:"12px"}}),c.a.createElement("div",{className:"dubbleRowInputs"},c.a.createElement("div",{className:"dubbleRowInputs__item"},c.a.createElement(C,{label:"Address",value:a.address1,name:"address1",isError:l.address1&&i.address1||!o&&n.error.error.address1,errorString:l.address1&&i.address1||!o&&n.error.error.address1,onChange:function(e){t(e),s("address1")}})),c.a.createElement("div",{className:"dubbleRowInputs__item"},c.a.createElement(C,{label:"More specific address",value:a.address2,name:"address2",isError:l.address2&&i.address2||!o&&n.error.error.address2,errorString:l.address2&&i.address2||!o&&n.error.error.address2,onChange:function(e){t(e),s("address2")}})))),2===X&&c.a.createElement("div",{style:{display:"flex",justifyContent:"center",marginTop:"40px",alignItems:"center",flexDirection:"column"}},c.a.createElement(lo,{setProductList:le,productList:ce}),c.a.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}},c.a.createElement("h3",{style:{marginTop:"20px",display:"inline-block",textAlign:"center"},className:"addOrderContainer-sectionTitle"},c.a.createElement("span",null,c.a.createElement(ne.a,null)),"Delivery Region List (",y,")"),c.a.createElement(go,{style:{marginTop:"15px"},enterButton:!1,className:"searchbarClassName",placeholder:"search region..",onChange:function(e){return function(e){var t;if(""===e)Pe(ye.data||[]);else if((null===ye||void 0===ye||null===(t=ye.data)||void 0===t?void 0:t.length)>0){var a;console.log({"deliveryRegionState.data":ye.data});var n=null===ye||void 0===ye||null===(a=ye.data)||void 0===a?void 0:a.filter((function(t){var a,n;return null===(a=t.name)||void 0===a||null===(n=a.toLowerCase())||void 0===n?void 0:n.includes(null===e||void 0===e?void 0:e.toLowerCase())}));console.log({"delivery.data":n}),Pe(n||[])}}(e.target.value)}}),Le&&Le.length>0?c.a.createElement(c.a.Fragment,null,c.a.createElement(no.default.Group,{style:{display:"flex",justifyContent:"center",flexWrap:"wrap"},value:Ne,defaultValue:Ne,name:"radiogroup"},Le.map((function(e){return c.a.createElement("div",{onClick:function(){return function(e){if(xe(e),Re(Le.length>0&&Le)){var t=Le.find((function(t){return t._id===e}));t&&Te(t)}}(e._id)},className:"deliveryRegionLabelContainer"},c.a.createElement("div",{className:"deliveryRegionLabelContainer__radio"},c.a.createElement(no.default,{value:e._id})),c.a.createElement("div",{className:"deliveryRegionLabelContainer__info"},c.a.createElement("h3",null,e.name),c.a.createElement("h4",null,c.a.createElement("span",null,c.a.createElement(ne.a,null)),e.pickUpLocation),c.a.createElement("h4",null,c.a.createElement("span",null,c.a.createElement(ro.a,null)),e.time)))})))):c.a.createElement(c.a.Fragment,null,c.a.createElement("h4",{style:{textAlign:"center",color:"#777",marginTop:"50px"}},"Delivery not found"))),c.a.createElement("div",{style:{display:"flex",marginTop:"40px",marginBottom:"50px"}},c.a.createElement(E.a,{loading:n.isLoading,style:{marginTop:"10px",marginLeft:"15px"},className:"btnPrimaryClassNameoutline-blue",onClick:function(e){return r(e)}},"Place Order",c.a.createElement(io.a,null)))),c.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},X>0&&c.a.createElement(E.a,{style:{marginRight:"15px",marginTop:"10px"},className:"btnPrimaryClassNameoutline",type:"primary",onClick:function(){Z(X-1)}},c.a.createElement(oo.a,null)," Previous"),X<vo.length-1&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",null,c.a.createElement(E.a,{style:{marginTop:"10px"},className:"btnPrimaryClassNameoutline",type:"primary",onClick:function(){Z(1===X?2:X+1)}},"Next",c.a.createElement(io.a,null))))))))}))},Oo=a(951),jo=(Ge.a.Option,y.a().shape({})),Co=function(e){Me.a.error({message:e||"Something Went Wrong",description:"",icon:c.a.createElement(Ct.a,{style:{color:"rgb(241, 67, 67)"}})})},No={summary:"",note:""},xo=function(e){var t=e.customer,a=e.setTagEditVisible,n=e.tagEditVisible,r=e.setOrderNotes,i=e.orderNotes,o=U({},"addOrderNote"),l=Object(g.a)(o,2),s=l[0],u=l[1],m=function(){var e=Object(b.a)(p.a.mark((function e(n,o){var l;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("orderValues",n),e.next=3,u({body:{note:n.note,summary:n.summary,order:t.id}});case 3:(l=e.sent)&&"ok"===l.status?(s="Order Note added",Me.a.success({message:s||"Order Updated",description:"",icon:c.a.createElement(De.a,{style:{color:"rgba(0, 128, 0, 0.493)"}})}),r([Object(f.a)({},l)].concat(Object(fe.a)(i))),a(!1)):Co(),o.setSubmitting(!1);case 6:case"end":return e.stop()}var s}),e)})));return function(t,a){return e.apply(this,arguments)}}(),d=function(e){a(!1)};return c.a.createElement(v.a,{onSubmit:function(e,t){return m(e,t)},validationSchema:jo,validateOnBlur:!1,enableReinitialize:!0,initialValues:Object(f.a)({},No)},(function(e){var t=e.handleChange,a=e.values,r=e.handleSubmit,i=e.errors,o=(e.isValid,e.isSubmitting),l=e.touched,u=(e.handleBlur,e.setFieldTouched);e.handleReset;return c.a.createElement(c.a.Fragment,null,c.a.createElement(Ot.a,{title:"Add Order Note",visible:n,onOk:function(e){return r(e)},onCancel:d,okText:"Create",okButtonProps:{loading:o,htmlType:"submit"},bodyStyle:{margin:"0",padding:"10px"}},c.a.createElement(wt,{rows:4,label:"Note",value:a.note,name:"note",isError:l.note&&i.note||!o&&s.error.error.note,errorString:l.note&&i.note||!o&&s.error.error.note,onChange:function(e){t(e),u("note")}}),c.a.createElement(wt,{rows:2,label:"Summary",value:a.summary,name:"summary",isError:l.summary&&i.summary||!o&&s.error.error.summary,errorString:l.summary&&i.summary||!o&&s.error.error.summary,onChange:function(e){t(e),u("summary")}})))}))},ko=(Ge.a.Option,y.a().shape({})),So=function(e){Me.a.error({message:e||"Something Went Wrong",description:"",icon:c.a.createElement(Ct.a,{style:{color:"rgb(241, 67, 67)"}})})},wo={summary:"",note:""},To=function(e){var t=e.customer,a=e.setTagEditVisible,n=e.tagEditVisible,r=e.setOrderNotes,i=e.orderNotes,o=e.activeNote,l=U({},"updateOrderNote"),s=Object(g.a)(l,2),u=s[0],m=s[1],d=function(){var e=Object(b.a)(p.a.mark((function e(n,l){var s,u,d,b;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("orderValues",n),e.next=3,m({urlOptions:{placeHolders:{id:o._id}},body:{note:n.note,summary:n.summary,order:t.id}});case 3:(s=e.sent)&&"ok"===s.status?(p=void 0,Me.a.success({message:p||"Order Note Updated",description:"",icon:c.a.createElement(De.a,{style:{color:"rgba(0, 128, 0, 0.493)"}})}),u=function(){return i.map((function(e){return e._id})).indexOf(o._id)}(),d=Object.assign({},i[u],Object(f.a)({},s,{_id:o._id})),b=[].concat(Object(fe.a)(i.slice(0,u)),[d],Object(fe.a)(i.slice(u+1))),r(b),a(!1)):So(),l.setSubmitting(!1);case 6:case"end":return e.stop()}var p}),e)})));return function(t,a){return e.apply(this,arguments)}}(),h=function(e){a(!1)};return c.a.createElement(v.a,{onSubmit:function(e,t){return d(e,t)},validationSchema:ko,validateOnBlur:!1,enableReinitialize:!0,initialValues:Object(f.a)({},wo,{},o)},(function(e){var t=e.handleChange,a=e.values,r=e.handleSubmit,i=e.errors,o=(e.isValid,e.isSubmitting),l=e.touched,s=(e.handleBlur,e.setFieldTouched);e.handleReset;return c.a.createElement(c.a.Fragment,null,c.a.createElement(Ot.a,{title:"Update Order Note",visible:n,onOk:function(e){return r(e)},onCancel:h,okText:"Update",okButtonProps:{loading:o,htmlType:"submit"},bodyStyle:{margin:"0",padding:"10px"}},c.a.createElement(wt,{rows:4,label:"Note",value:a.note,name:"note",isError:l.note&&i.note||!o&&u.error.error.note,errorString:l.note&&i.note||!o&&u.error.error.note,onChange:function(e){t(e),s("note")}}),c.a.createElement(wt,{rows:2,label:"Summary",value:a.summary,name:"summary",isError:l.summary&&i.summary||!o&&u.error.error.summary,errorString:l.summary&&i.summary||!o&&u.error.error.summary,onChange:function(e){t(e),s("summary")}})))}))},_o=ot.a.Column,Do=(ot.a.ColumnGroup,O.a.Search,Object(u.b)((function(e){return{roles:e.globalState}}),null)((function(e){var t=e.roles,a=U({},"orderDetail"),n=Object(g.a)(a,2),r=n[0],i=n[1],l=U({},"getOrderNote"),s=Object(g.a)(l,2),u=s[0],m=s[1],d=U({},"tagProducts"),f=Object(g.a)(d,2),h=(f[0],f[1]),v=U({},"deleteOrderNote"),y=Object(g.a)(v,2),O=(y[0],y[1]),j=Object(o.useState)(!1),C=Object(g.a)(j,2),N=C[0],x=C[1],k=Object(o.useState)({}),S=Object(g.a)(k,2),w=S[0],T=S[1],_=Object(o.useState)(!1),I=Object(g.a)(_,2),L=I[0],P=I[1],M=Object(o.useState)(!1),R=Object(g.a)(M,2),F=R[0],A=R[1];console.log("orderDetailNotesState",u);var B=Object(_e.h)(),V=Object(_e.g)(),G=B.id,z=Object(o.useState)([]),H=Object(g.a)(z,2),W=H[0],q=H[1];Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i({urlOptions:{placeHolders:{id:G}}});case 2:return e.next=4,m({urlOptions:{placeHolders:{id:G}}});case 4:(t=e.sent)&&q(t);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[G]),console.log("orderDetailState",r),Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h({urlOptions:{placeHolders:{id:G}}});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[G]),console.log("orderDetailState",r),console.log("brandParams",B);var Y=function(){var e=Object(b.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O({urlOptions:{placeHolders:{id:t}}});case 2:(a=e.sent)&&"ok"===a.status&&(n=W&&W.filter((function(e){return e._id!==t})),q(n),r="Order note deleted!",Me.a.success({message:r||"Order Updated",description:"",icon:c.a.createElement(De.a,{style:{color:"rgba(0, 128, 0, 0.493)"}})}));case 4:case"end":return e.stop()}var r}),e)})));return function(t){return e.apply(this,arguments)}}();console.log("tagDetailState.data['products']",r.data.products);var K=function(e){return e.cover?e.cover:""};return console.log({tagDetailState:r}),c.a.createElement("div",{className:"brandDetailContainer"},c.a.createElement(To,{setOrderNotes:q,orderNotes:W,tagEditVisible:L,setTagEditVisible:P,customer:r.data,activeNote:w}),c.a.createElement("div",{className:"brandDetailContainer__heading"},c.a.createElement("h3",null,"Order Detail"),r.done&&r.data&&Object.keys(r.data).length>0&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",null,c.a.createElement(Hi,{setShowInvoice:A,showInvoice:F,id:r.data.id}),c.a.createElement(xo,{setOrderNotes:q,orderNotes:W,tagEditVisible:N,setTagEditVisible:x,customer:r.data}),c.a.createElement(E.a,{onClick:function(){return A(!0)},type:"link",icon:c.a.createElement(Oo.a,null)},"Generate Invoice"),D("postOrder",t)&&c.a.createElement(c.a.Fragment,null,c.a.createElement(E.a,{onClick:function(){return x(!0)},type:"link",icon:c.a.createElement(ht.a,null)},"Add note"))))),c.a.createElement(ma.a,{paragraph:{rows:2},loading:r.isLoading},r.done&&r.data&&!(Object.keys(r.data).length>0)&&c.a.createElement(we.a,{description:"No Order found",image:we.a.PRESENTED_IMAGE_SIMPLE}),r.done&&r.data&&Object.keys(r.data).length>0&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{style:{display:"flex"}},c.a.createElement("div",{style:{flex:1,marginRight:"20px"},className:"brandDetailContainer__header"},c.a.createElement("div",{className:"brandDetailContainer__header-info"},r.data.shortCode&&c.a.createElement("h2",null,"#",r.data.shortCode),c.a.createElement("h2",null,r.data.name),c.a.createElement("h3",null,r.data.description),r.data.url&&c.a.createElement("h3",{className:"m-0"},"URL:",c.a.createElement("span",null,r.data.url)),r.data.country&&c.a.createElement("h3",{className:"m-0"},"COUNTRY:",c.a.createElement("span",null,r.data.country)),r.data.city&&c.a.createElement("h3",{className:"m-0"},"CITY:",c.a.createElement("span",null,r.data.city)),r.data.address&&c.a.createElement("h3",{className:"m-0"},"ADDRESS:",c.a.createElement("span",null,r.data.address)),r.data.phone&&c.a.createElement("h3",{className:"m-0"},"PHONE:",c.a.createElement("span",null,r.data.phone)),r.data.email&&c.a.createElement("h3",{className:"m-0"},"EMAIL:",c.a.createElement("span",null,r.data.email)),r.data.paymentMethod&&c.a.createElement("h3",{className:"m-0"},"PAYMENT METHOD:",c.a.createElement("span",null,r.data.paymentMethod)),r.data.paymentStatus&&c.a.createElement("h3",null,"PAYMENT STATUS:",c.a.createElement("span",null,r.data.paymentStatus)),r.data.status&&c.a.createElement("h3",null,"ORDER STATUS:",c.a.createElement("span",null,r.data.status)),r.data.deliveryName&&c.a.createElement("h3",null,"DELIVERY LOCATION:",c.a.createElement("span",null,"".concat(r.data.deliveryName,", ").concat(r.data.deliveryPickUpLocation,", ").concat(r.data.deliveryCountryName))),r.data.total&&c.a.createElement("h3",null,"TOTAL ORDER PRICE:",c.a.createElement("span",null,"".concat(r.data.total))))),c.a.createElement("div",{style:{maxWidth:"35%",minWidth:"35%"},className:"brandDetailContainer__header"},c.a.createElement("div",{style:{width:"100%"},className:"brandDetailContainer__header-info"},c.a.createElement("h2",null,"Notes"),c.a.createElement("div",{style:{width:"100%"}},u.done&&W&&W.length>0&&W.map((function(e){return c.a.createElement("div",{className:"OrderNoteItem"},c.a.createElement("div",{className:"OrderNoteItem__action"},c.a.createElement("span",{className:"OrderNoteItem__action-edit",onClick:function(){T(e),P(!0)}},c.a.createElement(gt.a,null)),c.a.createElement("span",{className:"OrderNoteItem__action-delete",onClick:function(){return Y(e._id)}},c.a.createElement(ft.a,null))),c.a.createElement("h4",null,c.a.createElement("span",null,"NOTE:")," ".concat(e.note)),e.summary&&c.a.createElement(c.a.Fragment,null,c.a.createElement("h4",null,c.a.createElement("span",null,"SUMMARY :")," ".concat(e.summary))))})),u.done&&W&&!(Object.keys(W).length>0)&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{style:{width:"100%",margin:"100px 0",display:"flex",justifyContent:"center"}},c.a.createElement(we.a,{description:"No Notes found",image:we.a.PRESENTED_IMAGE_SIMPLE})))))),c.a.createElement("div",null)))),r.done&&r.data&&Object.keys(r.data).length>0&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"brandDetailContainer__heading"},c.a.createElement("h3",null,"Products"))),c.a.createElement("div",{className:"brandDetailContainer__body"},r.done&&r.data&&Object.keys(r.data).length>0&&r.data.products&&!(r.data.products.length>0)&&c.a.createElement("div",{style:{marginTop:"100px"}},c.a.createElement(we.a,{description:"No Products exists for this order",image:we.a.PRESENTED_IMAGE_SIMPLE})),r.done&&r.data&&Object.keys(r.data).length>0&&r.data.products&&r.data.products.length>0&&c.a.createElement(c.a.Fragment,null,c.a.createElement(ot.a,{style:{paddingTop:"10px",borderRadius:"5px !important",overflow:"hidden",boxShadow:"0 0.125rem 0.625rem rgba(227, 231, 250, 0.3), 0 0.0625rem 0.125rem rgba(206, 220, 233, 0.4)"},size:"small",dataSource:r.data.products,tableLayout:"auto",onHeaderRow:function(e){return{style:{color:"red !important"}}}},c.a.createElement(_o,{title:"",dataIndex:"cover",key:"id",width:"80px",className:"classnameofthecolumn",render:function(e,t){return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"listCoverImage",onClick:function(){V.push("/admin/product/".concat(t.id))}},c.a.createElement("img",{src:K(t),alt:""})))}}),c.a.createElement(_o,{title:"Name",dataIndex:"name",key:"id",className:"classnameofthecolumn",render:function(e,t){return c.a.createElement(c.a.Fragment,null,c.a.createElement("h4",{onClick:function(){V.push("/admin/product/".concat(t.id))},style:{fontWeight:400,color:"#555",cursor:"pointer"}},e))}}),c.a.createElement(_o,{title:"stock",dataIndex:"inStock",key:"id",className:"classnameofthecolumn",render:function(e,t){return c.a.createElement(c.a.Fragment,null,c.a.createElement("h4",{style:{fontWeight:400,color:"#555",cursor:"pointer"}},e?"inStock":"out of stock"))}}),c.a.createElement(_o,{title:"Unit Price",dataIndex:"unitPrice",key:"id",className:"classnameofthecolumn"}),c.a.createElement(_o,{title:"Quantity",dataIndex:"quantity",key:"id",className:"classnameofthecolumn"}),c.a.createElement(_o,{title:"Total Price",dataIndex:"price",key:"id",className:"classnameofthecolumn"})))))}))),Io=(Ge.a.Option,ot.a.Column,ot.a.ColumnGroup,["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][(new Date).getMonth()]),Lo=function(e){return"".concat(e).concat(Io)},Po={border:0,borderRadius:"8px",fontSize:14,boxShadow:"2px 2px 5px 3px rgba(0,0,0,0.15)"},Mo=function(e){Object(_e.g)();var t=U({},"getAnalyticsOrders"),a=Object(g.a)(t,2),n=a[0],r=a[1],i=Object(o.useState)([]),l=Object(g.a)(i,2),s=l[0],u=l[1];return Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r({urlOptions:{params:{metricType:"dayOfMonth"}}});case 2:(t=e.sent)&&u(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),console.log("orderAnalyticsVisitsState",n),c.a.createElement("div",{className:"overviewContainer__body-apiVisits"},c.a.createElement("div",{className:"overviewContainer__body-apiVisits-header"},c.a.createElement("div",{className:"overviewContainer__body-apiVisits-header-info"},c.a.createElement("h2",null,"This Month"),c.a.createElement("h3",null,"Order report by days of month"))),c.a.createElement("div",{className:"overviewContainer__body-body"},n.isLoading&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",margin:"100px 0"}},c.a.createElement(Re.a,{size:"large"}))),n.done&&s&&s.length>0&&c.a.createElement(Ue.g,{width:"100%",height:300},c.a.createElement(Ue.b,{data:s,fontSize:12},c.a.createElement("defs",null,c.a.createElement("linearGradient",{id:"rainGradient",x1:"0",y1:"0",x2:"0",y2:"1"},c.a.createElement("stop",{offset:"0%",stopColor:"#1890ff"}),c.a.createElement("stop",{offset:"100%",stopColor:"#3066BE22"}))),c.a.createElement(Ue.c,{vertical:!1,strokeDasharray:"3 3",stroke:"#d6d9da"}),c.a.createElement(Ue.i,{dataKey:"dayOfMonth",tickFormatter:Lo}),c.a.createElement(Ue.j,{orientation:"left",width:20,axisLine:!1,tickLine:!1}),c.a.createElement(Ue.h,{cursor:!1,contentStyle:Po,formatter:function(e,t){return["".concat(e),"".concat(t)]}}),c.a.createElement(Ue.a,{dataKey:"count",name:"Count",type:"basis",fill:"url(#rainGradient)"}))),n.done&&!(n.data.length>0)&&c.a.createElement("div",{style:{marginTop:"00px"}},c.a.createElement(we.a,{description:"No Visits for this week",image:we.a.PRESENTED_IMAGE_SIMPLE}))),c.a.createElement("div",{className:"overviewContainer__body-footer"},c.a.createElement("h3",null,c.a.createElement("span",null,c.a.createElement(et.a,null)),"In the last month")))},Ro=(Ge.a.Option,ot.a.Column,ot.a.ColumnGroup,["Sat","Sun","Mon","Tues","Wed","Thur","Fri"]),Fo=function(e){return Ro[e-1]},Ao={border:0,borderRadius:"8px",fontSize:14,boxShadow:"2px 2px 5px 3px rgba(0,0,0,0.15)"},Bo=function(e){Object(_e.g)();var t=U({},"getAnalyticsOrders"),a=Object(g.a)(t,2),n=a[0],r=a[1],i=Object(o.useState)([]),l=Object(g.a)(i,2),s=l[0],u=l[1];return Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r({urlOptions:{params:{metricType:"dayOfWeek"}}});case 2:(t=e.sent)&&u(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),console.log("orderAnalyticsVisitsState",n),c.a.createElement("div",{className:"overviewContainer__body-apiVisits"},c.a.createElement("div",{className:"overviewContainer__body-apiVisits-header"},c.a.createElement("div",{className:"overviewContainer__body-apiVisits-header-info"},c.a.createElement("h2",null,"This Week"),c.a.createElement("h3",null,"Order report by days of week"))),c.a.createElement("div",{className:"overviewContainer__body-body"},n.isLoading&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",margin:"100px 0"}},c.a.createElement(Re.a,{size:"large"}))),n.done&&s&&s.length>0&&c.a.createElement(Ue.g,{width:"100%",height:300},c.a.createElement(Ue.b,{data:s,fontSize:12},c.a.createElement("defs",null,c.a.createElement("linearGradient",{id:"rainGradient",x1:"0",y1:"0",x2:"0",y2:"1"},c.a.createElement("stop",{offset:"0%",stopColor:"#1890ff"}),c.a.createElement("stop",{offset:"100%",stopColor:"#3066BE22"}))),c.a.createElement(Ue.c,{vertical:!1,strokeDasharray:"3 3",stroke:"#d6d9da"}),c.a.createElement(Ue.i,{dataKey:"dayOfWeek",tickFormatter:Fo}),c.a.createElement(Ue.j,{orientation:"left",width:20,axisLine:!1,tickLine:!1}),c.a.createElement(Ue.h,{cursor:!1,contentStyle:Ao,formatter:function(e,t){return["".concat(e),"".concat(t)]}}),c.a.createElement(Ue.a,{dataKey:"count",name:"Count",type:"basis",fill:"url(#rainGradient)"}))),n.done&&!(n.data.length>0)&&c.a.createElement("div",{style:{marginTop:"00px"}},c.a.createElement(we.a,{description:"No Visits for this week",image:we.a.PRESENTED_IMAGE_SIMPLE}))),c.a.createElement("div",{className:"overviewContainer__body-footer"},c.a.createElement("h3",null,c.a.createElement("span",null,c.a.createElement(et.a,null)),"In the last month")))},Vo=(Ge.a.Option,ot.a.Column,ot.a.ColumnGroup,{border:0,borderRadius:"8px",fontSize:14,boxShadow:"2px 2px 5px 3px rgba(0,0,0,0.15)"}),Uo=function(e){Object(_e.g)();var t=U({},"getAnalyticsOrders"),a=Object(g.a)(t,2),n=a[0],r=a[1],i=Object(o.useState)([]),l=Object(g.a)(i,2),s=l[0],u=l[1];return Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r({urlOptions:{params:{metricType:"date"}}});case 2:(t=e.sent)&&u(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),console.log("orderAnalyticsVisitsState",n),c.a.createElement("div",{className:"overviewContainer__body-apiVisits"},c.a.createElement("div",{className:"overviewContainer__body-apiVisits-header"},c.a.createElement("div",{className:"overviewContainer__body-apiVisits-header-info"},c.a.createElement("h2",null,"BY DATE"),c.a.createElement("h3",null,"Order report by date"))),c.a.createElement("div",{className:"overviewContainer__body-body"},n.isLoading&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",margin:"100px 0"}},c.a.createElement(Re.a,{size:"large"}))),n.done&&s&&s.length>0&&c.a.createElement(Ue.g,{width:"100%",height:300},c.a.createElement(Ue.b,{data:s,fontSize:12},c.a.createElement("defs",null,c.a.createElement("linearGradient",{id:"rainGradient",x1:"0",y1:"0",x2:"0",y2:"1"},c.a.createElement("stop",{offset:"0%",stopColor:"#1890ff"}),c.a.createElement("stop",{offset:"100%",stopColor:"#3066BE22"}))),c.a.createElement(Ue.c,{vertical:!1,strokeDasharray:"3 3",stroke:"#d6d9da"}),c.a.createElement(Ue.i,{dataKey:"date"}),c.a.createElement(Ue.j,{orientation:"left",width:20,axisLine:!1,tickLine:!1}),c.a.createElement(Ue.h,{cursor:!1,contentStyle:Vo,formatter:function(e,t){return["".concat(e),"".concat(t)]}}),c.a.createElement(Ue.a,{dataKey:"count",name:"Count",type:"basis",fill:"url(#rainGradient)"}))),n.done&&!(n.data.length>0)&&c.a.createElement("div",{style:{marginTop:"00px"}},c.a.createElement(we.a,{description:"No Visits for date",image:we.a.PRESENTED_IMAGE_SIMPLE}))),c.a.createElement("div",{className:"overviewContainer__body-footer"},c.a.createElement("h3",null,c.a.createElement("span",null,c.a.createElement(et.a,null)),"In the last month")))},Go=(Ge.a.Option,ot.a.Column,ot.a.ColumnGroup,function(e){return"".concat(e,"hr")}),zo={border:0,borderRadius:"8px",fontSize:14,boxShadow:"2px 2px 5px 3px rgba(0,0,0,0.15)"},Ho=function(e){Object(_e.g)();var t=U({},"getAnalyticsOrders"),a=Object(g.a)(t,2),n=a[0],r=a[1],i=Object(o.useState)([]),l=Object(g.a)(i,2),s=l[0],u=l[1];return Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r({urlOptions:{params:{metricType:"hour"}}});case 2:(t=e.sent)&&u(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),console.log("orderAnalyticsVisitsState",n),c.a.createElement("div",{className:"overviewContainer__body-apiVisits"},c.a.createElement("div",{className:"overviewContainer__body-apiVisits-header"},c.a.createElement("div",{className:"overviewContainer__body-apiVisits-header-info"},c.a.createElement("h2",null,"BY HOUR"),c.a.createElement("h3",null,"Order report by hours"))),c.a.createElement("div",{className:"overviewContainer__body-body"},n.isLoading&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",margin:"100px 0"}},c.a.createElement(Re.a,{size:"large"}))),n.done&&s&&s.length>0&&c.a.createElement(Ue.g,{width:"100%",height:300},c.a.createElement(Ue.b,{data:s,fontSize:12},c.a.createElement("defs",null,c.a.createElement("linearGradient",{id:"rainGradient",x1:"0",y1:"0",x2:"0",y2:"1"},c.a.createElement("stop",{offset:"0%",stopColor:"#1890ff"}),c.a.createElement("stop",{offset:"100%",stopColor:"#3066BE22"}))),c.a.createElement(Ue.c,{vertical:!1,strokeDasharray:"3 3",stroke:"#d6d9da"}),c.a.createElement(Ue.i,{dataKey:"hour",tickFormatter:Go}),c.a.createElement(Ue.j,{orientation:"left",width:20,axisLine:!1,tickLine:!1}),c.a.createElement(Ue.h,{cursor:!1,contentStyle:zo,formatter:function(e,t){return["".concat(e),"".concat(t)]}}),c.a.createElement(Ue.a,{dataKey:"count",name:"Count",type:"basis",fill:"url(#rainGradient)"}))),n.done&&!(n.data.length>0)&&c.a.createElement("div",{style:{marginTop:"00px"}},c.a.createElement(we.a,{description:"No Visits for hours",image:we.a.PRESENTED_IMAGE_SIMPLE}))),c.a.createElement("div",{className:"overviewContainer__body-footer"},c.a.createElement("h3",null,c.a.createElement("span",null,c.a.createElement(et.a,null)),"In the last month")))},Wo=(Ge.a.Option,ot.a.Column,ot.a.ColumnGroup,["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]),qo=function(e){return"".concat(Wo[e-1])},Yo={border:0,borderRadius:"8px",fontSize:14,boxShadow:"2px 2px 5px 3px rgba(0,0,0,0.15)"},Ko=function(e){Object(_e.g)();var t=U({},"getAnalyticsOrders"),a=Object(g.a)(t,2),n=a[0],r=a[1],i=Object(o.useState)([]),l=Object(g.a)(i,2),s=l[0],u=l[1];return Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r({urlOptions:{params:{metricType:"month"}}});case 2:(t=e.sent)&&u(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),console.log("orderAnalyticsVisitsStateMonth",n),c.a.createElement("div",{className:"overviewContainer__body-apiVisits"},c.a.createElement("div",{className:"overviewContainer__body-apiVisits-header"},c.a.createElement("div",{className:"overviewContainer__body-apiVisits-header-info"},c.a.createElement("h2",null,"BY MONTH"),c.a.createElement("h3",null,"Order report by month"))),c.a.createElement("div",{className:"overviewContainer__body-body"},n.isLoading&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",margin:"100px 0"}},c.a.createElement(Re.a,{size:"large"}))),n.done&&s&&s.length>0&&c.a.createElement(Ue.g,{width:"100%",height:300},c.a.createElement(Ue.b,{data:s,fontSize:12},c.a.createElement("defs",null,c.a.createElement("linearGradient",{id:"rainGradient",x1:"0",y1:"0",x2:"0",y2:"1"},c.a.createElement("stop",{offset:"0%",stopColor:"#1890ff"}),c.a.createElement("stop",{offset:"100%",stopColor:"#3066BE22"}))),c.a.createElement(Ue.c,{vertical:!1,strokeDasharray:"3 3",stroke:"#d6d9da"}),c.a.createElement(Ue.i,{dataKey:"month",tickFormatter:qo}),c.a.createElement(Ue.j,{orientation:"left",width:20,axisLine:!1,tickLine:!1}),c.a.createElement(Ue.h,{cursor:!1,contentStyle:Yo,formatter:function(e,t){return["".concat(e),"".concat(t)]}}),c.a.createElement(Ue.a,{dataKey:"count",name:"Count",type:"basis",fill:"url(#rainGradient)"}))),n.done&&!(n.data.length>0)&&c.a.createElement("div",{style:{marginTop:"00px"}},c.a.createElement(we.a,{description:"No Visits for this months",image:we.a.PRESENTED_IMAGE_SIMPLE}))),c.a.createElement("div",{className:"overviewContainer__body-footer"},c.a.createElement("h3",null,c.a.createElement("span",null,c.a.createElement(et.a,null)),"In the last month")))},Jo=(Ge.a.Option,ot.a.Column,ot.a.ColumnGroup,{border:0,borderRadius:"8px",fontSize:14,boxShadow:"2px 2px 5px 3px rgba(0,0,0,0.15)"}),Qo=function(e){Object(_e.g)();var t=U({},"getAnalyticsOrders"),a=Object(g.a)(t,2),n=a[0],r=a[1],i=Object(o.useState)([]),l=Object(g.a)(i,2),s=l[0],u=l[1];return Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r({urlOptions:{params:{metricType:"year"}}});case 2:(t=e.sent)&&u(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),console.log("orderAnalyticsVisitsState",n),c.a.createElement("div",{className:"overviewContainer__body-apiVisits"},c.a.createElement("div",{className:"overviewContainer__body-apiVisits-header"},c.a.createElement("div",{className:"overviewContainer__body-apiVisits-header-info"},c.a.createElement("h2",null,"By Year"),c.a.createElement("h3",null,"Order report by year"))),c.a.createElement("div",{className:"overviewContainer__body-body"},n.isLoading&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",margin:"100px 0"}},c.a.createElement(Re.a,{size:"large"}))),n.done&&s&&s.length>0&&c.a.createElement(Ue.g,{width:"100%",height:300},c.a.createElement(Ue.b,{data:s,fontSize:12},c.a.createElement("defs",null,c.a.createElement("linearGradient",{id:"rainGradient",x1:"0",y1:"0",x2:"0",y2:"1"},c.a.createElement("stop",{offset:"0%",stopColor:"#1890ff"}),c.a.createElement("stop",{offset:"100%",stopColor:"#3066BE22"}))),c.a.createElement(Ue.c,{vertical:!1,strokeDasharray:"3 3",stroke:"#d6d9da"}),c.a.createElement(Ue.i,{dataKey:"year"}),c.a.createElement(Ue.j,{orientation:"left",width:20,axisLine:!1,tickLine:!1}),c.a.createElement(Ue.h,{cursor:!1,contentStyle:Jo,formatter:function(e,t){return["".concat(e),"".concat(t)]}}),c.a.createElement(Ue.a,{dataKey:"count",name:"Count",type:"basis",fill:"url(#rainGradient)"}))),n.done&&!(n.data.length>0)&&c.a.createElement("div",{style:{marginTop:"00px"}},c.a.createElement(we.a,{description:"No Visits for this year",image:we.a.PRESENTED_IMAGE_SIMPLE}))),c.a.createElement("div",{className:"overviewContainer__body-footer"},c.a.createElement("h3",null,c.a.createElement("span",null,c.a.createElement(et.a,null)),"In the last year")))},Xo=(Ge.a.Option,ot.a.Column),Zo=(ot.a.ColumnGroup,function(e){Object(_e.g)();var t=U({},"getAnalyticsOrders"),a=Object(g.a)(t,2),n=a[0],r=a[1],i=Object(o.useState)([]),l=Object(g.a)(i,2),s=l[0],u=l[1];return Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r({urlOptions:{params:{metricType:"deliveryRegion"}}});case 2:(t=e.sent)&&t.length>0?(a=t.map((function(e){return Object(f.a)({},e,{name:e.deliveryRegion&&Object.keys(e.deliveryRegion).length>0?e.deliveryRegion.name:"Region Name"})})),u(a)):u([]);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),console.log("orderListByDeliveryRegion",n),c.a.createElement("div",{className:"overviewContainer__body-apiVisits"},c.a.createElement("div",{className:"overviewContainer__body-apiVisits-header"},c.a.createElement("div",{className:"overviewContainer__body-apiVisits-header-info"},c.a.createElement("h2",null,"BY DELIVERY REGION"),c.a.createElement("h3",null,"Order report by delivery region"))),c.a.createElement("div",{className:"overviewContainer__body-body"},n.isLoading&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",margin:"100px 0"}},c.a.createElement(Re.a,{size:"large"}))),n.done&&s&&s.length>0&&c.a.createElement(c.a.Fragment,null,c.a.createElement(ot.a,{pagination:{defaultPageSize:5},style:{},size:"small",dataSource:s,tableLayout:"auto",onHeaderRow:function(e){return{style:{color:"red !important"}}}},c.a.createElement(Xo,{title:"Name",dataIndex:"name",key:"id",className:"classnameofthecolumn",render:function(e,t){return c.a.createElement(c.a.Fragment,null,c.a.createElement("h4",{onClick:function(){},style:{fontWeight:400,color:"#555",textTransform:"uppercase"}},e||"Deleted"))}}),c.a.createElement(Xo,{title:"Count",dataIndex:"count",key:"id",className:"classnameofthecolumn"}))),n.done&&!(n.data.length>0)&&c.a.createElement("div",{style:{marginTop:"00px"}},c.a.createElement(we.a,{description:"No Visits for date",image:we.a.PRESENTED_IMAGE_SIMPLE}))),c.a.createElement("div",{className:"overviewContainer__body-footer"},c.a.createElement("h3",null,c.a.createElement("span",null,c.a.createElement(et.a,null)),"In the last month")))}),$o=function(e){var t=U({},"getAnalyticsPageVisitCount"),a=Object(g.a)(t,2),n=(a[0],a[1]),r=U({},"getAnalyticsPageVisitCount"),i=Object(g.a)(r,2),l=(i[0],i[1]),s=U({},"getAnalyticsTotalUserCount"),u=Object(g.a)(s,2),m=(u[0],u[1]);return Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m({});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n({params:"product"});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l({params:"category"});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),c.a.createElement("div",{className:"overviewContainer"},c.a.createElement("div",{className:"overviewContainer__body"},c.a.createElement(Zo,null),c.a.createElement(Bo,null),c.a.createElement(Mo,null)),c.a.createElement("div",{className:"overviewContainer__body"},c.a.createElement(Uo,null),c.a.createElement(Ho,null)),c.a.createElement("div",{className:"overviewContainer__body"},c.a.createElement(Ko,null),c.a.createElement(Qo,null)))},ec=function(e){return c.a.createElement("div",null,"ConfigOrderStatus")},tc=a(900),ac=function(e){var t=e.setItemsList,a=e.itemsList,n=e.componentItem,r=Object(o.useState)({title:n.title,target:n.target,text:n.text,image:n.image}),i=Object(g.a)(r,2),l=i[0],s=i[1],u=Object(o.useState)([]),m=Object(g.a)(u,2),d=m[0],p=m[1],b=Object(o.useState)(!1),h=Object(g.a)(b,2),E=h[0],v=h[1],y=function(e){var t=e.target.name,a=e.target.value;s(Object(f.a)({},l,Object(ge.a)({},t,a)))};Object(o.useEffect)((function(){if(d.length>0){var e=d.map((function(e){return e.id}));s(Object(f.a)({},l,{image:Object(fe.a)(e)}))}else s(Object(f.a)({},l,{image:[]}))}),[d]),Object(o.useEffect)((function(){var e=a.map((function(e){return e.id})).indexOf(n.id),r=Object.assign({},a[e],Object(f.a)({},l)),i=[].concat(Object(fe.a)(a.slice(0,e)),[r],Object(fe.a)(a.slice(e+1)));t(i)}),[l]);return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"componentItemsContainer__item"},c.a.createElement(xa,{label:"Title",value:l.title,name:"title",onChange:y}),c.a.createElement(xa,{label:"Text",value:l.text,name:"text",onChange:y}),c.a.createElement(xa,{label:"Target",value:l.target,name:"target",onChange:y}),c.a.createElement("h3",{className:"inputFieldLabel-small"},"Images"),c.a.createElement("div",{style:{marginBottom:"-1px"}}),c.a.createElement("div",{className:"aboutToUploadImagesContainer"},d&&d.length>0&&d.map((function(e,t){return c.a.createElement("div",{className:"aboutToUploadImagesContainer__item aboutToUploadImagesContainer__item-small"},c.a.createElement("div",{className:"aboutToUploadImagesContainer__item-imgContainer"},c.a.createElement("img",{src:e.cover,alt:e.alt})),c.a.createElement("span",{onClick:function(){return function(e){var t=d&&d.filter((function(t){return t.id!==e}));p(t)}(e.id)},className:"aboutToUploadImagesContainer__item-remove"},c.a.createElement(Nt.a,null)))})),c.a.createElement(pt.a,{title:"Attach images"},c.a.createElement("div",{onClick:function(){v(!0)},className:"aboutToUploadImagesContainer__uploadItem aboutToUploadImagesContainer__uploadItem-small"},c.a.createElement(kt.a,null),c.a.createElement("span",{className:"aboutToUploadImagesContainer__uploadItem-plus"},c.a.createElement(ht.a,null)))))),c.a.createElement(Vt,{setvisible:v,visible:E,myImages:d,setmyImages:p,isModalOpenForImages:!0}))},nc=y.a().shape({groupName:y.c().label("Name").required("Name is required").min(3,"Name must have at least 3 characters")}),rc=function(e){Me.a.success({message:e||"Something Went Wrong",description:"",icon:c.a.createElement(Ct.a,{style:{color:"rgb(241, 67, 67)"}})})},ic={groupName:"",items:[]},oc=function(e){var t=e.addNewCategoryVisible,a=e.setAddNewCategoryVisible,n=e.componentList,r=e.setComponentList,i=U({},"addComponent"),l=Object(g.a)(i,2),s=l[0],u=l[1],m=Object(o.useState)(!1),d=Object(g.a)(m,2),h=(d[0],d[1],Object(o.useState)([])),y=Object(g.a)(h,2),O=y[0],j=y[1],N=function(){var e=Object(b.a)(p.a.mark((function e(t,i){var o;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u({body:{groupName:t.groupName,items:O}});case 2:(o=e.sent)&&"ok"===o.status?(l=void 0,Me.a.success({message:l||"Component Created",description:"",icon:c.a.createElement(De.a,{style:{color:"rgba(0, 128, 0, 0.493)"}})}),r([].concat(Object(fe.a)(n),[Object(f.a)({id:o._id||"",key:o._id||"",groupName:o.groupName||""},o)])),i.resetForm(),j([]),a(!1)):rc(),i.setSubmitting(!1);case 5:case"end":return e.stop()}var l}),e)})));return function(t,a){return e.apply(this,arguments)}}();Object(o.useEffect)((function(){if(!s.isLoading){var e=s.error;if(e.isError&&Object.keys(e.error).length>0)(Object.values(e.error).length>0?Object.values(e.error):[]).forEach((function(e,t){if("string"===typeof e)rc(e);else if("object"===typeof e){if(e&&Object.keys(e).length>0)Object.values(e).forEach((function(e){rc(e)}))}}))}}),[s]);var x=function(e){a(!1)},k=function(e,t){return!e.groupName},S=function(){j([].concat(Object(fe.a)(O),[{title:"",target:"",text:"",image:[],id:"".concat(O.length)}]))};return c.a.createElement(v.a,{onSubmit:function(e,t){return N(e,t)},validationSchema:nc,validateOnBlur:!1,enableReinitialize:!0,initialValues:Object(f.a)({},ic)},(function(e){var a=e.handleChange,n=e.values,r=e.handleSubmit,i=e.errors,o=(e.isValid,e.isSubmitting),l=e.touched,u=(e.handleBlur,e.setFieldTouched);e.handleReset;return c.a.createElement(c.a.Fragment,null,c.a.createElement(Ot.a,{style:{top:"40px"},title:"Add New Component",visible:t,onOk:function(e){return r(e)},onCancel:x,okText:"Create",okButtonProps:{loading:o,htmlType:"submit",disabled:k(n)},width:"50vw",bodyStyle:{margin:"0",padding:"10px"}},c.a.createElement(C,{label:"Name",value:n.groupName,name:"groupName",isError:l.groupName&&i.groupName||!o&&s.error.error.name,errorString:l.groupName&&i.groupName||!o&&s.error.error.name,onChange:function(e){a(e),u("groupName")}}),c.a.createElement("div",{style:{marginTop:"15px"}}),c.a.createElement("h3",{className:"inputFieldLabel"},"Children"),c.a.createElement("div",{className:"componentItemsContainer"},O.map((function(e){return c.a.createElement(ac,{componentItem:e,itemsList:O,setItemsList:j})})),c.a.createElement(E.a,{size:"small",onClick:S,style:{width:"290px",minHeight:"145px",marginTop:"0px",borderRadius:"8px"},type:"dashed",icon:c.a.createElement(ht.a,null)},"Add Childrens")),c.a.createElement("div",{style:{marginTop:"20px"}})))}))},cc=a(952),lc=function(e){e.setComponentList,e.componentList;var t=e.item,a=e.component,n=e.componentUpdate,r=e.isLoadingUpdate,i=Object(o.useState)({title:t.title,target:t.target,text:t.text,image:t.image}),l=Object(g.a)(i,2),s=l[0],u=l[1];console.log("localComponentItem",s),console.log("componentItem",t);var m=Object(o.useState)([]),d=Object(g.a)(m,2),p=d[0],b=d[1],h=Object(o.useState)(!1),v=Object(g.a)(h,2),y=v[0],O=v[1],j=function(e){var t=e.target.name,a=e.target.value;u(Object(f.a)({},s,Object(ge.a)({},t,a)))};Object(o.useEffect)((function(){p.length>0&&u(Object(f.a)({},s,{image:Object(fe.a)(new Set([].concat(Object(fe.a)(s.image),Object(fe.a)(p))))}))}),[p]),Object(o.useEffect)((function(){t&&t.image&&t.image.length>0&&b(t.image)}),[]);return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{style:{width:"100%",boxShadow:"none"},className:"componentItemsContainer__item"},c.a.createElement(xa,{label:"Title",value:s.title,name:"title",onChange:j}),c.a.createElement(xa,{label:"Text",value:s.text,name:"text",onChange:j}),c.a.createElement(xa,{label:"Target",value:s.target,name:"target",onChange:j}),c.a.createElement("h3",{className:"inputFieldLabel-small"},"Images"),c.a.createElement("div",{style:{marginBottom:"-1px"}}),c.a.createElement("div",{className:"aboutToUploadImagesContainer"},s.image&&s.image.length>0&&s.image.map((function(e,t){return c.a.createElement("div",{className:"aboutToUploadImagesContainer__item aboutToUploadImagesContainer__item-small"},c.a.createElement("div",{className:"aboutToUploadImagesContainer__item-imgContainer"},c.a.createElement("img",{src:e.cover,alt:e.alt})),c.a.createElement("span",{onClick:function(){return function(e){var t=s.image&&s.image.length>0&&s.image.filter((function(t){return t.id!==e}));u(Object(f.a)({},s,{image:Object(fe.a)(t)})),b(t)}(e.id)},className:"aboutToUploadImagesContainer__item-remove"},c.a.createElement(Nt.a,null)))})),c.a.createElement(pt.a,{title:"Attach images"},c.a.createElement("div",{onClick:function(){O(!0)},className:"aboutToUploadImagesContainer__uploadItem aboutToUploadImagesContainer__uploadItem-small"},c.a.createElement(kt.a,null),c.a.createElement("span",{className:"aboutToUploadImagesContainer__uploadItem-plus"},c.a.createElement(ht.a,null))))),c.a.createElement(E.a,{style:{marginTop:"15px"},icon:c.a.createElement(cc.a,null),className:"btnPrimaryClassNameoutline",onClick:function(){n(t,a,s)}},r?"Saving...":"Save")),c.a.createElement(Vt,{setvisible:O,visible:y,myImages:p,setmyImages:b,isModalOpenForImages:!0}))},sc=(y.a().shape({groupName:y.c().label("Name").required("Name is required").min(3,"Name must have at least 3 characters")}),function(e){var t=e.addNewCategoryVisible,a=e.setAddNewCategoryVisible,n=(e.componentList,e.setComponentList,e.updateComponentByAddingItem),r=e.componentId,i=Object(o.useState)({title:"",target:"",text:"",image:[]}),l=Object(g.a)(i,2),s=l[0],u=l[1],m=Object(o.useState)([]),d=Object(g.a)(m,2),p=d[0],b=d[1],h=Object(o.useState)(!1),E=Object(g.a)(h,2),v=E[0],y=E[1],O=function(e){var t=e.target.name,a=e.target.value;u(Object(f.a)({},s,Object(ge.a)({},t,a)))};Object(o.useEffect)((function(){if(p.length>0){var e=p.map((function(e){return e.id}));u(Object(f.a)({},s,{image:Object(fe.a)(e)}))}else u(Object(f.a)({},s,{image:[]}))}),[p]);return c.a.createElement(c.a.Fragment,null,c.a.createElement(Ot.a,{style:{top:"40px"},destroyOnClose:!0,title:"Add New Component Item",visible:t,onOk:function(e){n(s,r)},onCancel:function(e){a(!1)},okText:"Add",okButtonProps:{htmlType:"submit"},width:"400px",bodyStyle:{margin:"0",padding:"10px"}},c.a.createElement(C,{label:"Title",value:s.title,name:"title",onChange:O}),c.a.createElement(C,{label:"Text",value:s.text,name:"text",onChange:O}),c.a.createElement(C,{label:"Target",value:s.target,name:"target",onChange:O}),c.a.createElement("h3",{className:"inputFieldLabel-small"},"Images"),c.a.createElement("div",{className:"aboutToUploadImagesContainer"},p&&p.length>0&&p.map((function(e,t){return c.a.createElement("div",{className:"aboutToUploadImagesContainer__item"},c.a.createElement("div",{className:"aboutToUploadImagesContainer__item-imgContainer"},c.a.createElement("img",{src:e.cover,alt:e.alt})),c.a.createElement("span",{onClick:function(){return function(e){var t=p&&p.filter((function(t){return t.id!==e}));b(t)}(e.id)},className:"aboutToUploadImagesContainer__item-remove"},c.a.createElement(Nt.a,null)))})),c.a.createElement(pt.a,{title:"Attach images"},c.a.createElement("div",{onClick:function(){y(!0)},className:"aboutToUploadImagesContainer__uploadItem"},c.a.createElement(kt.a,null),c.a.createElement("span",{className:"aboutToUploadImagesContainer__uploadItem-plus"},c.a.createElement(ht.a,null))))),c.a.createElement(Vt,{setvisible:y,visible:v,myImages:p,setmyImages:b,isModalOpenForImages:!0})))}),uc=tc.a.Panel,mc=O.a.Search,dc=function(e){Me.a.success({message:e||"Component Created",description:"",icon:c.a.createElement(De.a,{style:{color:"rgba(0, 128, 0, 0.493)"}})})},pc=function(e){Me.a.error({message:e||"Something Went Wrong",description:"",icon:c.a.createElement(De.a,{style:{color:"rgb(241, 67, 67)"}})})};var bc=function(e,t,a){return c.a.createElement("div",{style:{display:"flex"}},c.a.createElement(pt.a,{placement:"top",title:"Edit Component"},c.a.createElement("a",{href:"##"},c.a.createElement(gt.a,{onClick:function(e){}}))),c.a.createElement("div",{style:{marginLeft:"15px"}}),c.a.createElement("a",{href:"##",style:{color:"rgb(241, 67, 67)"}},c.a.createElement(bt.a,{onConfirm:function(){return e(a,t)},title:"Are you sure\uff1f",okText:"Yes",cancelText:"No"},c.a.createElement(ft.a,{onClick:function(e){e.stopPropagation()}}))))},gc=function(e,t,a,n){return c.a.createElement("div",{style:{display:"flex"}},c.a.createElement(pt.a,{placement:"top",title:"Add new item Component"},c.a.createElement("a",{href:"##"},c.a.createElement(ht.a,{onClick:function(t){e(!0),n(a)}}))),c.a.createElement("div",{style:{marginLeft:"15px"}}),c.a.createElement(pt.a,{placement:"top",title:"Edit Component"},c.a.createElement("a",{href:"##"},c.a.createElement(gt.a,{onClick:function(e){}}))),c.a.createElement("div",{style:{marginLeft:"15px"}}),c.a.createElement("a",{href:"##",style:{color:"rgb(241, 67, 67)"}},c.a.createElement(bt.a,{onConfirm:function(){return t(a)},title:"Are you sure\uff1f",okText:"Yes",cancelText:"No"},c.a.createElement(ft.a,{onClick:function(e){e.stopPropagation()}}))))},fc=function(e){var t=Object(o.useState)(!1),a=Object(g.a)(t,2),n=(a[0],a[1],Object(o.useState)(!1)),r=Object(g.a)(n,2),i=r[0],l=r[1],s=Object(o.useState)(!1),u=Object(g.a)(s,2),m=u[0],d=u[1],h=Object(o.useState)(""),v=Object(g.a)(h,2),y=v[0],O=v[1],j=U({},"componentList"),N=Object(g.a)(j,2),x=N[0],k=N[1],S=U({},"deleteComponent"),w=Object(g.a)(S,2),T=(w[0],w[1]),_=U({},"updateComponent"),D=Object(g.a)(_,2),I=D[0],L=D[1],P=Object(o.useState)([]),M=Object(g.a)(P,2),R=M[0],F=M[1];Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k({urlOptions:{params:{imageValue:!0}}});case 2:t=e.sent,F(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),console.log("componentListd",R);var A=function(){var e=Object(b.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T({urlOptions:{placeHolders:{id:t}}});case 2:(a=e.sent)&&"ok"===a.status?(dc("Component Deleted"),n=R.filter((function(e){return e.id!==t})),F(n)):pc("Couldn't delete, Something went wrong");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=function(){var e=Object(b.a)(p.a.mark((function e(t,a,n){var r,i,o,c,l,s,u,m,d,b,g;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=function(){return a.items.map((function(e){return e.id})).indexOf(t.id)},i=function(){return R.map((function(e){return e.id})).indexOf(a.id)}(),o=r(),c=n.image.length>0?Object(f.a)({},n,{image:n.image.length>0?n.image.map((function(e){return e.id})):[]}):n,l=a.items.length>0?a.items.map((function(e){return Object(f.a)({},e,{image:e.image&&e.image.length>0?e.image.map((function(e){return e.id||""})):[]})})):[],s=[].concat(Object(fe.a)(a.items.slice(0,o)),[n],Object(fe.a)(a.items.slice(o+1))),console.log("updatedItemsTheDamnItems",s),u=[].concat(Object(fe.a)(l.slice(0,o)),[c],Object(fe.a)(l.slice(o+1))),m=Object.assign({},R[i],Object(f.a)({},a,{items:u})),d=Object.assign({},R[i],Object(f.a)({},a,{items:s})),b=[].concat(Object(fe.a)(R.slice(0,i)),[d],Object(fe.a)(R.slice(i+1))),e.next=14,L({urlOptions:{placeHolders:{id:a.id}},body:Object(f.a)({},m,{groupName:d.name})});case 14:(g=e.sent)&&"ok"===g.status?(dc("Component Updated"),F(b)):pc();case 16:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),V=function(){var e=Object(b.a)(p.a.mark((function e(t,a){var n,r,i,o,c,l,s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=function(){return a.items.map((function(e){return e.id})).indexOf(t)},r=function(){return R.map((function(e){return e.id})).indexOf(a.id)}(),i=n(),o=[].concat(Object(fe.a)(a.items.slice(0,i)),Object(fe.a)(a.items.slice(i+1))),c=Object.assign({},R[r],Object(f.a)({},a,{items:o})),l=[].concat(Object(fe.a)(R.slice(0,r)),[c],Object(fe.a)(R.slice(r+1))),e.next=9,L({urlOptions:{placeHolders:{id:a.id}},body:Object(f.a)({},c,{groupName:c.name})});case 9:(s=e.sent)&&"ok"===s.status?(dc("Component Item deleted"),F(l)):pc();case 11:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),G=function(){var e=Object(b.a)(p.a.mark((function e(t,a){var n,r,i,o,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=function(){return R.map((function(e){return e.id})).indexOf(a)}(),r=[].concat(Object(fe.a)(R[n].items),[t]),i=Object.assign({},R[n],Object(f.a)({},R[n],{items:r})),o=[].concat(Object(fe.a)(R.slice(0,n)),[i],Object(fe.a)(R.slice(n+1))),e.next=7,L({urlOptions:{placeHolders:{id:a}},body:Object(f.a)({},i,{groupName:i.name})});case 7:(c=e.sent)&&"ok"===c.status?(dc("Component Item Added"),F(o),d(!1)):pc();case 9:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"categoryListContainer"},c.a.createElement("div",{className:"categoryListContainer__header"},c.a.createElement("div",{className:"categoryListContainer__header-searchBar"},c.a.createElement("h2",{className:"categoryListContainer__header-title"},"Components"),c.a.createElement(mc,{enterButton:!1,className:"searchbarClassName",placeholder:"search components..",onChange:function(e){return function(e){if(x.data.length>0){var t=x.data.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())}));F(t)}}(e.target.value)}})),c.a.createElement(E.a,{className:"btnPrimaryClassNameoutline",icon:c.a.createElement(ht.a,null),onClick:function(){return l(!0)}},"Add New")),c.a.createElement("div",{className:"categoryListContainer__afterHeader"}),c.a.createElement("div",{className:"categoryListContainer__categoryList"},x.isLoading&&c.a.createElement(ta,null),x.done&&!(R.length>0)&&c.a.createElement("div",{style:{marginTop:"50px"}},c.a.createElement(Te,{title:"No Component found"})),x.done&&R.length>0&&c.a.createElement("div",{className:"componentsItemContainer"},R.map((function(e){return c.a.createElement("div",{className:"componentsItemContainer-item"},c.a.createElement(tc.a,{accordion:!1,bordered:!1,expandIconPosition:"left",expandIcon:function(e){var t=e.isActive;return c.a.createElement(io.a,{rotate:t?90:0})},className:"site-collapse-custom-collapse"},c.a.createElement(uc,{header:e.name,key:"1",className:"site-collapse-custom-panel",extra:gc(d,A,e.id,O)},c.a.createElement("div",{className:" componentsItemContainer-white"},e.items&&e.items.length>0&&e.items.map((function(t){return c.a.createElement("div",{className:"componentsItemContainer-item-item"},c.a.createElement(tc.a,{accordion:!1,bordered:!1,expandIconPosition:"left",expandIcon:function(e){var t=e.isActive;return c.a.createElement(io.a,{rotate:t?90:0})},className:"site-collapse-custom-collapse"},c.a.createElement(uc,{header:t.title||"",key:"1",className:"site-collapse-custom-panel",extra:bc(V,e,t.id)},c.a.createElement(lc,{setComponentList:F,componentList:R,item:t,component:e,componentUpdate:B,isLoadingUpdate:I.isLoading}))))})),!(e.items.length>0)&&c.a.createElement(Te,{title:"No item Found"})))))}))))),c.a.createElement(oc,{addNewCategoryVisible:i,setAddNewCategoryVisible:l,setComponentList:F,componentList:R}),c.a.createElement(sc,{addNewCategoryVisible:m,setAddNewCategoryVisible:d,setComponentList:F,componentList:R,updateComponentByAddingItem:G,componentId:y}),c.a.createElement(Ot.a,{title:"Add New Group Component",visible:!1,onOk:function(e){l(!1)},onCancel:function(e){l(!1)},footer:null,okText:"Done"},c.a.createElement(C,{label:"Group Component Name"})))},hc=a(953),Ec=yt.a.Dragger,vc=function(e){Me.a.error({message:e||"Brand Created",description:"",icon:c.a.createElement(De.a,{style:{color:"rgba(0, 128, 0, 0.493)"}})})},yc=function(e){Me.a.success({message:e||"Something Went Wrong",description:"",icon:c.a.createElement(De.a,{style:{color:"rgb(241, 67, 67)"}})})},Oc=function(e){var t=e.addNewCategoryVisible,a=e.setAddNewCategoryVisible,n=e.themeList,r=e.setThemeList,i=U({},"addTheme","form"),l=Object(g.a)(i,2),s=l[0],u=l[1],m=Object(o.useState)(!1),d=Object(g.a)(m,2),h=(d[0],d[1]),E=Object(o.useState)(!1),v=Object(g.a)(E,2),y=v[0],O=v[1],j=Object(o.useState)([]),N=Object(g.a)(j,2),x=N[0],k=N[1],S=Object(o.useState)(!1),w=Object(g.a)(S,2),T=w[0],_=(w[1],Object(o.useState)("")),D=Object(g.a)(_,2),I=(D[0],D[1]),L=Object(o.useState)([]),P=Object(g.a)(L,2),M=P[0],R=P[1],F=Object(o.useState)(!1),A=Object(g.a)(F,2),B=A[0],V=A[1],G=Object(o.useState)(!1),z=Object(g.a)(G,2),H=z[0],W=z[1],q=Object(o.useState)(""),Y=Object(g.a)(q,2),K=Y[0],J=Y[1],Q=Object(o.useState)(""),X=Object(g.a)(Q,2),Z=X[0],$=X[1],ee=Object(o.useState)(""),te=Object(g.a)(ee,2),ae=te[0],ne=te[1],re=function(){var e=Object(b.a)(p.a.mark((function e(){var t,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return V(!0),t=new FormData,M.forEach((function(e){t.append("folder",e,e.name)})),t.append("name",Z),t.append("thumbnail",ae),e.next=7,u({body:t});case 7:i=e.sent,V(!1),i&&"ok"===i.status?(r([].concat(Object(fe.a)(n),[Object(f.a)({id:i._id||"",key:i._id||"",name:i.name||"",thumbnail:i.thumbnail||"",path:i.path||"",added:i.added||""},i)])),R([]),V(!1),vc("Theme Uploaded!"),a(!1),$(""),I(""),a(!1)):yc("Theme upload failed, Something went wrong");case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ie={onRemove:function(e){R((function(t){var a=M.indexOf(e),n=M.slice();return n.splice(a,1),n}))},beforeUpload:function(e){return R((function(t){return[].concat(Object(fe.a)(M),[e])})),!1},fileList:M};var oe=c.a.createElement("div",null,H?c.a.createElement(jt.a,null):c.a.createElement(ht.a,null),c.a.createElement("div",{className:"ant-upload-text"},"Upload"));return c.a.createElement(c.a.Fragment,null,c.a.createElement(Ot.a,{style:{top:"40px"},title:"Add New Theme",visible:t,onOk:re,onCancel:function(e){a(!1)},okText:"Upload Theme",okButtonProps:{loading:B,htmlType:"submit",disabled:!!s.isLoading},bodyStyle:{margin:"0",padding:"10px"}},c.a.createElement(C,{label:"Name",value:Z,name:"name",onChange:function(e){return $(e.target.value)},isError:s.error.error.name,errorString:s.error.error.name}),c.a.createElement("div",{style:{marginTop:"20px"}}),c.a.createElement("h3",{className:"inputFieldLabel"},"Thumbnail"),c.a.createElement(yt.a,{name:"avatar",listType:"picture-card",className:"avatar-uploader",showUploadList:!1,beforeUpload:function(e){return"image/jpeg"===e.type||"image/png"===e.type||Et.a.error("You can only upload JPG/PNG file!"),e.size/1024/1024<2||Et.a.error("Image must smaller than 2MB!"),function(e,t){var a=new FileReader;a.addEventListener("load",(function(){return t(a.result)})),a.readAsDataURL(e)}(e,(function(t){J(t),ne(e),W(!1)})),!1},multiple:!1},K?c.a.createElement("img",{src:K,alt:"avatar",style:{width:"100%"}}):oe),c.a.createElement("div",{style:{marginTop:"3px"}}),c.a.createElement("h3",{className:"inputFieldLabel"},"Theme Folder (.zip)"),c.a.createElement(Ec,Object.assign({multiple:!1,className:"upload-list-inline",listType:"picture",style:{background:"#fff"}},ie),c.a.createElement("p",{className:"ant-upload-drag-icon"},c.a.createElement(hc.a,null)),c.a.createElement("p",{className:"ant-upload-text"},"Click or drag file to this area to upload"),c.a.createElement("p",{className:"ant-upload-hint"},"Support for a single or bulk upload. Strictly prohibit from uploading company data or other band files")),s.error.error.folder&&c.a.createElement("p",{style:{color:"rgba(255, 0, 0, 0.507)"}},s.error.error.folder)),c.a.createElement(Vt,{setvisible:O,visible:y,setmyImages:h,isModalOpenForImages:!1,setmyThumbnailImage:k,isModalOpenForThumbnail:T,myThumbnailImage:x}))},jc=O.a.Search,Cc=function(e){Me.a.success({message:e||"Tag Created",description:"",icon:c.a.createElement(De.a,{style:{color:"rgba(0, 128, 0, 0.493)"}})})},Nc=function(e){Me.a.success({message:e||"Something Went Wrong",description:"",icon:c.a.createElement(Ct.a,{style:{color:"rgb(241, 67, 67)"}})})},xc=Object(_e.i)((function(e){e.history;var t=Object(o.useState)([]),a=Object(g.a)(t,2),n=a[0],r=a[1],i=U({},"themeList"),l=Object(g.a)(i,2),s=l[0],u=l[1],m=U({},"activeTheme"),d=Object(g.a)(m,2),f=(d[0],d[1]),h=U({},"deletetheme"),v=Object(g.a)(h,2),y=(v[0],v[1]);Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u({});case 2:t=e.sent,r(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var O=Object(o.useState)(!1),j=Object(g.a)(O,2),C=j[0],N=j[1],x=function(){var e=Object(b.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f({urlOptions:{placeHolders:{id:t}}});case 2:(a=e.sent)&&"ok"===a.status?Cc("Theme activated"):Nc("Couldn't activate the theme, Something went wrong");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=Object(b.a)(p.a.mark((function e(t){var a,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y({urlOptions:{placeHolders:{id:t}}});case 2:(a=e.sent)&&"ok"===a.status?(Cc("Theme Deleted"),i=n.filter((function(e){return e.id!==t})),r(i)):Nc("Couldn't delete, Something went wrong");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"categoryListContainer"},c.a.createElement("div",{className:"categoryListContainer__header"},c.a.createElement("div",{className:"categoryListContainer__header-searchBar"},c.a.createElement("h2",{className:"categoryListContainer__header-title"},"Themes"),c.a.createElement(jc,{enterButton:!1,className:"searchbarClassName",placeholder:"search themes..",onSearch:function(e){return function(e){if(s.data.length>0){var t=s.data.filter((function(t){return t.name.includes(e)}));r(t)}}(e)}})),c.a.createElement(E.a,{className:"btnPrimaryClassNameoutline",icon:c.a.createElement(ht.a,null),onClick:function(){return N(!0)}},"Add New")),c.a.createElement("div",{className:"categoryListContainer__afterHeader"}),c.a.createElement("div",{className:"categoryListContainer__categoryList"},s.done&&n.length>0&&c.a.createElement("div",{className:"categoryListContainer__bodyContainerList"},n.map((function(e){return c.a.createElement("div",{className:"categoryListContainer__bodyContainerList-item"},c.a.createElement("div",{className:"categoryListContainer__bodyContainerList-item-top"},c.a.createElement("img",{alt:"theme img",src:e.thumbnail})),c.a.createElement("div",{className:"categoryListContainer__bodyContainerList-item-body"},c.a.createElement("h3",null," ",e.name," "),c.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},c.a.createElement(pt.a,{placement:"top",title:"Active this theme"},c.a.createElement(E.a,{size:"small",className:"btnPrimaryClassNameoutline",icon:c.a.createElement(xt.a,null),onClick:function(){return x(e.id)}},c.a.createElement("span",{style:{fontSize:"11px"}},"Set Active"))),c.a.createElement(pt.a,{placement:"top",title:"Delete theme"},c.a.createElement(bt.a,{onConfirm:function(){return k(e.id)},title:"Are you sure\uff1f",okText:"Yes",cancelText:"No"},c.a.createElement(E.a,{size:"small",type:"link",danger:!0,icon:c.a.createElement(ft.a,null)}))))))}))),s.isLoading&&c.a.createElement(ta,null),s.done&&!(n.length>0)&&c.a.createElement(Te,{title:"No Theme found"}))),s.done&&c.a.createElement(Oc,{addNewCategoryVisible:C,setAddNewCategoryVisible:N,themeList:s.data,setThemeList:r}))})),kc=function(e){return c.a.createElement("div",null,"Image")},Sc=function(e){return c.a.createElement("div",null,"Invoice")},wc=(y.a().shape({title:y.c().label("Title").required("Site title can not be empty"),adminEmail:y.c().label("Admin Email").required("Admin Email can not be empty")}),function(e){Me.a.success({message:e||"Something Went Wrong",description:"",icon:c.a.createElement(De.a,{style:{color:"rgb(241, 67, 67)"}})})}),Tc={title:"",adminName:"",adminEmail:"",adminPhone:""},_c=function(e){Object(h.a)(e);var t=U({},"updateSiteSettings"),a=Object(g.a)(t,2),n=a[0],r=a[1],i=U({},"siteSettings"),l=Object(g.a)(i,2),s=l[0],u=l[1];Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u({});case 2:e.sent;case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[n]);var m=function(){var e=Object(b.a)(p.a.mark((function e(t,a){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r({body:{title:t.title,adminName:t.adminName,adminEmail:t.adminEmail,adminPhone:t.adminPhone}});case 2:(n=e.sent)&&"ok"===n.status?(i=void 0,Me.a.success({message:i||"Site Info Updated",description:"",icon:c.a.createElement(De.a,{style:{color:"rgba(0, 128, 0, 0.493)"}})}),a.resetForm()):wc(),a.setSubmitting(!1);case 5:case"end":return e.stop()}var i}),e)})));return function(t,a){return e.apply(this,arguments)}}(),d=function(e,t){return!(e.title&&e.adminEmail&&t)};return c.a.createElement(v.a,{onSubmit:function(e,t){return m(e,t)},enableReinitialize:!0,initialValues:s.data&&Object.keys(s.data).length>0?Object(f.a)({},s.data):Tc},(function(e){var t=e.handleChange,a=e.values,r=e.handleSubmit,i=e.errors,o=e.isValid,l=e.isSubmitting,s=e.touched,u=(e.handleBlur,e.setFieldTouched);e.handleReset;return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"siteInfoContainer__item"},c.a.createElement("div",{className:"siteInfoContainer__item-item"},c.a.createElement(C,{label:"Admin Title",value:a.title,name:"title",isError:s.title&&i.title||!l&&n.error.error.title,errorString:s.title&&i.title||!l&&n.error.error.title,onChange:function(e){t(e),u("title")}})),c.a.createElement("div",{className:"siteInfoContainer__item-item"},c.a.createElement(C,{label:"Admin Name",value:a.adminName,name:"adminName",isError:s.adminName&&i.adminName||!l&&n.error.error.adminName,errorString:s.adminName&&i.adminName||!l&&n.error.error.adminName,onChange:function(e){t(e),u("adminName")}})),c.a.createElement("div",{className:"siteInfoContainer__item-item-left"},c.a.createElement(C,{label:"Admin phone",value:a.adminPhone,name:"adminPhone",isError:s.adminPhone&&i.adminPhone||!l&&n.error.error.adminPhone,errorString:s.adminPhone&&i.adminPhone||!l&&n.error.error.adminPhone,onChange:function(e){t(e),u("adminPhone")}})),c.a.createElement("div",{className:"siteInfoContainer__item-item",style:{marginLeft:"15px"}},c.a.createElement(C,{label:"Admin Email",value:a.adminEmail,name:"adminEmail",isError:s.adminEmail&&i.adminEmail||!l&&n.error.error.adminEmail,errorString:s.adminEmail&&i.adminEmail||!l&&n.error.error.adminEmail,onChange:function(e){t(e),u("adminEmail")}}))),c.a.createElement("div",{style:{marginTop:"10px"}}),c.a.createElement(E.a,{onClick:function(e){return r(e)},loading:l,disabled:d(a,o),className:"btnPrimaryClassNameoutline"},"Update Admin Info"),c.a.createElement("div",{style:{marginBottom:"10px"}}))}))},Dc=y.a().shape({invoiceTitle:y.c().label("Title").required("Invoice title is required")}),Ic=function(e){Me.a.success({message:e||"Something Went Wrong",description:"",icon:c.a.createElement(Ct.a,{style:{color:"rgb(241, 67, 67)"}})})},Lc={invoiceTitle:"",address:"",phone:"",email:"",additionalText:""},Pc=function(e){Object(h.a)(e);var t=U({},"updateInvoiceSettings"),a=Object(g.a)(t,2),n=a[0],r=a[1],i=U({},"invoiceSettingsDetail"),l=Object(g.a)(i,2),s=l[0],u=l[1];Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u({});case 2:e.sent;case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[n]);var m=function(){var e=Object(b.a)(p.a.mark((function e(t,a){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r({body:{invoiceTitle:t.invoiceTitle,address:t.address,phone:t.phone,email:t.email,additionalText:t.additionalText}});case 2:(n=e.sent)&&"ok"===n.status?(i=void 0,Me.a.success({message:i||"Site Invoice Updated",description:"",icon:c.a.createElement(De.a,{style:{color:"rgba(0, 128, 0, 0.493)"}})}),a.resetForm()):Ic(),a.setSubmitting(!1);case 5:case"end":return e.stop()}var i}),e)})));return function(t,a){return e.apply(this,arguments)}}(),d=function(e,t){return!e.invoiceTitle||!t};return c.a.createElement(v.a,{onSubmit:function(e,t){return m(e,t)},validationSchema:Dc,enableReinitialize:!0,initialValues:s.data&&Object.keys(s.data).length>0?Object(f.a)({},s.data):Lc},(function(e){var t=e.handleChange,a=e.values,r=e.handleSubmit,i=e.errors,o=e.isValid,l=e.isSubmitting,s=e.touched,u=(e.handleBlur,e.setFieldTouched);e.handleReset;return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"siteInfoContainer__item"},c.a.createElement("div",{className:"siteInfoContainer__item-item"},c.a.createElement(C,{label:"Company Name",value:a.invoiceTitle,name:"invoiceTitle",isError:s.invoiceTitle&&i.invoiceTitle||!l&&n.error.error.invoiceTitle,errorString:s.invoiceTitle&&i.invoiceTitle||!l&&n.error.error.invoiceTitle,onChange:function(e){t(e),u("invoiceTitle")}})),c.a.createElement("div",{className:"siteInfoContainer__item-item"},c.a.createElement(C,{label:"Phone Number",value:a.phone,name:"phone",isError:s.phone&&i.phone||!l&&n.error.error.phone,errorString:s.phone&&i.phone||!l&&n.error.error.phone,onChange:function(e){t(e),u("phone")}})),c.a.createElement("div",{className:"siteInfoContainer__item-item"},c.a.createElement(C,{label:"Email",value:a.email,name:"email",isError:s.email&&i.email||!l&&n.error.error.email,errorString:s.email&&i.email||!l&&n.error.error.email,onChange:function(e){t(e),u("email")}})),c.a.createElement("div",{className:"siteInfoContainer__item-item"},c.a.createElement(C,{label:"Additional Text",value:a.additionalText,name:"additionalText",isError:s.additionalText&&i.additionalText||!l&&n.error.error.additionalText,errorString:s.additionalText&&i.additionalText||!l&&n.error.error.additionalText,onChange:function(e){t(e),u("additionalText")}})),c.a.createElement("div",{className:"siteInfoContainer__item-item-left"},c.a.createElement(wt,{label:"Address",value:a.address,name:"address",isError:s.address&&i.address||!l&&n.error.error.address,errorString:s.address&&i.address||!l&&n.error.error.address,onChange:function(e){t(e),u("address")}}))),c.a.createElement("div",{style:{marginTop:"10px"}}),c.a.createElement(E.a,{onClick:function(e){return r(e)},loading:l,disabled:d(a,o),className:"btnPrimaryClassNameoutline"},"Update Invoice Info"),c.a.createElement("div",{style:{marginBottom:"10px"}}))}))},Mc=(y.a().shape({title:y.c().label("Title").required("Site title can not be empty"),adminEmail:y.c().label("Admin Email").required("Admin Email can not be empty")}),function(e){Me.a.success({message:e||"Something Went Wrong",description:"",icon:c.a.createElement(Ct.a,{style:{color:"rgb(241, 67, 67)"}})})}),Rc={metaTitle:"",metaTags:"",metaDescription:"",injectHTML:""},Fc=function(e){Object(h.a)(e);var t=U({},"updateSiteSEO"),a=Object(g.a)(t,2),n=a[0],r=a[1],i=U({},"getSiteSEO"),l=Object(g.a)(i,2),s=l[0],u=l[1];Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u({});case 2:e.sent;case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[n]);var m=function(){var e=Object(b.a)(p.a.mark((function e(t,a){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r({body:{metaTitle:t.metaTitle,metaTags:t.metaTags,metaDescription:t.metaDescription,injectHTML:t.injectHTML}});case 2:(n=e.sent)&&"ok"===n.status?(i=void 0,Me.a.success({message:i||"Site Info Updated",description:"",icon:c.a.createElement(De.a,{style:{color:"rgba(0, 128, 0, 0.493)"}})}),a.resetForm()):Mc(),a.setSubmitting(!1);case 5:case"end":return e.stop()}var i}),e)})));return function(t,a){return e.apply(this,arguments)}}();return c.a.createElement(v.a,{onSubmit:function(e,t){return m(e,t)},enableReinitialize:!0,initialValues:s.data&&Object.keys(s.data).length>0?Object(f.a)({},s.data):Rc},(function(e){var t=e.handleChange,a=e.values,r=e.handleSubmit,i=e.errors,o=(e.isValid,e.isSubmitting),l=e.touched,s=(e.handleBlur,e.setFieldTouched);e.handleReset;return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"siteInfoContainer__item"},c.a.createElement("div",{className:"siteInfoContainer__item-item"},c.a.createElement(C,{label:"Meta Title",value:a.metaTitle,name:"metaTitle",isError:l.metaTitle&&i.metaTitle||!o&&n.error.error.metaTitle,errorString:l.metaTitle&&i.metaTitle||!o&&n.error.error.metaTitle,onChange:function(e){t(e),s("metaTitle")}})),c.a.createElement("div",{className:"siteInfoContainer__item-item"},c.a.createElement(C,{label:"Meta Tags",value:a.metaTags,name:"metaTags",isError:l.metaTags&&i.metaTags||!o&&n.error.error.metaTags,errorString:l.metaTags&&i.metaTags||!o&&n.error.error.metaTags,onChange:function(e){t(e),s("metaTags")}})),c.a.createElement("div",{className:"siteInfoContainer__item-item-left"},c.a.createElement(wt,{label:"Meta Description",value:a.metaDescription,name:"metaDescription",isError:l.metaDescription&&i.metaDescription||!o&&n.error.error.metaDescription,errorString:l.metaDescription&&i.metaDescription||!o&&n.error.error.metaDescription,onChange:function(e){t(e),s("metaDescription")}}))),c.a.createElement("div",{className:"siteInfoContainer__item-item"},c.a.createElement(wt,{rows:8,label:"Inject HTML ( Inside <head></head> Tag )",value:a.injectHTML,name:"injectHTML",isError:l.injectHTML&&i.injectHTML||!o&&n.error.error.injectHTML,errorString:l.injectHTML&&i.injectHTML||!o&&n.error.error.injectHTML,onChange:function(e){t(e),s("injectHTML")}})),c.a.createElement("div",{style:{marginTop:"10px"}}),c.a.createElement(E.a,{onClick:function(e){return r(e)},loading:o,className:"btnPrimaryClassNameoutline"},"Update"),c.a.createElement("div",{style:{marginBottom:"10px"}}))}))},Ac=(y.a().shape({newPassword:y.c().label("New Password").required().min(6,"New Password must have at least 6 characters"),newPassword2:y.c().label("Confirm New password").required().min(6,"Confirm New password must have at least 6 characters").oneOf([y.b("newPassword"),null],"Confirm new password must match to new password")}),function(e){Me.a.success({message:e||"Something Went Wrong",description:"",icon:c.a.createElement(De.a,{style:{color:"rgb(241, 67, 67)"}})})}),Bc={name:"",phone:"",email:"",newPass:"",password:"",newPassword:"",newPassword2:""},Vc=function(e){Object(h.a)(e);var t=U({},"updateAdminCredential"),a=Object(g.a)(t,2),n=a[0],r=a[1],i=U({},"getAdminCredential"),l=Object(g.a)(i,2),s=l[0],u=l[1];Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u({});case 2:e.sent;case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[n]),console.log("siteSettingsState",s);var m=function(){var e=Object(b.a)(p.a.mark((function e(t,a){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r({body:{name:t.name,phone:t.phone,email:t.email,password:t.password,newPass:t.newPassword,newPassRepeat:t.newPassword2}});case 2:(n=e.sent)&&"ok"===n.status?(i=void 0,Me.a.success({message:i||"Site Info Updated",description:"",icon:c.a.createElement(De.a,{style:{color:"rgba(0, 128, 0, 0.493)"}})}),a.resetForm()):Ac(),a.setSubmitting(!1);case 5:case"end":return e.stop()}var i}),e)})));return function(t,a){return e.apply(this,arguments)}}();return c.a.createElement(v.a,{onSubmit:function(e,t){return m(e,t)},enableReinitialize:!0,initialValues:s.data&&Object.keys(s.data).length>0?Object(f.a)({},s.data):Bc},(function(e){var t=e.handleChange,a=e.values,r=e.handleSubmit,i=e.errors,o=(e.isValid,e.isSubmitting),l=e.touched,s=(e.handleBlur,e.setFieldTouched);e.handleReset;return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"siteInfoContainer__item"},c.a.createElement("div",{className:"siteInfoContainer__item-item"},c.a.createElement(C,{type:"text",label:"Name",value:a.name,name:"name",isError:l.name&&i.name||!o&&n.error.error.name,errorString:l.name&&i.name||!o&&n.error.error.name,onChange:function(e){t(e),s("name")}})),c.a.createElement("div",{className:"siteInfoContainer__item-item"},c.a.createElement(C,{type:"text",label:"Phone",value:a.phone,name:"phone",isError:l.phone&&i.phone||!o&&n.error.error.phone,errorString:l.phone&&i.phone||!o&&n.error.error.phone,onChange:function(e){t(e),s("phone")}}))),c.a.createElement("div",{style:{width:"90%",paddingRight:"30px"}},c.a.createElement(C,{type:"text",label:"Email",value:a.email,name:"email",isError:l.email&&i.email||!o&&n.error.error.email,errorString:l.email&&i.email||!o&&n.error.error.email,onChange:function(e){t(e),s("email")}})),c.a.createElement("div",{style:{width:"90%",paddingRight:"30px"}},c.a.createElement(C,{type:"password",label:"Password (Enter current password to update credentials)",value:a.password,name:"password",isError:l.password&&i.password||!o&&n.error.error.password,errorString:l.password&&i.password||!o&&n.error.error.password,onChange:function(e){t(e),s("password")}})),c.a.createElement("div",{className:"siteInfoContainer__item"},c.a.createElement("div",{className:"siteInfoContainer__item-item"},c.a.createElement(C,{type:"password",label:"New Password",value:a.newPassword,name:"newPassword",isError:l.newPassword&&i.newPassword||!o&&n.error.error.newPassword,errorString:l.newPassword&&i.newPassword||!o&&n.error.error.newPassword,onChange:function(e){t(e),s("newPassword")}})),c.a.createElement("div",{className:"siteInfoContainer__item-item"},c.a.createElement(C,{type:"password",label:"Confirm New Password",value:a.newPassword2,name:"newPassword2",isError:l.newPassword2&&i.newPassword2||!o&&n.error.error.newPassword2,errorString:l.newPassword2&&i.newPassword2||!o&&n.error.error.newPassword2,onChange:function(e){t(e),s("newPassword2")}}))),c.a.createElement("div",{style:{marginTop:"10px"}}),c.a.createElement(E.a,{onClick:function(e){return r(e)},loading:o,className:"btnPrimaryClassNameoutline"},"Update Credentials"),c.a.createElement("div",{style:{marginBottom:"10px"}}))}))},Uc=(y.a().shape({name:y.c().label("Name").required("Name is required").min(3,"Name must have at least 3 characters")}),_t.a.TabPane),Gc=function(e){Me.a.success({message:e||"Brand Created",description:"",icon:c.a.createElement(De.a,{style:{color:"rgba(0, 128, 0, 0.493)"}})})},zc=function(e){Me.a.success({message:e||"Something Went Wrong",description:"",icon:c.a.createElement(Ct.a,{style:{color:"rgb(241, 67, 67)"}})})},Hc=function(e){e.addNewCategoryVisible,e.setAddNewCategoryVisible,e.brandList,e.setBrandList;var t=U({},"updateSiteLogoAndIcon","form"),a=Object(g.a)(t,2),n=(a[0],a[1]),r=Object(o.useState)("".concat(k.baseURL,"/images/logo.png")),i=Object(g.a)(r,2),l=i[0],s=i[1],u=Object(o.useState)(!1),m=Object(g.a)(u,2),d=m[0],f=m[1],h=Object(o.useState)("".concat(k.baseURL,"/favicon.ico")),E=Object(g.a)(h,2),v=E[0],y=E[1],O=Object(o.useState)(!1),j=Object(g.a)(O,2),C=j[0],N=j[1],x=Object(o.useState)("".concat(k.baseURL,"/images/logo-app.png")),S=Object(g.a)(x,2),w=S[0],T=S[1],_=Object(o.useState)(!1),D=Object(g.a)(_,2),I=D[0],L=D[1];function P(e,t){var a=new FileReader;a.addEventListener("load",(function(){return t(a.result)})),a.readAsDataURL(e)}var M=c.a.createElement("div",null,d?c.a.createElement(jt.a,null):c.a.createElement(ht.a,null),c.a.createElement("div",{className:"ant-upload-text"},"Upload")),R=c.a.createElement("div",null,C?c.a.createElement(jt.a,null):c.a.createElement(ht.a,null),c.a.createElement("div",{className:"ant-upload-text"},"Upload")),F=c.a.createElement("div",null,I?c.a.createElement(jt.a,null):c.a.createElement(ht.a,null),c.a.createElement("div",{className:"ant-upload-text"},"Upload"));return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"siteInfoContainer"},c.a.createElement(_t.a,{defaultActiveKey:"1"},c.a.createElement(Uc,{tab:"Site Info",key:"1"},c.a.createElement(_c,null)),c.a.createElement(Uc,{tab:"Site logo",key:"2"},c.a.createElement("div",{style:{display:"flex",alignItems:"center",marginTop:"15px"}},c.a.createElement("div",{style:{marginRight:"40px"}},c.a.createElement("div",{className:"addproductSection-left-header"},c.a.createElement("h3",{className:"inputFieldLabel"}," Logo "),c.a.createElement(pt.a,{placement:"left",title:"Update Site Logo image"},c.a.createElement("a",{href:"###"},c.a.createElement(Ct.a,null)))),c.a.createElement(yt.a,{style:{borderRadius:"8px"},name:"avatar",listType:"picture-card",className:"avatar-uploader",showUploadList:!1,beforeUpload:function(e){return"image/jpeg"===e.type||"image/png"===e.type||Et.a.error("You can only upload JPG/PNG file!"),e.size/1024/1024<2||Et.a.error("Image must smaller than 2MB!"),P(e,(function(t){s(t),function(){var t=Object(b.a)(p.a.mark((function t(){var a,r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(a=new FormData).append("logo",e),t.next=4,n({body:a});case 4:(r=t.sent)&&"ok"===r.status?Gc("Site Logo updated!"):zc("Couldn't update site Logo, Something went wrong");case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()(),f(!1)})),!1},multiple:!1},l?c.a.createElement("img",{onError:function(){return s("")},src:l,alt:"avatar",style:{width:"100%"}}):M)),c.a.createElement("div",{style:{marginRight:"40px"}},c.a.createElement("div",{className:"addproductSection-left-header"},c.a.createElement("h3",{className:"inputFieldLabel"}," Icon "),c.a.createElement(pt.a,{placement:"left",title:"Update Icon image"},c.a.createElement("a",{href:"###"},c.a.createElement(Ct.a,null)))),c.a.createElement(yt.a,{style:{borderRadius:"8px"},name:"avatar",listType:"picture-card",className:"avatar-uploader",showUploadList:!1,beforeUpload:function(e){return"image/jpeg"===e.type||"image/png"===e.type||Et.a.error("You can only upload JPG/PNG file!"),e.size/1024/1024<2||Et.a.error("Image must smaller than 2MB!"),P(e,(function(t){y(t),function(){var t=Object(b.a)(p.a.mark((function t(){var a,r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(a=new FormData).append("icon",e),t.next=4,n({body:a});case 4:(r=t.sent)&&"ok"===r.status?Gc("Site Icon updated!"):zc("Couldn't update site icon, Something went wrong");case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()(),N(!1)})),!1},multiple:!1},v?c.a.createElement("img",{onError:function(){return y("")},src:v,alt:"avatar",style:{width:"100%"}}):R)),c.a.createElement("div",{style:{marginRight:"20px"}},c.a.createElement("div",{className:"addproductSection-left-header"},c.a.createElement("h3",{className:"inputFieldLabel"}," App Logo "),c.a.createElement(pt.a,{placement:"left",title:"Update App logo image"},c.a.createElement("a",{href:"###"},c.a.createElement(Ct.a,null)))),c.a.createElement(yt.a,{style:{borderRadius:"8px"},name:"avatar",listType:"picture-card",className:"avatar-uploader",showUploadList:!1,beforeUpload:function(e){return"image/jpeg"===e.type||"image/png"===e.type||Et.a.error("You can only upload JPG/PNG file!"),e.size/1024/1024<2||Et.a.error("Image must smaller than 2MB!"),P(e,(function(t){T(t),function(){var t=Object(b.a)(p.a.mark((function t(){var a,r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(a=new FormData).append("logoApp",e),t.next=4,n({body:a});case 4:(r=t.sent)&&"ok"===r.status?Gc("App logo updated!"):zc("Couldn't update App logo, Something went wrong");case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()(),L(!1)})),!1},multiple:!1},w?c.a.createElement("img",{onError:function(){return T("")},src:w,alt:"avatar",style:{width:"100%"}}):F))),c.a.createElement("div",{style:{marginBottom:"10px"}})),c.a.createElement(Uc,{tab:"Site SEO",key:"3"},c.a.createElement(Fc,null)),c.a.createElement(Uc,{tab:"Invoice Information",key:"4"},c.a.createElement(Pc,null)),c.a.createElement(Uc,{tab:"Change Credentials",key:"5"},c.a.createElement(Vc,null)))))},Wc=a(208),qc=a(889),Yc=a(890),Kc=O.a.Search,Jc=function(e){var t=e.checkedList,a=e.setCheckedList,n=e.plainOptions,r=e.defaultValue,i=void 0===r?[]:r,l=e.checkAll,s=e.setCheckAll,u=e.cityListState,m=e.setPlainOptions,d=Object(o.useState)(!0),p=Object(g.a)(d,2),b=(p[0],p[1]),f=Object(o.useState)(""),h=Object(g.a)(f,2),E=h[0],v=h[1];console.log("defaultValue",i);return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{style:{borderBottom:"1px solid #eee",marginBottom:"10px"},className:"site-checkbox-all-wrapper"},c.a.createElement(Wc.a,{style:{marginBottom:"10px"},onChange:function(e){var t=n&&n.length>0?n.map((function(e){return e.value})):[];a(e.target.checked?t:[]),b(!1),console.log("e.target.checked",e.target.checked),s(e.target.checked)},checked:l},"Select all"),c.a.createElement(Kc,{width:"100%",style:{height:"30px",borderRadius:"3px !important",borderColor:"#eee !important",margin:"10px 0"},size:"middle",placeholder:"",onSearch:function(e){return console.log(e)},onChange:function(e){if(v(e.target.value),""===e.target.value){if(u.data&&u.data.length>0){var t=u.data.map((function(e){return{value:e.name,name:e.name}}));m(t)}}else{var a=n.length>0?n.filter((function(e){return e&&e.name.toLowerCase().includes(E.toLowerCase())})):[];m(a)}}}),c.a.createElement("div",{style:{marginBottom:"10px"}})),c.a.createElement(Wc.a.Group,{style:{width:"100%"},value:t,defaultValue:i,onChange:function(e){a(e),b(!!e.length&&e.length<n.length),s(e.length===n.length)}},c.a.createElement(qc.a,null,n.map((function(e){return c.a.createElement(Yc.a,{style:{marginBottom:"10px"},span:8},c.a.createElement(Wc.a,{value:e.value},e.value))})))))},Qc=function(e){var t=e.deliveryChargeItem,a=e.setdeliveryChargeList,n=e.deliveryChargeList,r=function(e){var r,i=e.target.name,o=e.target.value,c=Object(f.a)({},t,(r={},Object(ge.a)(r,i,o),Object(ge.a)(r,"id",t.id),r)),l=n.map((function(e){return e.id})).indexOf(t.id),s=[].concat(Object(fe.a)(n.slice(0,l)),[c],Object(fe.a)(n.slice(l+1)));a(s)};return c.a.createElement("div",{style:{display:"flex",alignItems:"center",width:"100%"}},c.a.createElement("div",{style:{width:"45%",marginRight:"10px"}},c.a.createElement(C,{min:0,type:"number",addonBefore:"Minimum Order",value:t.minimumOrder,name:"minimumOrder",onChange:r})),c.a.createElement("div",{style:{width:"45%",marginRight:"10px"}},c.a.createElement(C,{min:0,type:"number",addonBefore:"Charge",value:t.charge,name:"charge",onChange:r})),c.a.createElement("div",{onClick:function(){return function(){console.log("delete---deliveryChargeItem",t),console.log("delete-----deliveryChargeList",n);var e=n.map((function(e){return e.id})).indexOf(t.id),r=[].concat(Object(fe.a)(n.slice(0,e)),Object(fe.a)(n.slice(e+1)));a(Object(fe.a)(r)),console.log("updated-----deliveryChargeList",r)}()},style:{width:"5%",marginBottom:"15px",fontSize:"13px",cursor:"pointer"}},c.a.createElement(Nt.a,null)))},Xc=Ge.a.Option,Zc=function(e){Me.a.success({message:e||"New Region Added",description:"",icon:c.a.createElement(De.a,{style:{color:"rgba(0, 128, 0, 0.493)"}})})},$c=function(e){Me.a.success({message:e||"Something Went Wrong",description:"",icon:c.a.createElement(De.a,{style:{color:"rgb(241, 67, 67)"}})})},el=y.a().shape({}),tl={name:"",pickUpLocation:"",time:""},al=function(e){var t=e.addNewCategoryVisible,a=e.setAddNewCategoryVisible,n=e.regionList,r=e.setRegionList,i=U({},"addRegion"),l=Object(g.a)(i,2),s=l[0],u=l[1],m=Object(o.useState)(""),d=Object(g.a)(m,2),h=d[0],y=d[1],O=Object(o.useState)(""),N=Object(g.a)(O,2),x=N[0],k=(N[1],Object(o.useState)([])),S=Object(g.a)(k,2),w=S[0],T=S[1],_=Object(o.useState)([]),D=Object(g.a)(_,2),I=D[0],L=D[1],P=Object(o.useState)([]),M=Object(g.a)(P,2),R=M[0],F=M[1],A=Object(o.useState)(!1),B=Object(g.a)(A,2),V=B[0],G=B[1],z=U([],"countryList"),H=Object(g.a)(z,2),W=H[0],q=H[1],Y=U([],"cityList"),K=Object(g.a)(Y,2),J=K[0],Q=K[1],X=Object(o.useState)([]),Z=Object(g.a)(X,2),$=(Z[0],Z[1],Object(o.useState)([])),ee=Object(g.a)($,2),te=(ee[0],ee[1],Object(o.useState)([{minimumOrder:"",charge:"",id:"".concat(Math.floor(1e5+9e5*Math.random()))}])),ae=Object(g.a)(te,2),ne=ae[0],re=ae[1],ie=function(){var e=Object(b.a)(p.a.mark((function e(t,i){var o,c,l,s,m,d,b,g,E;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(ne.length>0)){e.next=27;break}for(o={},c=!0,l=!1,s=void 0,e.prev=5,m=ne[Symbol.iterator]();!(c=(d=m.next()).done);c=!0)b=d.value,""!==o[b.minimumOrder]&&""!==b.charge&&(o[b.minimumOrder]=b.charge);e.next=13;break;case 9:e.prev=9,e.t0=e.catch(5),l=!0,s=e.t0;case 13:e.prev=13,e.prev=14,c||null==m.return||m.return();case 16:if(e.prev=16,!l){e.next=19;break}throw s;case 19:return e.finish(16);case 20:return e.finish(13);case 21:return e.next=23,u({body:{name:t.name,pickUpLocation:t.pickUpLocation,time:t.time,country:h,city:R,charge:o}});case 23:(g=e.sent)&&"ok"===g.status?(Zc(),r([Object(f.a)({id:g._id||"",key:g._id||"",name:g.name||""},g)].concat(Object(fe.a)(n))),a(!1),i.resetForm()):$c(),e.next=31;break;case 27:return e.next=29,u({body:{name:t.name,pickUpLocation:t.pickUpLocation,time:t.time,country:h,city:x,charge:{}}});case 29:(E=e.sent)&&"ok"===E.status?(Zc(),r([].concat(Object(fe.a)(n),[Object(f.a)({id:E.id||"",key:E.id||"",name:E.name||""},E)])),a(!1),i.resetForm()):$c();case 31:i.setSubmitting(!1);case 32:case"end":return e.stop()}}),e,null,[[5,9,13,21],[14,,16,20]])})));return function(t,a){return e.apply(this,arguments)}}(),oe=function(e){y(e)};Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q({});case 2:(t=e.sent)&&t.length>0&&(a=t.map((function(e){return{value:e.name,name:e.name}})),T(a));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q({urlOptions:{placeHolders:{country:h}}});case 2:(t=e.sent)&&t.length>0&&(a=t.map((function(e){return{value:e.name,name:e.name}})),L(a));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[h]),Object(o.useEffect)((function(){if(!s.isLoading){var e=s.error;if(e.isError&&Object.keys(e.error).length>0)e.error.registerError||e.error.checkoutError,(Object.values(e.error).length>0?Object.values(e.error):[]).forEach((function(e,t){if("string"===typeof e)$c(e);else if("object"===typeof e){if(e&&Object.keys(e).length>0)Object.values(e).forEach((function(e){$c(e)}))}}))}!s.isLoading&&Object.keys(s.data).length>0&&s.data.status}),[s]);var ce=function(e){a(!1)};console.log("region----deliveryChargeList",ne);var le=function(){re([].concat(Object(fe.a)(ne),[{minimumOrder:"",charge:"",id:"".concat(Math.floor(1e5+9e5*Math.random()))}]))};return c.a.createElement(v.a,{onSubmit:function(e,t){return ie(e,t)},validationSchema:el,validateOnBlur:!1,enableReinitialize:!0,initialValues:Object(f.a)({},tl)},(function(e){var a=e.handleChange,n=e.values,r=e.handleSubmit,i=e.errors,o=(e.isValid,e.isSubmitting),l=e.touched,u=(e.handleBlur,e.setFieldTouched);e.handleReset;return c.a.createElement(c.a.Fragment,null,c.a.createElement(Ot.a,{style:{top:"40px"},bodyStyle:{margin:"0",padding:"10px"},title:"Add New Region",visible:t,onOk:function(e){return r(e)},onCancel:ce,okText:"Create",okButtonProps:{loading:o,htmlType:"submit"}},c.a.createElement("div",{className:"dubbleRowInputs"},c.a.createElement("div",{className:"dubbleRowInputs__item"},c.a.createElement(C,{label:"Name",value:n.name,name:"name",isError:l.name&&i.name||!o&&s.error.error.name,errorString:l.name&&i.name||!o&&s.error.error.name,onChange:function(e){a(e),u("name")}})),c.a.createElement("div",{className:"dubbleRowInputs__item"},c.a.createElement(C,{label:"Pick up Location",value:n.pickUpLocation,name:"pickUpLocation",isError:l.pickUpLocation&&i.pickUpLocation||!o&&s.error.error.pickUpLocation,errorString:l.pickUpLocation&&i.pickUpLocation||!o&&s.error.error.pickUpLocation,onChange:function(e){a(e),u("pickUpLocation")}}))),c.a.createElement("div",{style:{marginRight:"10px"}},c.a.createElement(C,{label:"Time",value:n.time,name:"time",isError:l.time&&i.time||!o&&s.error.error.time,errorString:l.time&&i.time||!o&&s.error.error.time,onChange:function(e){a(e),u("time")}})),c.a.createElement("h3",{className:"inputFieldLabel"},"Delivery Charges"),c.a.createElement(j.a.Item,{validateStatus:s.error.error.charge?"error":"",help:s.error.error.charge},ne.map((function(e){return console.log("deliveryChargeItem-region",e),c.a.createElement(Qc,{deliveryChargeItem:e,deliveryChargeList:ne,setdeliveryChargeList:re})}))),c.a.createElement("div",{style:{marginTop:"5px"}}),c.a.createElement(E.a,{size:"middle",onClick:le,type:"dashed",icon:c.a.createElement(ht.a,null)},"Add Charge"),c.a.createElement("div",{style:{marginTop:"15px"}}),c.a.createElement("h3",{className:"inputFieldLabel"},"Country"),c.a.createElement(j.a.Item,{validateStatus:s.error.error.country?"error":"",help:s.error.error.country},c.a.createElement(Ge.a,{notFoundContent:c.a.createElement(Te,{title:"No Country Found",height:200}),showSearch:!0,style:{width:"100%"},placeholder:"Select a Country",optionFilterProp:"children",onChange:oe,filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0}},W.done&&W.data.length>0&&w.map((function(e){return c.a.createElement(Xc,{value:e.value},e.name)})))),c.a.createElement("div",{style:{marginTop:"15px"}}),c.a.createElement("h3",{className:"inputFieldLabel"},"Cities"),J.done&&h&&!I[0]&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{style:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"}},c.a.createElement(Te,{title:"No City found",height:100}))),!h&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{style:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",margin:"50px 0"}},c.a.createElement(Te,{title:"Select Country first",height:100}))),J.isLoading&&c.a.createElement("div",{style:{padding:"15px 0",width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"}},c.a.createElement(Re.a,null)),I&&I.length>0&&c.a.createElement(j.a.Item,{validateStatus:s.error.error.city?"error":"",help:s.error.error.city},c.a.createElement(Jc,{checkAll:V,setCheckAll:G,plainOptions:I,setPlainOptions:L,checkedList:R,setCheckedList:F,cityListState:J}))))}))},nl=Ge.a.Option,rl=y.a().shape({}),il=function(e){Me.a.success({message:e||"Something Went Wrong",description:"",icon:c.a.createElement(Ct.a,{style:{color:"rgb(241, 67, 67)"}})})},ol=function(e){var t=e.customer,a=e.setvisible,n=e.visible,r=e.setRegionList,i=e.regionList,l=U({},"updateRegion"),s=Object(g.a)(l,2),u=s[0],m=s[1];console.log("DeliveryRegion",t);var d=Object(o.useState)(""),h=Object(g.a)(d,2),y=h[0],O=h[1],N=Object(o.useState)(""),x=Object(g.a)(N,2),k=x[0],S=x[1],w=Object(o.useState)([]),T=Object(g.a)(w,2),_=T[0],D=T[1],I=Object(o.useState)([]),L=Object(g.a)(I,2),P=L[0],M=L[1],R=U([],"countryList"),F=Object(g.a)(R,2),A=F[0],B=F[1],V=U([],"cityList"),G=Object(g.a)(V,2),z=G[0],H=G[1],W=Object(o.useState)([]),q=Object(g.a)(W,2),Y=(q[0],q[1],Object(o.useState)([])),K=Object(g.a)(Y,2),J=(K[0],K[1],Object(o.useState)([])),Q=Object(g.a)(J,2),X=Q[0],Z=Q[1],$=Object(o.useState)(!1),ee=Object(g.a)($,2),te=ee[0],ae=ee[1],ne=Object(o.useState)([]),re=Object(g.a)(ne,2),ie=re[0],oe=re[1];Object(o.useEffect)((function(){if(t.charge&&Object.keys(t.charge).length>0){var e=[];Object.keys(t.charge).forEach((function(a){e.push({minimumOrder:a,charge:t.charge[a],id:"".concat(Math.floor(1e5+9e5*Math.random()))})})),oe(e)}t.city&&t.city.length>0?(Z(t.city),O(t.countryName||"")):(Z([]),O(""))}),[t]),Object(o.useEffect)((function(){}),[t,y]),console.log("deliveryCharge333",t);var ce=function(){var e=Object(b.a)(p.a.mark((function e(n,o){var l,s,u,d,b,g,h,E,v,j,C;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l={},!(ie.length>0)){e.next=21;break}for(s=!0,u=!1,d=void 0,e.prev=5,b=ie[Symbol.iterator]();!(s=(g=b.next()).done);s=!0)h=g.value,""!==l[h.minimumOrder]&&""!==h.charge&&(l[h.minimumOrder]=h.charge);e.next=13;break;case 9:e.prev=9,e.t0=e.catch(5),u=!0,d=e.t0;case 13:e.prev=13,e.prev=14,s||null==b.return||b.return();case 16:if(e.prev=16,!u){e.next=19;break}throw d;case 19:return e.finish(16);case 20:return e.finish(13);case 21:return e.next=23,m({urlOptions:{placeHolders:{id:t.id}},body:{name:n.name,pickUpLocation:n.pickUpLocation,time:n.time,country:y||t.country,city:k||t.city,charge:l}});case 23:(E=e.sent)&&"ok"===E.status?(p=void 0,Me.a.success({message:p||"Region Updated!",description:"",icon:c.a.createElement(De.a,{style:{color:"rgba(0, 128, 0, 0.493)"}})}),v=function(){return i.map((function(e){return e.id})).indexOf(t.id)}(),j=Object.assign({},i[v],Object(f.a)({},E,{id:t.id})),C=[].concat(Object(fe.a)(i.slice(0,v)),[j],Object(fe.a)(i.slice(v+1))),r(C),a(!1),oe([]),S(""),O("")):il(),o.setSubmitting(!1);case 26:case"end":return e.stop()}var p}),e,null,[[5,9,13,21],[14,,16,20]])})));return function(t,a){return e.apply(this,arguments)}}();Object(o.useEffect)((function(){if(!u.isLoading){var e=u.error;if(e.isError&&Object.keys(e.error).length>0)e.error.registerError||e.error.checkoutError,(Object.values(e.error).length>0?Object.values(e.error):[]).forEach((function(e,t){if("string"===typeof e)il(e);else if("object"===typeof e){if(e&&Object.keys(e).length>0)Object.values(e).forEach((function(e){il(e)}))}}))}!u.isLoading&&Object.keys(u.data).length>0&&u.data.status}),[u]);var le=function(e){O(e)};Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B({});case 2:(t=e.sent)&&t.length>0&&(a=t.map((function(e){return{value:e.name,name:e.name}})),D(a));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[t]),Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H({urlOptions:{placeHolders:{country:y||t.countryName}}});case 2:(a=e.sent)&&a.length>0&&((n=a.map((function(e){return{value:e.name,name:e.name}}))).length===t.city.length&&ae(!0),M(n));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[t.countryName,y]);var se=function(e){a(!1),oe([]),S(""),O("")},ue=function(){oe([].concat(Object(fe.a)(ie),[{minimumOrder:"",charge:"",id:"".concat(Math.floor(1e5+9e5*Math.random()))}]))};return c.a.createElement(v.a,{onSubmit:function(e,t){return ce(e,t)},validationSchema:rl,validateOnBlur:!1,enableReinitialize:!0,initialValues:Object(f.a)({},t)},(function(e){var t=e.handleChange,a=e.values,r=e.handleSubmit,i=e.errors,o=(e.isValid,e.isSubmitting),l=e.touched,s=(e.handleBlur,e.setFieldTouched);e.handleReset;return c.a.createElement(c.a.Fragment,null,c.a.createElement(Ot.a,{title:"Region Edit",visible:n,onOk:function(e){return r(e)},onCancel:se,okText:"Update",destroyOnClose:!0,okButtonProps:{loading:o,htmlType:"submit"},bodyStyle:{margin:"0",padding:"10px"}},c.a.createElement("div",{className:"dubbleRowInputs"},c.a.createElement("div",{className:"dubbleRowInputs__item"},c.a.createElement(C,{label:"Name",value:a.name,name:"name",isError:l.name&&i.name||!o&&u.error.error.name,errorString:l.name&&i.name||!o&&u.error.error.name,onChange:function(e){t(e),s("name")}})),c.a.createElement("div",{className:"dubbleRowInputs__item"},c.a.createElement(C,{label:"Pick up Location",value:a.pickUpLocation,name:"pickUpLocation",isError:l.pickUpLocation&&i.pickUpLocation||!o&&u.error.error.pickUpLocation,errorString:l.pickUpLocation&&i.pickUpLocation||!o&&u.error.error.pickUpLocation,onChange:function(e){t(e),s("pickUpLocation")}}))),c.a.createElement("div",{style:{marginRight:"10px"}},c.a.createElement(C,{label:"Time",value:a.time,name:"time",isError:l.time&&i.time||!o&&u.error.error.time,errorString:l.time&&i.time||!o&&u.error.error.time,onChange:function(e){t(e),s("time")}})),c.a.createElement("h3",{className:"inputFieldLabel"},"Delivery Charges"),c.a.createElement(j.a.Item,{validateStatus:u.error.error.charge?"error":"",help:u.error.error.charge},ie.map((function(e){return console.log("deliveryChargeItem-region",e),c.a.createElement(Qc,{deliveryChargeItem:e,deliveryChargeList:ie,setdeliveryChargeList:oe})}))),c.a.createElement("div",{style:{marginTop:"5px"}}),c.a.createElement(E.a,{size:"middle",onClick:ue,type:"dashed",icon:c.a.createElement(ht.a,null)},"Add Charge"),c.a.createElement("div",{style:{marginTop:"15px"}}),c.a.createElement("h3",{className:"inputFieldLabel"},"Country"),c.a.createElement(j.a.Item,{validateStatus:u.error.error.country?"error":"",help:u.error.error.country},c.a.createElement(Ge.a,{notFoundContent:c.a.createElement(Te,{title:"No Country Found",height:100}),showSearch:!0,style:{width:"100%"},placeholder:"Select a Country",optionFilterProp:"children",onChange:le,value:y,filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0}},A.done&&A.data.length>0&&_.map((function(e){return c.a.createElement(nl,{value:e.value},e.name)})))),c.a.createElement("div",{style:{marginTop:"15px"}}),c.a.createElement("h3",{className:"inputFieldLabel"},"Cities"),z.done&&y&&!P[0]&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{style:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"}},c.a.createElement(Te,{title:"No City found",height:100}))),!y&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{style:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",margin:"50px 0"}},c.a.createElement(Te,{title:"Select Country first",height:200}))),z.isLoading&&c.a.createElement("div",{style:{padding:"15px 0",width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"}},c.a.createElement(Re.a,null)),P&&P.length>0&&c.a.createElement(j.a.Item,{validateStatus:u.error.error.city?"error":"",help:u.error.error.city},c.a.createElement(Jc,{checkAll:te,setCheckAll:ae,plainOptions:P,setPlainOptions:M,checkedList:X,setCheckedList:Z,cityListState:z}))))}))},cl=ot.a.Column,ll=(ot.a.ColumnGroup,O.a.Search),sl=function(e){var t=e.data,a=e.setRegionList,n=e.roles,r=Object(o.useState)(!1),i=Object(g.a)(r,2),l=i[0],s=i[1],u=Object(o.useState)(!1),m=Object(g.a)(u,2),d=m[0],f=m[1],h=U({},"deleteRegion"),E=Object(g.a)(h,2),v=(E[0],E[1]),y=function(){var e=Object(b.a)(p.a.mark((function e(n){var r,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v({urlOptions:{placeHolders:{id:n}}});case 2:(r=e.sent)&&"ok"===r.status&&(o="Deleted Region",Me.a.success({message:o||"Region Created",description:"",icon:c.a.createElement(De.a,{style:{color:"rgba(0, 128, 0, 0.493)"}})}),i=t.filter((function(e){return e.id!==n})),a(i));case 4:case"end":return e.stop()}var o}),e)})));return function(t){return e.apply(this,arguments)}}();return c.a.createElement(c.a.Fragment,null,c.a.createElement(ot.a,{size:"small",dataSource:t},c.a.createElement(cl,{title:"Name",dataIndex:"name",key:"id",className:"classnameofthecolumn"}),c.a.createElement(cl,{title:"Pick up Location",dataIndex:"pickUpLocation",key:"id",className:"classnameofthecolumn"}),c.a.createElement(cl,{title:"Country",dataIndex:"countryName",key:"id",className:"classnameofthecolumn"}),c.a.createElement(cl,{width:150,title:"City",dataIndex:"city",key:"id",className:"classnameofthecolumn",render:function(e){return c.a.createElement(c.a.Fragment,null,e&&e.length>0&&e.slice(0,3).map((function(e){return c.a.createElement(Ht.a,{style:{borderRadius:"5px",marginBottom:"5px"},color:"blue",key:e},e)})),c.a.createElement("span",{style:{color:"#1890ff"}},e&&3===e.slice(0,3).length&&"more....."))}}),c.a.createElement(cl,{title:"Time",dataIndex:"time",key:"id",className:"classnameofthecolumn"}),c.a.createElement(cl,{width:150,className:"classnameofthecolumn",title:"Charge",dataIndex:"charge",key:"id",render:function(e){return c.a.createElement(c.a.Fragment,null,e&&Object.keys(e).length>0&&Object.keys(e).map((function(t){return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{style:{marginBottom:"10px"}},c.a.createElement(Ht.a,{color:"blue",key:t},t),"\xa0:\xa0\xa0\xa0",c.a.createElement(Ht.a,{color:"blue",key:e[t]},e[t])))})))}}),D("postDelivery",n)&&c.a.createElement(cl,{className:"classnameofthecolumn",title:"",key:"action",align:"right",render:function(e,t){return c.a.createElement(dt.a,{size:"middle"},c.a.createElement("a",{href:"##"},c.a.createElement(pt.a,{placement:"top",title:"Edit Region"},c.a.createElement("span",{className:"iconSize",onClick:function(){s(!0),f(t)}},c.a.createElement(gt.a,null)))),c.a.createElement(bt.a,{onConfirm:function(){return y(t.id)},title:"Are you sure\uff1f",okText:"Yes",cancelText:"No"},c.a.createElement("span",{className:"iconSize iconSize-danger"},c.a.createElement(ft.a,null))))}})),d&&c.a.createElement(ol,{setvisible:s,visible:l,customer:d,regionList:t,setRegionList:a}))},ul=Object(u.b)((function(e){return{roles:e.globalState}}),null)((function(e){var t=e.roles,a=Object(o.useState)([]),n=Object(g.a)(a,2),r=n[0],i=n[1],l=U({},"regionList"),s=Object(g.a)(l,2),u=s[0],m=s[1];Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m({urlOptions:{params:{sortItem:"added",sortOrderValue:"-1",limitNumber:5e5}}});case 2:t=e.sent,i(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var d=Object(o.useState)(!1),f=Object(g.a)(d,2),h=f[0],v=f[1];console.log("regionState",u);return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"categoryListContainer"},c.a.createElement("div",{className:"categoryListContainer__header"},c.a.createElement("div",{className:"categoryListContainer__header-searchBar"},c.a.createElement("h2",{className:"categoryListContainer__header-title"},"Regions"),c.a.createElement(ll,{enterButton:!1,className:"searchbarClassName",placeholder:"search regions..",onSearch:function(e){return function(e){if(u.data.length>0){var t=u.data.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())}));i(t)}}(e)}})),D("postDelivery",t)&&c.a.createElement(E.a,{className:"btnPrimaryClassNameoutline",icon:c.a.createElement(ht.a,null),onClick:function(){return v(!0)}},"Add New")),c.a.createElement("div",{className:"categoryListContainer__afterHeader"}),c.a.createElement("div",{className:"categoryListContainer__categoryList"},u.done&&r.length>0&&c.a.createElement(sl,{roles:t,setRegionList:i,data:r}),u.isLoading&&c.a.createElement(ta,null),u.done&&!(r.length>0)&&c.a.createElement(Te,{title:"No Region found"}))),u.done&&c.a.createElement(al,{addNewCategoryVisible:h,setAddNewCategoryVisible:v,regionList:u.data,setRegionList:i}))})),ml=y.a().shape({}),dl=function(e){Me.a.error({message:e||"Something Went Wrong",description:"",icon:c.a.createElement(De.a,{style:{color:"rgb(241, 67, 67)"}})})},pl=Ge.a.Option,bl=function(e){Object(h.a)(e);var t=U({},"getSMSConfiguration"),a=Object(g.a)(t,2),n=a[0],r=a[1],i=U({},"configureSMS"),l=Object(g.a)(i,2),s=l[0],u=l[1],m=Object(o.useState)(!0),d=Object(g.a)(m,2),y=d[0],O=d[1],j=Object(o.useState)(!1),N=Object(g.a)(j,2),x=N[0],k=N[1],S=Object(o.useState)({}),w=Object(g.a)(S,2),T=w[0],_=w[1],D=Object(o.useState)(""),I=Object(g.a)(D,2),L=I[0],P=I[1],M=Object(o.useState)(""),R=Object(g.a)(M,2),F=R[0],A=R[1];console.log("getEmailConfigurationState",n),Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r({});case 2:(t=e.sent)&&(_(t),O(t.authentication),P(t.method),A(t.protocol));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),console.log("getEmailConfigurationState",L);var B=function(){var e=Object(b.a)(p.a.mark((function e(t,a){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u({body:{url:t.url,protocol:F,method:L,authentication:y,parameters:{recipient:{key:t.recipientKey,arraySupport:x,separator:t.separator},text:{key:t.textKey},mask:{key:t.maskKey,value:t.maskValue},authentication:{username:{key:t.usernameKey,value:t.usernameValue},password:{key:t.passwordKey,value:t.passwordValue}},additional:{MsgType:t.additionalMsgType}}}});case 2:(n=e.sent)&&n.status,a.setSubmitting(!1);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();Object(o.useEffect)((function(){if(!s.isLoading){var e=s.error;if(e.isError&&Object.keys(e.error).length>0)e.error.registerError||e.error.checkoutError,(Object.values(e.error).length>0?Object.values(e.error):[]).forEach((function(e,t){if("string"===typeof e)dl(e);else if("object"===typeof e){if(e&&Object.keys(e).length>0)Object.values(e).forEach((function(e){dl(e)}))}}))}var t;!s.isLoading&&Object.keys(s.data).length>0&&"ok"===s.data.status&&(t="SMS Settings Updated!",Me.a.success({message:t||"Tag Created",description:"",icon:c.a.createElement(De.a,{style:{color:"rgba(0, 128, 0, 0.493)"}})}))}),[s]);var V=function(e){O(e.target.checked)},G=[{name:"HTTP",value:"HTTP"},{name:"HTTPS",value:"HTTPS"}],z=[{name:"GET",value:"GET"},{name:"POST",value:"POST"}],H=function(e){console.log("valueOfMethod",e),P(e)},W=function(e){A(e)};return c.a.createElement(v.a,{onSubmit:function(e,t){return B(e,t)},validationSchema:ml,validateOnBlur:!1,enableReinitialize:!0,initialValues:Object(f.a)({},{url:"",protocol:"",method:"",parameters:"",recipientKey:"",separator:"",textKey:"",maskKey:"",maskValue:"",usernameKey:"",usernameValue:"",passwordKey:"",passwordValue:"",additionalMsgType:""},{},T,{},T&&Object.keys(T).length>0&&{recipientKey:T.parameters&&T.parameters.recipient&&T.parameters.recipient.key,separator:T.parameters&&T.parameters.recipient&&T.parameters.recipient.separator,textKey:T.parameters&&T.parameters.text&&T.parameters.text.key,maskKey:T.parameters&&T.parameters.mask&&T.parameters.mask.key,maskValue:T.parameters&&T.parameters.mask&&T.parameters.mask.value,usernameKey:T.parameters&&T.parameters.authentication&&T.parameters.authentication.username&&T.parameters.authentication.username.key,usernameValue:T.parameters&&T.parameters.authentication&&T.parameters.authentication.username&&T.parameters.authentication.username.value,passwordKey:T.parameters&&T.parameters.authentication&&T.parameters.authentication.password&&T.parameters.authentication.password.key,passwordValue:T.parameters&&T.parameters.authentication&&T.parameters.authentication.password&&T.parameters.authentication.password.value,additionalMsgType:T.parameters&&T.parameters.additional&&T.parameters.additional.MsgType})},(function(e){var t=e.handleChange,a=e.values,n=e.handleSubmit,r=e.errors,i=(e.isValid,e.isSubmitting),o=e.touched,l=(e.handleBlur,e.setFieldTouched);e.handleReset;return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},c.a.createElement("div",{style:{width:"49%"}},c.a.createElement(C,{label:"URL",value:a.url,name:"url",isError:o.url&&r.url||!i&&s.error.error.url,errorString:o.url&&r.url||!i&&s.error.error.url,onChange:function(e){t(e),l("url")}})),c.a.createElement("div",{style:{width:"49%"}},c.a.createElement("h3",{className:"inputFieldLabel"},"Protocol"),c.a.createElement(Ge.a,{showSearch:!0,style:{width:"100%",borderRadius:"6px"},placeholder:"Select a protocol",defaultValue:F,value:F,onChange:W},G.map((function(e){return c.a.createElement(pl,{value:e.value},e.name)}))))),c.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},c.a.createElement("div",{style:{width:"49%"}},c.a.createElement("h3",{className:"inputFieldLabel"},"Method"),c.a.createElement(Ge.a,{onChange:H,showSearch:!0,style:{width:"100%",borderRadius:"6px"},placeholder:"Select a method",defaultValue:L,value:L},z.map((function(e){return c.a.createElement(pl,{value:e.value},e.name)})))),c.a.createElement("div",{style:{width:"49%"}})),c.a.createElement("div",{style:{marginTop:"20px"}}),c.a.createElement("h3",{style:{},className:"addOrderContainer-sectionTitle"},"Parameters"),c.a.createElement("h3",{className:"inputFieldLabel"},"Recipient"),c.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},c.a.createElement("div",{style:{width:"35%"}},c.a.createElement(xa,{label:"Key",value:a.recipientKey,name:"recipientKey",isError:o.recipientKey&&r.recipientKey||!i&&s.error.error.recipientKey,errorString:o.recipientKey&&r.recipientKey||!i&&s.error.error.recipientKey,onChange:function(e){t(e),l("recipientKey")}})),c.a.createElement("div",{style:{width:"20%",marginLeft:"20px"}},c.a.createElement(Wc.a,{value:x,onChange:function(e){return k(e.target.checked)}},c.a.createElement("span",{className:"checkBoxFieldLabel"},"Array support"))),c.a.createElement("div",{style:{width:"45%"}},x&&c.a.createElement(xa,{label:"Separator",value:a.separator,name:"separator",isError:o.separator&&r.separator||!i&&s.error.error.separator,errorString:o.separator&&r.separator||!i&&s.error.error.separator,onChange:function(e){t(e),l("separator")}}))),c.a.createElement("h3",{className:"inputFieldLabel"},"Text"),c.a.createElement(xa,{label:"Separator",value:a.textKey,name:"textKey",isError:o.textKey&&r.textKey||!i&&s.error.error.textKey,errorString:o.textKey&&r.textKey||!i&&s.error.error.textKey,onChange:function(e){t(e),l("textKey")}}),c.a.createElement("div",{style:{marginTop:"15px"}}),c.a.createElement("h3",{className:"inputFieldLabel"},"Mask"),c.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},c.a.createElement("div",{style:{width:"49%"}},c.a.createElement(xa,{label:"Key",value:a.maskKey,name:"maskKey",isError:o.maskKey&&r.maskKey||!i&&s.error.error.maskKey,errorString:o.maskKey&&r.maskKey||!i&&s.error.error.maskKey,onChange:function(e){t(e),l("maskKey")}})),c.a.createElement("div",{style:{width:"49%"}},c.a.createElement(xa,{label:"Value",value:a.maskValue,name:"maskValue",isError:o.maskValue&&r.maskValue||!i&&s.error.error.maskValue,errorString:o.maskValue&&r.maskValue||!i&&s.error.error.maskValue,onChange:function(e){t(e),l("maskValue")}}))),c.a.createElement("div",{style:{marginTop:"15px"}}),c.a.createElement("h3",{className:"inputFieldLabel"},"Username"),c.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},c.a.createElement("div",{style:{width:"49%"}},c.a.createElement(xa,{label:"Key",value:a.usernameKey,name:"usernameKey",isError:o.usernameKey&&r.usernameKey||!i&&s.error.error.usernameKey,errorString:o.usernameKey&&r.usernameKey||!i&&s.error.error.usernameKey,onChange:function(e){t(e),l("usernameKey")}})),c.a.createElement("div",{style:{width:"49%"}},c.a.createElement(xa,{label:"Value",value:a.usernameValue,name:"usernameValue",isError:o.usernameValue&&r.usernameValue||!i&&s.error.error.usernameValue,errorString:o.usernameValue&&r.usernameValue||!i&&s.error.error.usernameValue,onChange:function(e){t(e),l("usernameValue")}}))),c.a.createElement("div",{style:{marginTop:"15px"}}),c.a.createElement("h3",{className:"inputFieldLabel"},"Password"),c.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},c.a.createElement("div",{style:{width:"49%"}},c.a.createElement(xa,{label:"Key",value:a.passwordKey,name:"passwordKey",isError:o.passwordKey&&r.passwordKey||!i&&s.error.error.passwordKey,errorString:o.passwordKey&&r.passwordKey||!i&&s.error.error.passwordKey,onChange:function(e){t(e),l("passwordKey")}})),c.a.createElement("div",{style:{width:"49%"}},c.a.createElement(xa,{label:"Value",value:a.passwordValue,name:"passwordValue",isError:o.passwordValue&&r.passwordValue||!i&&s.error.error.passwordValue,errorString:o.passwordValue&&r.passwordValue||!i&&s.error.error.passwordValue,onChange:function(e){t(e),l("passwordValue")}}))),c.a.createElement("div",{style:{marginTop:"15px"}}),c.a.createElement("h3",{className:"inputFieldLabel"},"Additional"),c.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},c.a.createElement("div",{style:{width:"49%"}},c.a.createElement(xa,{label:"Msg Type",value:a.additionalMsgType,name:"additionalMsgType",isError:o.additionalMsgType&&r.additionalMsgType||!i&&s.error.error.additionalMsgType,errorString:o.additionalMsgType&&r.additionalMsgType||!i&&s.error.error.additionalMsgType,onChange:function(e){t(e),l("additionalMsgType")}})),c.a.createElement("div",{style:{width:"49%"}})),c.a.createElement(Wc.a,{value:y,onChange:V},c.a.createElement("span",{className:"checkBoxFieldLabel"},"Authentication")),c.a.createElement("div",{style:{marginTop:"20px"}}),c.a.createElement("div",{style:{display:"block",marginBottom:"20px",marginTop:"20px"}},c.a.createElement(E.a,{onClick:function(e){return n(e)},loading:s.isLoading,className:"btnPrimaryClassNameoutline"},"Update SMS Configuration")))}))},gl=(y.a().shape({name:y.c().label("Name").required("Name is required").min(3,"Name must have at least 3 characters")}),_t.a.TabPane),fl=function(e){Me.a.error({message:e||"Something Went Wrong",description:"",icon:c.a.createElement(De.a,{style:{color:"rgb(241, 67, 67)"}})})},hl=function(e){var t=e.visible,a=e.setVisible,n=U({},"configureAutoSMSTemplate"),r=Object(g.a)(n,2),i=r[0],l=r[1],s=U({},"getConfigureAutoSMSTemplate"),u=Object(g.a)(s,2),m=(u[0],u[1]),d=Object(o.useState)({subject:"",body:""}),h=Object(g.a)(d,2),v=h[0],y=h[1],O=Object(o.useState)({subject:"",body:""}),j=Object(g.a)(O,2),N=j[0],x=j[1],k=function(){var e=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l({body:{event:"newCustomer",customer:Object(f.a)({},v),admin:Object(f.a)({},N)}});case 2:(t=e.sent)&&"ok"===t.status?(n=void 0,Me.a.success({message:n||"New Customer Template Updated",description:"",icon:c.a.createElement(De.a,{style:{color:"rgba(0, 128, 0, 0.493)"}})}),a(!1)):fl();case 4:case"end":return e.stop()}var n}),e)})));return function(){return e.apply(this,arguments)}}();Object(o.useEffect)((function(){if(!i.isLoading){var e=i.error;if(e.isError&&Object.keys(e.error).length>0)e.error.registerError||e.error.checkoutError,(Object.values(e.error).length>0?Object.values(e.error):[]).forEach((function(e,t){if("string"===typeof e)fl(e);else if("object"===typeof e){if(e&&Object.keys(e).length>0)Object.values(e).forEach((function(e){fl(e)}))}}))}!i.isLoading&&Object.keys(i.data).length}),[i]),Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m({urlOptions:{placeHolders:{eventName:"newCustomer"}}});case 2:t=e.sent,console.log("newCustomertemplate",t),t&&(x(t.admin||""),y(t.customer||""));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);return c.a.createElement(Ot.a,{width:"80vw",style:{top:"40px"},title:"New Customer Event Template",visible:t,onOk:function(e){return k()},onCancel:function(e){a(!1)},okText:"Submit",okButtonProps:{loading:i.isLoading,htmlType:"submit"},bodyStyle:{margin:"10px",padding:"10px"},footer:!1},c.a.createElement(_t.a,{defaultActiveKey:"1"},c.a.createElement(gl,{tab:"Customer",key:"1"},c.a.createElement("div",{style:{display:"flex"}},c.a.createElement("div",{style:{width:"65%"}},c.a.createElement(C,{label:"Subject",value:v.subject,name:"subject",onChange:function(e){y(Object(f.a)({},v,{subject:e.target.value}))}}),c.a.createElement("h3",{className:"inputFieldLabel"},"Body"),c.a.createElement(ja.a,{editor:Na.a,data:v.body,onInit:function(e){console.log("Editor is ready to use!",e)},onChange:function(e,t){var a=t.getData();y(Object(f.a)({},v,{body:a}))},onBlur:function(e,t){console.log("Blur.",t)},onFocus:function(e,t){console.log("Focus.",t)}}),c.a.createElement("div",{style:{display:"block",marginBottom:"20px",marginTop:"20px"}},c.a.createElement(E.a,{onClick:k,loading:i.isLoading,className:"btnPrimaryClassNameoutline"},"Update Template"))),c.a.createElement("div",{style:{width:"35%",overflowY:"auto",background:"#f7f7f7",marginLeft:"20px",padding:"10px",borderRadius:"8px"}},c.a.createElement("h4",null,"Information Tags"),c.a.createElement("p",{style:{fontSize:"12px"}},"Place the following tags to replace them with actual data while sending email"),c.a.createElement("ul",{style:{padding:"15px"}},c.a.createElement("li",{style:{fontSize:"12px",marginBottom:"10px",lineHeight:1.7,fontWeight:500}},c.a.createElement("b",{style:{borderRadius:"15px",backgroundColor:"#ddd",padding:"1px 10px"}},"<?=customer.firstName?> :")," ","First Name"),c.a.createElement("li",{style:{fontSize:"12px",lineHeight:2,fontWeight:500}},c.a.createElement("b",{style:{borderRadius:"15px",backgroundColor:"#ddd",padding:"1px 10px"}},"<?customer.lastName?> :")," ","Last Name"),c.a.createElement("li",{style:{fontSize:"12px",lineHeight:2,fontWeight:500}},c.a.createElement("b",{style:{borderRadius:"15px",backgroundColor:"#ddd",padding:"1px 10px"}},"<?customer.phone?> :")," ","Phone"),c.a.createElement("li",{style:{fontSize:"12px",lineHeight:2,fontWeight:500}},c.a.createElement("b",{style:{borderRadius:"15px",backgroundColor:"#ddd",padding:"1px 10px"}},"<?customer.email?> :")," ","Email"),c.a.createElement("li",{style:{fontSize:"12px",lineHeight:2,fontWeight:500}},c.a.createElement("b",{style:{borderRadius:"15px",backgroundColor:"#ddd",padding:"1px 10px"}},"<?customer.email?> :")," ","Email"),c.a.createElement("li",{style:{fontSize:"12px",lineHeight:2,fontWeight:500}},c.a.createElement("b",{style:{borderRadius:"15px",backgroundColor:"#ddd",padding:"1px 10px"}},"<?customer.address1?> :")," ","Address"),c.a.createElement("li",{style:{fontSize:"12px",lineHeight:2,fontWeight:500}},c.a.createElement("b",{style:{borderRadius:"15px",backgroundColor:"#ddd",padding:"1px 10px"}},"<?customer.added?> :")," ","Joined"))))),c.a.createElement(gl,{tab:"Admin",key:"2"},c.a.createElement("div",{style:{display:"flex"}},c.a.createElement("div",{style:{width:"65%"}},c.a.createElement(C,{label:"Subject",value:N.subject,name:"subject",onChange:function(e){x(Object(f.a)({},N,{subject:e.target.value}))}}),c.a.createElement("h3",{className:"inputFieldLabel"},"Body"),c.a.createElement(ja.a,{editor:Na.a,data:N.body,onInit:function(e){console.log("Editor is ready to use!",e)},onChange:function(e,t){var a=t.getData();x(Object(f.a)({},N,{body:a}))},onBlur:function(e,t){console.log("Blur.",t)},onFocus:function(e,t){console.log("Focus.",t)}}),c.a.createElement("div",{style:{display:"block",marginBottom:"20px",marginTop:"20px"}},c.a.createElement(E.a,{onClick:k,loading:i.isLoading,className:"btnPrimaryClassNameoutline"},"Update Template"))),c.a.createElement("div",{style:{width:"35%",overflowY:"auto",background:"#f7f7f7",marginLeft:"20px",padding:"10px",borderRadius:"8px"}},c.a.createElement("h4",null,"Information Tags"),c.a.createElement("p",{style:{fontSize:"12px"}},"Place the following tags to replace them with actual data while sending email"),c.a.createElement("ul",{style:{padding:"15px"}},c.a.createElement("li",{style:{fontSize:"12px",marginBottom:"10px",lineHeight:1.7,fontWeight:500}},c.a.createElement("b",{style:{borderRadius:"15px",backgroundColor:"#ddd",padding:"1px 10px"}},"<?=customer.firstName?> :")," ","First Name"),c.a.createElement("li",{style:{fontSize:"12px",lineHeight:2,fontWeight:500}},c.a.createElement("b",{style:{borderRadius:"15px",backgroundColor:"#ddd",padding:"1px 10px"}},"<?customer.lastName?> :")," ","Last Name"),c.a.createElement("li",{style:{fontSize:"12px",lineHeight:2,fontWeight:500}},c.a.createElement("b",{style:{borderRadius:"15px",backgroundColor:"#ddd",padding:"1px 10px"}},"<?customer.phone?> :")," ","Phone"),c.a.createElement("li",{style:{fontSize:"12px",lineHeight:2,fontWeight:500}},c.a.createElement("b",{style:{borderRadius:"15px",backgroundColor:"#ddd",padding:"1px 10px"}},"<?customer.email?> :")," ","Email"),c.a.createElement("li",{style:{fontSize:"12px",lineHeight:2,fontWeight:500}},c.a.createElement("b",{style:{borderRadius:"15px",backgroundColor:"#ddd",padding:"1px 10px"}},"<?customer.email?> :")," ","Email"),c.a.createElement("li",{style:{fontSize:"12px",lineHeight:2,fontWeight:500}},c.a.createElement("b",{style:{borderRadius:"15px",backgroundColor:"#ddd",padding:"1px 10px"}},"<?customer.address1?> :")," ","Address"),c.a.createElement("li",{style:{fontSize:"12px",lineHeight:2,fontWeight:500}},c.a.createElement("b",{style:{borderRadius:"15px",backgroundColor:"#ddd",padding:"1px 10px"}},"<?customer.added?> :")," ","Joined")))))))},El=(y.a().shape({name:y.c().label("Name").required("Name is required").min(3,"Name must have at least 3 characters")}),_t.a.TabPane),vl=function(e){Me.a.error({message:e||"Something Went Wrong",description:"",icon:c.a.createElement(De.a,{style:{color:"rgb(241, 67, 67)"}})})},yl=function(e){var t=e.visible,a=e.setVisible,n=U({},"configureAutoSMSTemplate"),r=Object(g.a)(n,2),i=r[0],l=r[1],s=U({},"getConfigureAutoSMSTemplate"),u=Object(g.a)(s,2),m=(u[0],u[1]),d=Object(o.useState)({subject:"",body:""}),h=Object(g.a)(d,2),v=h[0],y=h[1],O=Object(o.useState)({subject:"",body:""}),j=Object(g.a)(O,2),N=j[0],x=j[1],k=function(){var e=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l({body:{event:"newDealer",user:Object(f.a)({},v),admin:Object(f.a)({},N)}});case 2:(t=e.sent)&&"ok"===t.status?(n=void 0,Me.a.success({message:n||"New Dealer Template Updated",description:"",icon:c.a.createElement(De.a,{style:{color:"rgba(0, 128, 0, 0.493)"}})}),a(!1)):vl();case 4:case"end":return e.stop()}var n}),e)})));return function(){return e.apply(this,arguments)}}();Object(o.useEffect)((function(){if(!i.isLoading){var e=i.error;if(e.isError&&Object.keys(e.error).length>0)e.error.registerError||e.error.checkoutError,(Object.values(e.error).length>0?Object.values(e.error):[]).forEach((function(e,t){if("string"===typeof e)vl(e);else if("object"===typeof e){if(e&&Object.keys(e).length>0)Object.values(e).forEach((function(e){vl(e)}))}}))}!i.isLoading&&Object.keys(i.data).length}),[i]),Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m({urlOptions:{placeHolders:{eventName:"newDealer"}}});case 2:t=e.sent,console.log("newDealertemplate",t),t&&(x(t.admin||""),y(t.user||""));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);return c.a.createElement(Ot.a,{width:"80vw",style:{top:"40px"},title:"New Dealer Event Template",visible:t,onOk:function(e){return k()},onCancel:function(e){a(!1)},okText:"Submit",okButtonProps:{loading:i.isLoading,htmlType:"submit"},bodyStyle:{margin:"10px",padding:"10px"},footer:!1},c.a.createElement(_t.a,{defaultActiveKey:"1"},c.a.createElement(El,{tab:"Customer",key:"1"},c.a.createElement("div",{style:{display:"flex"}},c.a.createElement("div",{style:{width:"65%"}},c.a.createElement(C,{label:"Subject",value:v.subject||"",name:"subject",onChange:function(e){y(Object(f.a)({},v,{subject:e.target.value}))}}),c.a.createElement("h3",{className:"inputFieldLabel"},"Body"),c.a.createElement(ja.a,{editor:Na.a,data:v.body||"",onInit:function(e){console.log("Editor is ready to use!",e)},onChange:function(e,t){var a=t.getData();y(Object(f.a)({},v,{body:a}))},onBlur:function(e,t){console.log("Blur.",t)},onFocus:function(e,t){console.log("Focus.",t)}}),c.a.createElement("div",{style:{display:"block",marginBottom:"20px",marginTop:"20px"}},c.a.createElement(E.a,{onClick:k,loading:i.isLoading,className:"btnPrimaryClassNameoutline"},"Update Template"))),c.a.createElement("div",{style:{width:"35%",overflowY:"auto",background:"#f7f7f7",marginLeft:"20px",padding:"10px",borderRadius:"8px"}},c.a.createElement("h4",null,"Information Tags"),c.a.createElement("p",{style:{fontSize:"12px"}},"Place the following tags to replace them with actual data while sending email"),c.a.createElement("ul",{style:{padding:"15px"}},c.a.createElement("li",{style:{fontSize:"12px",marginBottom:"10px",lineHeight:1.7,fontWeight:500}},c.a.createElement("b",{style:{borderRadius:"15px",backgroundColor:"#ddd",padding:"1px 10px"}},"<?=user.code?> :")," ","Code"),c.a.createElement("li",{style:{fontSize:"12px",marginBottom:"10px",lineHeight:1.7,fontWeight:500}},c.a.createElement("b",{style:{borderRadius:"15px",backgroundColor:"#ddd",padding:"1px 10px"}},"<?=user.firstName?> :")," ","First Name"),c.a.createElement("li",{style:{fontSize:"12px",lineHeight:2,fontWeight:500}},c.a.createElement("b",{style:{borderRadius:"15px",backgroundColor:"#ddd",padding:"1px 10px"}},"<?user.lastName?> :")," ","Last Name"),c.a.createElement("li",{style:{fontSize:"12px",lineHeight:2,fontWeight:500}},c.a.createElement("b",{style:{borderRadius:"15px",backgroundColor:"#ddd",padding:"1px 10px"}},"<?user.phone?> :")," ","Phone"),c.a.createElement("li",{style:{fontSize:"12px",lineHeight:2,fontWeight:500}},c.a.createElement("b",{style:{borderRadius:"15px",backgroundColor:"#ddd",padding:"1px 10px"}},"<?user.email?> :")," ","Email"),c.a.createElement("li",{style:{fontSize:"12px",lineHeight:2,fontWeight:500}},c.a.createElement("b",{style:{borderRadius:"15px",backgroundColor:"#ddd",padding:"1px 10px"}},"<?user.email?> :")," ","Email"),c.a.createElement("li",{style:{fontSize:"12px",lineHeight:2,fontWeight:500}},c.a.createElement("b",{style:{borderRadius:"15px",backgroundColor:"#ddd",padding:"1px 10px"}},"<?user.address1?> :")," ","Address"),c.a.createElement("li",{style:{fontSize:"12px",lineHeight:2,fontWeight:500}},c.a.createElement("b",{style:{borderRadius:"15px",backgroundColor:"#ddd",padding:"1px 10px"}},"<?user.added?> :")," ","Joined"))))),c.a.createElement(El,{tab:"Admin",key:"2"},c.a.createElement("div",{style:{display:"flex"}},c.a.createElement("div",{style:{width:"65%"}},c.a.createElement(C,{label:"Subject",value:N.subject,name:"subject",onChange:function(e){x(Object(f.a)({},N,{subject:e.target.value}))}}),c.a.createElement("h3",{className:"inputFieldLabel"},"Body"),c.a.createElement(ja.a,{editor:Na.a,data:N.body,onInit:function(e){console.log("Editor is ready to use!",e)},onChange:function(e,t){var a=t.getData();x(Object(f.a)({},N,{body:a}))},onBlur:function(e,t){console.log("Blur.",t)},onFocus:function(e,t){console.log("Focus.",t)}}),c.a.createElement("div",{style:{display:"block",marginBottom:"20px",marginTop:"20px"}},c.a.createElement(E.a,{onClick:k,loading:i.isLoading,className:"btnPrimaryClassNameoutline"},"Update Template"))),c.a.createElement("div",{style:{width:"35%",overflowY:"auto",background:"#f7f7f7",marginLeft:"20px",padding:"10px",borderRadius:"8px"}},c.a.createElement("h4",null,"Information Tags"),c.a.createElement("p",{style:{fontSize:"12px"}},"Place the following tags to replace them with actual data while sending email"),c.a.createElement("ul",{style:{padding:"15px"}},c.a.createElement("li",{style:{fontSize:"12px",marginBottom:"10px",lineHeight:1.7,fontWeight:500}},c.a.createElement("b",{style:{borderRadius:"15px",backgroundColor:"#ddd",padding:"1px 10px"}},"<?=user.code?> :")," ","Code"),c.a.createElement("li",{style:{fontSize:"12px",marginBottom:"10px",lineHeight:1.7,fontWeight:500}},c.a.createElement("b",{style:{borderRadius:"15px",backgroundColor:"#ddd",padding:"1px 10px"}},"<?=user.firstName?> :")," ","First Name"),c.a.createElement("li",{style:{fontSize:"12px",lineHeight:2,fontWeight:500}},c.a.createElement("b",{style:{borderRadius:"15px",backgroundColor:"#ddd",padding:"1px 10px"}},"<?user.lastName?> :")," ","Last Name"),c.a.createElement("li",{style:{fontSize:"12px",lineHeight:2,fontWeight:500}},c.a.createElement("b",{style:{borderRadius:"15px",backgroundColor:"#ddd",padding:"1px 10px"}},"<?user.phone?> :")," ","Phone"),c.a.createElement("li",{style:{fontSize:"12px",lineHeight:2,fontWeight:500}},c.a.createElement("b",{style:{borderRadius:"15px",backgroundColor:"#ddd",padding:"1px 10px"}},"<?user.email?> :")," ","Email"),c.a.createElement("li",{style:{fontSize:"12px",lineHeight:2,fontWeight:500}},c.a.createElement("b",{style:{borderRadius:"15px",backgroundColor:"#ddd",padding:"1px 10px"}},"<?user.email?> :")," ","Email"),c.a.createElement("li",{style:{fontSize:"12px",lineHeight:2,fontWeight:500}},c.a.createElement("b",{style:{borderRadius:"15px",backgroundColor:"#ddd",padding:"1px 10px"}},"<?user.address1?> :")," ","Address"),c.a.createElement("li",{style:{fontSize:"12px",lineHeight:2,fontWeight:500}},c.a.createElement("b",{style:{borderRadius:"15px",backgroundColor:"#ddd",padding:"1px 10px"}},"<?user.added?> :")," ","Joined")))))))},Ol=(y.a().shape({}),_t.a.TabPane),jl=function(e){Me.a.error({message:e||"Something Went Wrong",description:"",icon:c.a.createElement(De.a,{style:{color:"rgb(241, 67, 67)"}})})},Cl=function(e){var t=e.visible,a=e.setVisible,n=U({},"configureAutoSMSTemplate"),r=Object(g.a)(n,2),i=r[0],l=r[1],s=U({},"getConfigureAutoSMSTemplate"),u=Object(g.a)(s,2),m=(u[0],u[1]),d=Object(o.useState)({subject:"",body:""}),h=Object(g.a)(d,2),v=h[0],y=h[1],O=Object(o.useState)({subject:"",body:""}),j=Object(g.a)(O,2),N=j[0],x=j[1],k=function(){var e=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l({body:{event:"orderStatus",customer:Object(f.a)({},v),admin:Object(f.a)({},N)}});case 2:(t=e.sent)&&"ok"===t.status?(n=void 0,Me.a.success({message:n||"New Customer Template Updated",description:"",icon:c.a.createElement(De.a,{style:{color:"rgba(0, 128, 0, 0.493)"}})}),a(!1)):jl();case 4:case"end":return e.stop()}var n}),e)})));return function(){return e.apply(this,arguments)}}();Object(o.useEffect)((function(){if(!i.isLoading){var e=i.error;if(e.isError&&Object.keys(e.error).length>0)e.error.registerError||e.error.checkoutError,(Object.values(e.error).length>0?Object.values(e.error):[]).forEach((function(e,t){if("string"===typeof e)jl(e);else if("object"===typeof e){if(e&&Object.keys(e).length>0)Object.values(e).forEach((function(e){jl(e)}))}}))}!i.isLoading&&Object.keys(i.data).length}),[i]),Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m({urlOptions:{placeHolders:{eventName:"orderStatus"}}});case 2:t=e.sent,console.log("orderStatus",t),t&&(x(t.admin||""),y(t.customer||""));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);return c.a.createElement(Ot.a,{width:"70vw",style:{top:"40px"},title:"Order Status Template",visible:t,onOk:function(e){return k()},onCancel:function(e){a(!1)},okText:"Submit",okButtonProps:{loading:i.isLoading,htmlType:"submit"},bodyStyle:{margin:"10px",padding:"10px"},footer:!1},c.a.createElement(_t.a,{defaultActiveKey:"1"},c.a.createElement(Ol,{tab:"Customer",key:"1"},c.a.createElement("div",{style:{display:"flex"}},c.a.createElement("div",{style:{width:"70%"}},c.a.createElement(C,{label:"Subject",value:v.subject||"",name:"subject",onChange:function(e){y(Object(f.a)({},v,{subject:e.target.value}))}}),c.a.createElement("h3",{className:"inputFieldLabel"},"Body"),c.a.createElement(ja.a,{editor:Na.a,data:v.body||"",onInit:function(e){console.log("Editor is ready to use!",e)},onChange:function(e,t){var a=t.getData();y(Object(f.a)({},v,{body:a}))},onBlur:function(e,t){console.log("Blur.",t)},onFocus:function(e,t){console.log("Focus.",t)}}),c.a.createElement("div",{style:{display:"block",marginBottom:"20px",marginTop:"20px"}},c.a.createElement(E.a,{onClick:k,loading:i.isLoading,className:"btnPrimaryClassNameoutline"},"Update Template"))),c.a.createElement("div",{style:{width:"30%",overflowY:"auto",background:"#f7f7f7",marginLeft:"20px",padding:"10px",borderRadius:"8px"}},c.a.createElement("h4",null,"Information Tags"),c.a.createElement("p",{style:{fontSize:"12px"}},"Place the following tags to replace them with actual data while sending email"),c.a.createElement("ul",{style:{padding:"15px"}},c.a.createElement("li",{style:{fontSize:"12px",marginBottom:"10px",lineHeight:1.7,fontWeight:500}},c.a.createElement("b",{style:{borderRadius:"15px",backgroundColor:"#ddd",padding:"1px 10px"}},"<?=order.status.name?> :")," ","Order Status"),c.a.createElement("li",{style:{fontSize:"12px",marginBottom:"10px",lineHeight:1.7,fontWeight:500}},c.a.createElement("b",{style:{borderRadius:"15px",backgroundColor:"#ddd",padding:"1px 10px"}},"<?=customer.firstName?> :")," ","Customer first name"),c.a.createElement("li",{style:{fontSize:"12px",marginBottom:"10px",lineHeight:1.7,fontWeight:500}},c.a.createElement("b",{style:{borderRadius:"15px",backgroundColor:"#ddd",padding:"1px 10px"}},"<?=customer.lastName?> :")," ","Customer last name"),c.a.createElement("li",{style:{fontSize:"12px",marginBottom:"10px",lineHeight:1.7,fontWeight:500}},c.a.createElement("b",{style:{borderRadius:"15px",backgroundColor:"#ddd",padding:"1px 10px"}},"<?=order.shortCode?> :")," ","Order Code"))))),c.a.createElement(Ol,{tab:"Admin",key:"2"},c.a.createElement("div",{style:{display:"flex"}},c.a.createElement("div",{style:{width:"70%"}},c.a.createElement(C,{label:"Subject",value:N.subject,name:"subject",onChange:function(e){x(Object(f.a)({},N,{subject:e.target.value}))}}),c.a.createElement("h3",{className:"inputFieldLabel"},"Body"),c.a.createElement(ja.a,{editor:Na.a,data:N.body,onInit:function(e){console.log("Editor is ready to use!",e)},onChange:function(e,t){var a=t.getData();x(Object(f.a)({},N,{body:a}))},onBlur:function(e,t){console.log("Blur.",t)},onFocus:function(e,t){console.log("Focus.",t)}}),c.a.createElement("div",{style:{display:"block",marginBottom:"20px",marginTop:"20px"}},c.a.createElement(E.a,{onClick:k,loading:i.isLoading,className:"btnPrimaryClassNameoutline"},"Update Template"))),c.a.createElement("div",{style:{width:"30%",overflowY:"auto",background:"#f7f7f7",marginLeft:"20px",padding:"10px",borderRadius:"8px"}},c.a.createElement("h4",null,"Information Tags"),c.a.createElement("p",{style:{fontSize:"12px"}},"Place the following tags to replace them with actual data while sending email"),c.a.createElement("ul",{style:{padding:"15px"}},c.a.createElement("li",{style:{fontSize:"12px",marginBottom:"10px",lineHeight:1.7,fontWeight:500}},c.a.createElement("b",{style:{borderRadius:"15px",backgroundColor:"#ddd",padding:"1px 10px"}},"<?=order.status.name?> :")," ","Order Status"),c.a.createElement("li",{style:{fontSize:"12px",marginBottom:"10px",lineHeight:1.7,fontWeight:500}},c.a.createElement("b",{style:{borderRadius:"15px",backgroundColor:"#ddd",padding:"1px 10px"}},"<?=customer.firstName?> :")," ","Customer first name"),c.a.createElement("li",{style:{fontSize:"12px",marginBottom:"10px",lineHeight:1.7,fontWeight:500}},c.a.createElement("b",{style:{borderRadius:"15px",backgroundColor:"#ddd",padding:"1px 10px"}},"<?=customer.lastName?> :")," ","Customer last name"),c.a.createElement("li",{style:{fontSize:"12px",marginBottom:"10px",lineHeight:1.7,fontWeight:500}},c.a.createElement("b",{style:{borderRadius:"15px",backgroundColor:"#ddd",padding:"1px 10px"}},"<?=order.shortCode?> :")," ","Order Code")))))))},Nl=(y.a().shape({name:y.c().label("Name").required("Name is required").min(3,"Name must have at least 3 characters")}),_t.a.TabPane),xl=function(e){Me.a.error({message:e||"Something Went Wrong",description:"",icon:c.a.createElement(De.a,{style:{color:"rgb(241, 67, 67)"}})})},kl=function(e){var t=e.visible,a=e.setVisible,n=U({},"configureAutoSMSTemplate"),r=Object(g.a)(n,2),i=r[0],l=r[1],s=U({},"getConfigureAutoSMSTemplate"),u=Object(g.a)(s,2),m=(u[0],u[1]),d=Object(o.useState)({subject:"",body:""}),h=Object(g.a)(d,2),v=h[0],y=h[1],O=Object(o.useState)({subject:"",body:""}),j=Object(g.a)(O,2),N=j[0],x=j[1],k=function(){var e=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l({body:{event:"order",customer:Object(f.a)({},v),admin:Object(f.a)({},N)}});case 2:(t=e.sent)&&"ok"===t.status?(n=void 0,Me.a.success({message:n||"New Order Template Updated",description:"",icon:c.a.createElement(De.a,{style:{color:"rgba(0, 128, 0, 0.493)"}})}),a(!1)):xl();case 4:case"end":return e.stop()}var n}),e)})));return function(){return e.apply(this,arguments)}}();Object(o.useEffect)((function(){if(!i.isLoading){var e=i.error;if(e.isError&&Object.keys(e.error).length>0)e.error.registerError||e.error.checkoutError,(Object.values(e.error).length>0?Object.values(e.error):[]).forEach((function(e,t){if("string"===typeof e)xl(e);else if("object"===typeof e){if(e&&Object.keys(e).length>0)Object.values(e).forEach((function(e){xl(e)}))}}))}!i.isLoading&&Object.keys(i.data).length}),[i]),Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m({urlOptions:{placeHolders:{eventName:"order"}}});case 2:t=e.sent,console.log("Ordertemplate",t),t&&(x(t.admin||""),y(t.customer||""));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);return c.a.createElement(Ot.a,{width:"80vw",style:{top:"40px"},title:"Order Event Template",visible:t,onOk:function(e){return k()},onCancel:function(e){a(!1)},okText:"Submit",okButtonProps:{loading:i.isLoading,htmlType:"submit"},bodyStyle:{margin:"10px",padding:"10px"},footer:!1},c.a.createElement(_t.a,{defaultActiveKey:"1"},c.a.createElement(Nl,{tab:"Customer",key:"1"},c.a.createElement("div",{style:{display:"flex"}},c.a.createElement("div",{style:{width:"60%"}},c.a.createElement(C,{label:"Subject",value:v.subject,name:"subject",onChange:function(e){y(Object(f.a)({},v,{subject:e.target.value}))}}),c.a.createElement("h3",{className:"inputFieldLabel"},"Body"),c.a.createElement(ja.a,{editor:Na.a,data:v.body,onInit:function(e){console.log("Editor is ready to use!",e)},onChange:function(e,t){var a=t.getData();y(Object(f.a)({},v,{body:a}))},onBlur:function(e,t){console.log("Blur.",t)},onFocus:function(e,t){console.log("Focus.",t)}}),c.a.createElement("div",{style:{display:"block",marginBottom:"20px",marginTop:"20px"}},c.a.createElement(E.a,{onClick:k,loading:i.isLoading,className:"btnPrimaryClassNameoutline"},"Update Template"))),c.a.createElement("div",{style:{width:"40%",overflowY:"auto",background:"#f7f7f7",marginLeft:"20px",padding:"10px",borderRadius:"8px"}},c.a.createElement("h4",null,"Information Tags"),c.a.createElement("p",{style:{fontSize:"12px"}},"Place the following tags to replace them with actual data while sending email"),c.a.createElement("ul",{style:{padding:"15px"}},c.a.createElement("li",{style:{fontSize:"12px",marginBottom:"10px",lineHeight:1.7,fontWeight:500}},c.a.createElement("b",{style:{borderRadius:"15px",backgroundColor:"#ddd",padding:"1px 10px"}},"<?=order.added?> :")," ","Order time"),c.a.createElement("li",{style:{fontSize:"12px",lineHeight:2,fontWeight:500}},c.a.createElement("b",{style:{borderRadius:"15px",backgroundColor:"#ddd",padding:"1px 10px"}},"<?order.totalPrice?> :")," ","Total Price"),c.a.createElement("li",{style:{fontSize:"12px",lineHeight:2,fontWeight:500}},c.a.createElement("b",{style:{borderRadius:"15px",backgroundColor:"#ddd",padding:"1px 10px"}},"<?order.status.name?> :")," ","Status at"),c.a.createElement("li",{style:{fontSize:"12px",lineHeight:2,fontWeight:500}},c.a.createElement("b",{style:{borderRadius:"15px",backgroundColor:"#ddd",padding:"1px 10px"}},"<?order.shippingAddress.firstName?> :")," ","Shipping first Name"),c.a.createElement("li",{style:{fontSize:"12px",lineHeight:2,fontWeight:500}},c.a.createElement("b",{style:{borderRadius:"15px",backgroundColor:"#ddd",padding:"1px 10px"}},"<?order.shippingAddress.country?> :")," ","Shipping Country"),c.a.createElement("li",{style:{fontSize:"12px",lineHeight:2,fontWeight:500}},c.a.createElement("b",{style:{borderRadius:"15px",backgroundColor:"#ddd",padding:"1px 10px"}},"<?order.shippingAddress.city?> :")," ","Shipping City"))))),c.a.createElement(Nl,{tab:"Admin",key:"2"},c.a.createElement("div",{style:{display:"flex"}},c.a.createElement("div",{style:{width:"60%"}},c.a.createElement(C,{label:"Subject",value:N.subject,name:"subject",onChange:function(e){x(Object(f.a)({},N,{subject:e.target.value}))}}),c.a.createElement("h3",{className:"inputFieldLabel"},"Body"),c.a.createElement(ja.a,{editor:Na.a,data:N.body,onInit:function(e){console.log("Editor is ready to use!",e)},onChange:function(e,t){var a=t.getData();x(Object(f.a)({},N,{body:a}))},onBlur:function(e,t){console.log("Blur.",t)},onFocus:function(e,t){console.log("Focus.",t)}}),c.a.createElement("div",{style:{display:"block",marginBottom:"20px",marginTop:"20px"}},c.a.createElement(E.a,{onClick:k,loading:i.isLoading,className:"btnPrimaryClassNameoutline"},"Update Template"))),c.a.createElement("div",{style:{width:"40%",overflowY:"auto",background:"#f7f7f7",marginLeft:"20px",padding:"10px",borderRadius:"8px"}},c.a.createElement("h4",null,"Information Tags"),c.a.createElement("p",{style:{fontSize:"12px"}},"Place the following tags to replace them with actual data while sending email"),c.a.createElement("ul",{style:{padding:"15px"}},c.a.createElement("li",{style:{fontSize:"12px",marginBottom:"10px",lineHeight:1.7,fontWeight:500}},c.a.createElement("b",{style:{borderRadius:"15px",backgroundColor:"#ddd",padding:"1px 10px"}},"<?=order.added?> :")," ","Order time"),c.a.createElement("li",{style:{fontSize:"12px",lineHeight:2,fontWeight:500}},c.a.createElement("b",{style:{borderRadius:"15px",backgroundColor:"#ddd",padding:"1px 10px"}},"<?order.totalPrice?> :")," ","Total Price"),c.a.createElement("li",{style:{fontSize:"12px",lineHeight:2,fontWeight:500}},c.a.createElement("b",{style:{borderRadius:"15px",backgroundColor:"#ddd",padding:"1px 10px"}},"<?order.status.name?> :")," ","Status at"),c.a.createElement("li",{style:{fontSize:"12px",lineHeight:2,fontWeight:500}},c.a.createElement("b",{style:{borderRadius:"15px",backgroundColor:"#ddd",padding:"1px 10px"}},"<?order.shippingAddress.firstName?> :")," ","Shipping first Name"),c.a.createElement("li",{style:{fontSize:"12px",lineHeight:2,fontWeight:500}},c.a.createElement("b",{style:{borderRadius:"15px",backgroundColor:"#ddd",padding:"1px 10px"}},"<?order.shippingAddress.country?> :")," ","Shipping Country"),c.a.createElement("li",{style:{fontSize:"12px",lineHeight:2,fontWeight:500}},c.a.createElement("b",{style:{borderRadius:"15px",backgroundColor:"#ddd",padding:"1px 10px"}},"<?order.shippingAddress.city?> :")," ","Shipping City")))))))},Sl=(y.a().shape({name:y.c().label("Name").required("Name is required").min(3,"Name must have at least 3 characters")}),function(e){Me.a.error({message:e||"Something Went Wrong",description:"",icon:c.a.createElement(De.a,{style:{color:"rgb(241, 67, 67)"}})})}),wl=function(e){Object(h.a)(e);var t=U({},"getAutoSMSConfiguration"),a=Object(g.a)(t,2),n=a[0],r=a[1],i=U({},"configureAutoSMS"),l=Object(g.a)(i,2),s=l[0],u=l[1],m=Object(o.useState)(!1),d=Object(g.a)(m,2),f=d[0],v=d[1],y=Object(o.useState)(!1),O=Object(g.a)(y,2),j=O[0],C=O[1],N=Object(o.useState)(!1),x=Object(g.a)(N,2),k=x[0],S=x[1],w=Object(o.useState)(!1),T=Object(g.a)(w,2),_=T[0],D=T[1],I=Object(o.useState)(!1),L=Object(g.a)(I,2),P=L[0],M=L[1],R=Object(o.useState)(!1),F=Object(g.a)(R,2),A=F[0],B=F[1],V=Object(o.useState)(!1),G=Object(g.a)(V,2),z=G[0],H=G[1],W=Object(o.useState)(!1),q=Object(g.a)(W,2),Y=q[0],K=q[1],J=Object(o.useState)(!1),Q=Object(g.a)(J,2),X=Q[0],Z=Q[1],$=Object(o.useState)(!1),ee=Object(g.a)($,2),te=ee[0],ae=ee[1],ne=Object(o.useState)(!1),re=Object(g.a)(ne,2),ie=re[0],oe=re[1],ce=Object(o.useState)(!1),le=Object(g.a)(ce,2),se=le[0],ue=le[1],me=Object(o.useState)({}),de=Object(g.a)(me,2),pe=de[0],be=de[1];console.log("isnewCustomerAdmin",f),console.log("isnewCustomerCustomer",j),Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){var t,a,n,i,o,c,l,s,u;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r({});case 2:(t=e.sent)&&(be(pe),v((null===t||void 0===t||null===(a=t.newCustomer)||void 0===a?void 0:a.admin)||""),C((null===t||void 0===t||null===(n=t.newCustomer)||void 0===n?void 0:n.user)||""),S((null===t||void 0===t||null===(i=t.newDealer)||void 0===i?void 0:i.admin)||""),D((null===t||void 0===t||null===(o=t.newDealer)||void 0===o?void 0:o.user)||""),K((null===t||void 0===t||null===(c=t.orderStatus)||void 0===c?void 0:c.user)||""),B((null===t||void 0===t||null===(l=t.orderStatus)||void 0===l?void 0:l.admin)||""),M((null===t||void 0===t||null===(s=t.order)||void 0===s?void 0:s.admin)||""),H((null===t||void 0===t||null===(u=t.order)||void 0===u?void 0:u.user)||""));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),console.log("getAutoEmailConfigurationState",n);var ge=function(){var e=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u({body:{newCustomer:{admin:f,user:j},order:{admin:P,user:z},orderStatus:{admin:A,user:Y},newDealer:{admin:k,user:_}}});case 2:(t=e.sent)&&"ok"===t.status?(a="Auto email Configuration Updated!",Me.a.success({message:a||"Tag Created",description:"",icon:c.a.createElement(De.a,{style:{color:"rgba(0, 128, 0, 0.493)"}})})):Sl("Something went wrong, Couldn't updated Auto email configuration");case 4:case"end":return e.stop()}var a}),e)})));return function(){return e.apply(this,arguments)}}();return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},c.a.createElement("div",{style:{}},c.a.createElement("div",{style:{display:"flex",alignItems:"center"}},c.a.createElement("div",{style:{marginRight:"15px",marginTop:"10px"}},c.a.createElement("h3",{className:"checkBoxFieldLabel"},"New Customer")),c.a.createElement(E.a,{className:"templateEditSmall",onClick:function(){return Z(!0)},type:"link",icon:c.a.createElement(gt.a,null)},"configure Template")),c.a.createElement("div",{style:{marginTop:"15px"}}),c.a.createElement("div",{style:{display:"flex",marginTop:"15px"}},c.a.createElement("div",{style:{marginRight:"20px"}},c.a.createElement(Wc.a,{checked:f,defaultChecked:f,onChange:function(e){return v(e.target.checked)}},c.a.createElement("span",{className:"checkBoxSmallFieldLabel"},"Admin"))),c.a.createElement("div",{style:{}},c.a.createElement(Wc.a,{checked:j,defaultChecked:j,onChange:function(e){return C(e.target.checked)}},c.a.createElement("span",{className:"checkBoxSmallFieldLabel"},"Customer"))))),c.a.createElement("div",{style:{marginTop:"25px"}}),c.a.createElement("div",{style:{}},c.a.createElement("div",{style:{display:"flex",alignItems:"center"}},c.a.createElement("div",{style:{marginRight:"15px",marginTop:"10px"}},c.a.createElement("h3",{className:"checkBoxFieldLabel"},"New Dealer")),c.a.createElement(E.a,{className:"templateEditSmall",onClick:function(){return ae(!0)},type:"link",icon:c.a.createElement(gt.a,null)},"configure Template")),c.a.createElement("div",{style:{marginTop:"15px"}}),c.a.createElement("div",{style:{display:"flex",marginTop:"15px"}},c.a.createElement("div",{style:{marginRight:"20px"}},c.a.createElement(Wc.a,{checked:k,defaultChecked:k,onChange:function(e){return S(e.target.checked)}},c.a.createElement("span",{className:"checkBoxSmallFieldLabel"},"Admin"))),c.a.createElement("div",{style:{}},c.a.createElement(Wc.a,{checked:_,defaultChecked:_,onChange:function(e){return D(e.target.checked)}},c.a.createElement("span",{className:"checkBoxSmallFieldLabel"},"Customer"))))),c.a.createElement("div",null,c.a.createElement("div",{style:{display:"flex",alignItems:"center",marginTop:"30px"}},c.a.createElement("div",{style:{marginRight:"15px",marginTop:"10px"}},c.a.createElement("h3",{className:"checkBoxFieldLabel"},"Order")),c.a.createElement(E.a,{className:"templateEditSmall",onClick:function(){return oe(!0)},type:"link",icon:c.a.createElement(gt.a,null)},"configure Template")),c.a.createElement("div",{style:{marginTop:"5px"}}),c.a.createElement("div",{style:{display:"flex",marginTop:"15px"}},c.a.createElement("div",{style:{marginRight:"20px"}},c.a.createElement(Wc.a,{checked:P,defaultChecked:P,onChange:function(e){return M(e.target.checked)}},c.a.createElement("span",{className:"checkBoxSmallFieldLabel"},"Admin"))),c.a.createElement("div",{style:{}},c.a.createElement(Wc.a,{checked:z,defaultChecked:z,onChange:function(e){return H(e.target.checked)}},c.a.createElement("span",{className:"checkBoxSmallFieldLabel"},"Customer"))))),c.a.createElement("div",null,c.a.createElement("div",{style:{display:"flex",alignItems:"center",marginTop:"30px"}},c.a.createElement("div",{style:{marginRight:"15px",marginTop:"10px"}},c.a.createElement("h3",{className:"checkBoxFieldLabel"},"Order status")),c.a.createElement(E.a,{className:"templateEditSmall",onClick:function(){return ue(!0)},type:"link",icon:c.a.createElement(gt.a,null)},"configure Template")),c.a.createElement("div",{style:{marginTop:"15px"}}),c.a.createElement("div",{style:{display:"flex",marginTop:"15px"}},c.a.createElement("div",{style:{marginRight:"20px"}},c.a.createElement(Wc.a,{checked:A,defaultChecked:A,onChange:function(e){return B(e.target.checked)}},c.a.createElement("span",{className:"checkBoxSmallFieldLabel"},"Admin"))),c.a.createElement("div",{style:{}},c.a.createElement(Wc.a,{checked:Y,defaultChecked:Y,onChange:function(e){return K(e.target.checked)}},c.a.createElement("span",{className:"checkBoxSmallFieldLabel"},"Customer"))),c.a.createElement("div",{style:{}})))),c.a.createElement("div",{style:{marginTop:"25px"}}),c.a.createElement(E.a,{onClick:function(e){return ge()},loading:s.isLoading,className:"btnPrimaryClassNameoutline"},"Update Auto Email Configuration"),c.a.createElement("div",{style:{marginTop:"5px"}}),c.a.createElement(hl,{visible:X,setVisible:Z}),c.a.createElement(yl,{visible:te,setVisible:ae}),c.a.createElement(Cl,{visible:se,setVisible:ue}),c.a.createElement(kl,{visible:ie,setVisible:oe}))},Tl=a(954),_l=(y.a().shape({}),function(e){Me.a.error({message:e||"Something Went Wrong",description:"",icon:c.a.createElement(Ct.a,{style:{color:"rgb(241, 67, 67)"}})})}),Dl=function(e){Object(h.a)(e);var t=U({},"sendCustomSMS"),a=Object(g.a)(t,2),n=a[0],r=a[1],i=Object(o.useState)(""),l=Object(g.a)(i,2),s=l[0],u=l[1],m=Object(o.useState)(""),d=Object(g.a)(m,2),f=d[0],v=d[1];var y=function(){var e=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r({body:{recipient:f,text:s}});case 2:(t=e.sent)&&"ok"===t.status&&(u(""),v(""),a="SMS Sent!",Me.a.success({message:a||"Tag Created",description:"",icon:c.a.createElement(De.a,{style:{color:"rgba(0, 128, 0, 0.493)"}})}));case 4:case"end":return e.stop()}var a}),e)})));return function(){return e.apply(this,arguments)}}();return Object(o.useEffect)((function(){if(!n.isLoading){var e=n.error;if(e.isError&&Object.keys(e.error).length>0)e.error.registerError||e.error.checkoutError,(Object.values(e.error).length>0?Object.values(e.error):[]).forEach((function(e,t){if("string"===typeof e)_l(e);else if("object"===typeof e){if(e&&Object.keys(e).length>0)Object.values(e).forEach((function(e){_l(e)}))}}))}!n.isLoading&&Object.keys(n.data).length}),[n]),c.a.createElement("div",{style:{width:"450px"}},c.a.createElement("h3",{className:"inputFieldLabel"},"Recipient"),c.a.createElement(Ge.a,{style:{height:"30px",borderRadius:"3px",borderColor:"#eee !important",width:"100%"},mode:"tags",onChange:function(e){v(e)},tokenSeparators:[","]}),c.a.createElement("div",{style:{marginTop:"15px"}}),c.a.createElement(wt,{label:"Text",value:s,name:"text",onChange:function(e){u(e.target.value)}}),c.a.createElement(E.a,{style:{marginTop:"10px"},onClick:y,loading:n.isLoading,className:"btnAddToPrice"},"Send"," ",c.a.createElement("span",{style:{marginLeft:"10px"}}," ",c.a.createElement(Tl.a,null))))},Il=a(955),Ll=function(e){var t=e.id,a=e.setSelectedEmailId,n=U({},"getSMSDetails"),r=Object(g.a)(n,2),i=r[0],l=r[1];return Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l({urlOptions:{placeHolders:{id:t}}});case 2:e.sent;case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),console.log("getEmailDetailState",i),c.a.createElement(c.a.Fragment,null,i.isLoading&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{style:{width:"100%",display:"flex",justifyContent:"center",alignItems:"center",margin:"150px 0"}},c.a.createElement(Re.a,{size:"large"}))),i.done&&!i.data?c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{style:{marginTop:"100px"}},c.a.createElement(we.a,{description:"No SMS found",image:we.a.PRESENTED_IMAGE_SIMPLE}))):"",!i.done||!i.data||Object.keys(i.data).length>0?"":c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{style:{marginTop:"100px"}},c.a.createElement(we.a,{description:"No SMS found",image:we.a.PRESENTED_IMAGE_SIMPLE}))),i.done&&i.data&&Object.keys(i.data).length>0&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"inboxEmailDetails"},c.a.createElement("div",{onClick:function(){return a("")},className:"inboxEmailDetails__backBtn"},c.a.createElement(Il.a,null)),c.a.createElement("div",{className:"inboxEmailDetails__header"},c.a.createElement("span",null,i.data.event),c.a.createElement("h3",null,i.data.recipient),c.a.createElement("h4",null,i.data.time&&_()(i.data.time).format("MMMM Do YYYY, h:mm a"))),c.a.createElement("div",{className:"inboxEmailDetails__body"},i.data.text&&i.data.text))))},Pl=function(e){var t=e.emailList,a=(e.setEmailList,e.getEmailListState),n=Object(o.useState)(""),r=Object(g.a)(n,2),i=r[0],l=r[1];return console.log("getEmailListState",a),c.a.createElement(c.a.Fragment,null,a.isLoading&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{style:{width:"100%",display:"flex",justifyContent:"center",alignItems:"center",margin:"150px 0"}},c.a.createElement(Re.a,{size:"large"}))),a.done&&t&&!(t.length>0)&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{style:{width:"100%",display:"flex",justifyContent:"center",alignItems:"center",margin:"50px 0"}},c.a.createElement(we.a,{description:"No SMS found",image:we.a.PRESENTED_IMAGE_SIMPLE}))),a.done&&t&&t.length>0&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"sentEmailListContainer"},!i&&c.a.createElement(c.a.Fragment,null,a.done&&t&&t.length>0&&c.a.createElement(c.a.Fragment,null,t.map((function(e){return c.a.createElement("div",{onClick:function(){return l(e.id)},className:"sentEmailListContainer__item"},c.a.createElement("div",{className:"sentEmailListContainer__item-info"},c.a.createElement("h3",null,"To: "," ".concat(e.recipient)),c.a.createElement("span",null,"".concat(e.event||"No Subject"))),c.a.createElement("h4",null,e.text&&e.text.substring(0,125)+"....."),c.a.createElement("h3",null,e.time&&_()(e.time).format("MMMM Do, h a")))})))),i&&c.a.createElement(c.a.Fragment,null,c.a.createElement(Ll,{setSelectedEmailId:l,id:i})))))},Ml=a(956),Rl=_t.a.TabPane,Fl=O.a.Search,Al=function(e){var t=U({},"getSentSMSList"),a=Object(g.a)(t,2),n=a[0],r=a[1],i=Object(o.useState)([]),l=Object(g.a)(i,2),s=l[0],u=l[1];Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r({urlOptions:{params:{limitCount:5e4,sortItemValue:"time",sortOrderValue:"-1"}}});case 2:t=e.sent,u(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"categoryListContainer__header"},c.a.createElement("div",{className:"categoryListContainer__header-searchBar"},c.a.createElement("h2",{className:"categoryListContainer__header-title"},"SMS"),c.a.createElement(Fl,{enterButton:!1,className:"searchbarClassName",placeholder:"search SMS..",onChange:function(e){return function(e){if(n.data.length>0){var t=n.data.filter((function(t){return t.event&&t.event.toLowerCase().includes(e.toLowerCase())||t.text&&t.text.toLowerCase().includes(e.toLowerCase())}));u(t)}}(e.target.value)}}))),c.a.createElement("div",{className:"siteInfoContainer"},c.a.createElement(_t.a,{defaultActiveKey:"1"},c.a.createElement(Rl,{tab:c.a.createElement("span",null,c.a.createElement(hc.a,null),"Outbox"),key:"1"},c.a.createElement(Pl,{getEmailListState:n,setEmailList:u,emailList:s})),c.a.createElement(Rl,{tab:c.a.createElement("span",null,c.a.createElement(Ml.a,null),"Compose SMS"),key:"2"},c.a.createElement(Dl,null)),c.a.createElement(Rl,{tab:c.a.createElement("span",null,c.a.createElement(me.a,null),"Configure SMS"),key:"3"},c.a.createElement(bl,null)),c.a.createElement(Rl,{tab:c.a.createElement("span",null,c.a.createElement(me.a,null),"Configure Auto SMS"),key:"4"},c.a.createElement(wl,null)))))},Bl=Al,Vl=y.a().shape({}),Ul=function(e){Me.a.error({message:e||"Something Went Wrong",description:"",icon:c.a.createElement(De.a,{style:{color:"rgb(241, 67, 67)"}})})},Gl={fromEmail:"",fromName:"",host:"",encryption:"",port:"",smtpUsername:"",smtpPassword:""},zl=function(e){Object(h.a)(e);var t=U({},"getEmailConfiguration"),a=Object(g.a)(t,2),n=a[0],r=a[1],i=U({},"configureEmailSTMP"),l=Object(g.a)(i,2),s=l[0],u=l[1],m=Object(o.useState)(!0),d=Object(g.a)(m,2),y=d[0],O=d[1],j=Object(o.useState)({}),N=Object(g.a)(j,2),x=N[0],k=N[1];Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r({});case 2:(t=e.sent)&&(k(t),O(t.authentication));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),console.log("getEmailConfigurationState",n);var S=function(){var e=Object(b.a)(p.a.mark((function e(t,a){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u({body:{fromEmail:t.fromEmail.trim(),fromName:t.fromName.trim(),host:t.host.trim(),encryption:t.encryption.trim(),port:t.port,authentication:y,smtpUsername:t.smtpUsername.trim(),smtpPassword:t.smtpPassword.trim()}});case 2:(n=e.sent)&&n.status,a.setSubmitting(!1);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();Object(o.useEffect)((function(){if(!s.isLoading){var e=s.error;if(e.isError&&Object.keys(e.error).length>0)e.error.registerError||e.error.checkoutError,(Object.values(e.error).length>0?Object.values(e.error):[]).forEach((function(e,t){if("string"===typeof e)Ul(e);else if("object"===typeof e){if(e&&Object.keys(e).length>0)Object.values(e).forEach((function(e){Ul(e)}))}}))}var t;!s.isLoading&&Object.keys(s.data).length>0&&"ok"===s.data.status&&(t="STMP Configuration Updated!",Me.a.success({message:t||"Tag Created",description:"",icon:c.a.createElement(De.a,{style:{color:"rgba(0, 128, 0, 0.493)"}})}))}),[s]);var w=function(e){O(e.target.checked)};return c.a.createElement(v.a,{onSubmit:function(e,t){return S(e,t)},validationSchema:Vl,validateOnBlur:!1,enableReinitialize:!0,initialValues:Object(f.a)({},Gl,{},x)},(function(e){var t=e.handleChange,a=e.values,n=e.handleSubmit,r=e.errors,i=(e.isValid,e.isSubmitting),o=e.touched,l=(e.handleBlur,e.setFieldTouched);e.handleReset;return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},c.a.createElement("div",{style:{width:"49%"}},c.a.createElement(C,{label:"From Email",value:a.fromEmail,name:"fromEmail",isError:o.fromEmail&&r.fromEmail||!i&&s.error.error.fromEmail,errorString:o.fromEmail&&r.fromEmail||!i&&s.error.error.fromEmail,onChange:function(e){t(e),l("fromEmail")}})),c.a.createElement("div",{style:{width:"49%"}},c.a.createElement(C,{label:"From Name",value:a.fromName,name:"fromName",isError:o.fromName&&r.fromName||!i&&s.error.error.fromName,errorString:o.fromName&&r.fromName||!i&&s.error.error.fromName,onChange:function(e){t(e),l("fromName")}}))),c.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},c.a.createElement("div",{style:{width:"49%"}},c.a.createElement(C,{label:"Host",value:a.host,name:"host",isError:o.host&&r.host||!i&&s.error.error.host,errorString:o.host&&r.host||!i&&s.error.error.host,onChange:function(e){t(e),l("host")}})),c.a.createElement("div",{style:{width:"49%"}},c.a.createElement(C,{label:"Encryption",value:a.encryption,name:"encryption",isError:o.encryption&&r.encryption||!i&&s.error.error.encryption,errorString:o.encryption&&r.encryption||!i&&s.error.error.encryption,onChange:function(e){t(e),l("encryption")}}))),c.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},c.a.createElement("div",{style:{width:"49%"}},c.a.createElement(C,{label:"STMP Username",value:a.smtpUsername,name:"smtpUsername",isError:o.smtpUsername&&r.smtpUsername||!i&&s.error.error.smtpUsername,errorString:o.smtpUsername&&r.smtpUsername||!i&&s.error.error.smtpUsername,onChange:function(e){t(e),l("smtpUsername")}})),c.a.createElement("div",{style:{width:"49%"}},c.a.createElement(C,{label:"STMP Password",value:a.smtpPassword,name:"smtpPassword",isError:o.smtpPassword&&r.smtpPassword||!i&&s.error.error.smtpPassword,errorString:o.smtpPassword&&r.smtpPassword||!i&&s.error.error.smtpPassword,onChange:function(e){t(e),l("smtpPassword")}}))),c.a.createElement("div",{style:{width:"49%"}},c.a.createElement(C,{type:"number",label:"Port",value:a.port,name:"port",isError:o.port&&r.port||!i&&s.error.error.port,errorString:o.port&&r.port||!i&&s.error.error.port,onChange:function(e){t(e),l("port")}})),c.a.createElement(Wc.a,{value:y,onChange:w},c.a.createElement("span",{className:"checkBoxFieldLabel"},"Authentication")),c.a.createElement("div",{style:{marginTop:"20px"}}),c.a.createElement("div",{style:{display:"block",marginBottom:"20px",marginTop:"20px"}},c.a.createElement(E.a,{onClick:function(e){return n(e)},loading:s.isLoading,className:"btnPrimaryClassNameoutline"},"Update Email Configuration")))}))},Hl=(y.a().shape({name:y.c().label("Name").required("Name is required").min(3,"Name must have at least 3 characters")}),_t.a.TabPane),Wl=function(e){Me.a.error({message:e||"Something Went Wrong",description:"",icon:c.a.createElement(De.a,{style:{color:"rgb(241, 67, 67)"}})})},ql=function(e){var t=e.visible,a=e.setVisible,n=U({},"configureAutoEmailTemplate"),r=Object(g.a)(n,2),i=r[0],l=r[1],s=U({},"getConfigureAutoEmailTemplate"),u=Object(g.a)(s,2),m=(u[0],u[1]),d=Object(o.useState)({subject:"",body:""}),h=Object(g.a)(d,2),v=h[0],y=h[1],O=Object(o.useState)({subject:"",body:""}),j=Object(g.a)(O,2),N=j[0],x=j[1],k=function(){var e=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l({body:{event:"newCustomer",customer:Object(f.a)({},v),admin:Object(f.a)({},N)}});case 2:(t=e.sent)&&"ok"===t.status?(n=void 0,Me.a.success({message:n||"New Customer Template Updated",description:"",icon:c.a.createElement(De.a,{style:{color:"rgba(0, 128, 0, 0.493)"}})}),a(!1)):Wl();case 4:case"end":return e.stop()}var n}),e)})));return function(){return e.apply(this,arguments)}}();Object(o.useEffect)((function(){if(!i.isLoading){var e=i.error;if(e.isError&&Object.keys(e.error).length>0)e.error.registerError||e.error.checkoutError,(Object.values(e.error).length>0?Object.values(e.error):[]).forEach((function(e,t){if("string"===typeof e)Wl(e);else if("object"===typeof e){if(e&&Object.keys(e).length>0)Object.values(e).forEach((function(e){Wl(e)}))}}))}!i.isLoading&&Object.keys(i.data).length}),[i]),Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m({urlOptions:{placeHolders:{eventName:"newCustomer"}}});case 2:t=e.sent,console.log("newCustomertemplate",t),t&&(x(t.admin||""),y(t.customer||""));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);return c.a.createElement(Ot.a,{width:"80vw",style:{top:"40px"},title:"New Customer Event Template",visible:t,onOk:function(e){return k()},onCancel:function(e){a(!1)},okText:"Submit",okButtonProps:{loading:i.isLoading,htmlType:"submit"},bodyStyle:{margin:"10px",padding:"10px"},footer:!1},c.a.createElement(_t.a,{defaultActiveKey:"1"},c.a.createElement(Hl,{tab:"Customer",key:"1"},c.a.createElement("div",{style:{display:"flex"}},c.a.createElement("div",{style:{width:"65%"}},c.a.createElement(C,{label:"Subject",value:v.subject,name:"subject",onChange:function(e){y(Object(f.a)({},v,{subject:e.target.value}))}}),c.a.createElement("h3",{className:"inputFieldLabel"},"Body"),c.a.createElement(ja.a,{editor:Na.a,data:v.body,onInit:function(e){console.log("Editor is ready to use!",e)},onChange:function(e,t){var a=t.getData();y(Object(f.a)({},v,{body:a}))},onBlur:function(e,t){console.log("Blur.",t)},onFocus:function(e,t){console.log("Focus.",t)}}),c.a.createElement("div",{style:{display:"block",marginBottom:"20px",marginTop:"20px"}},c.a.createElement(E.a,{onClick:k,loading:i.isLoading,className:"btnPrimaryClassNameoutline"},"Update Template"))),c.a.createElement("div",{style:{width:"35%",overflowY:"auto",background:"#f7f7f7",marginLeft:"20px",padding:"10px",borderRadius:"8px"}},c.a.createElement("h4",null,"Information Tags"),c.a.createElement("p",{style:{fontSize:"12px"}},"Place the following tags to replace them with actual data while sending email"),c.a.createElement("ul",{style:{padding:"15px"}},c.a.createElement("li",{style:{fontSize:"12px",marginBottom:"10px",lineHeight:1.7,fontWeight:500}},c.a.createElement("b",{style:{borderRadius:"15px",backgroundColor:"#ddd",padding:"1px 10px"}},"<?=customer.firstName?> :")," ","First Name"),c.a.createElement("li",{style:{fontSize:"12px",lineHeight:2,fontWeight:500}},c.a.createElement("b",{style:{borderRadius:"15px",backgroundColor:"#ddd",padding:"1px 10px"}},"<?customer.lastName?> :")," ","Last Name"),c.a.createElement("li",{style:{fontSize:"12px",lineHeight:2,fontWeight:500}},c.a.createElement("b",{style:{borderRadius:"15px",backgroundColor:"#ddd",padding:"1px 10px"}},"<?customer.phone?> :")," ","Phone"),c.a.createElement("li",{style:{fontSize:"12px",lineHeight:2,fontWeight:500}},c.a.createElement("b",{style:{borderRadius:"15px",backgroundColor:"#ddd",padding:"1px 10px"}},"<?customer.email?> :")," ","Email"),c.a.createElement("li",{style:{fontSize:"12px",lineHeight:2,fontWeight:500}},c.a.createElement("b",{style:{borderRadius:"15px",backgroundColor:"#ddd",padding:"1px 10px"}},"<?customer.email?> :")," ","Email"),c.a.createElement("li",{style:{fontSize:"12px",lineHeight:2,fontWeight:500}},c.a.createElement("b",{style:{borderRadius:"15px",backgroundColor:"#ddd",padding:"1px 10px"}},"<?customer.address1?> :")," ","Address"),c.a.createElement("li",{style:{fontSize:"12px",lineHeight:2,fontWeight:500}},c.a.createElement("b",{style:{borderRadius:"15px",backgroundColor:"#ddd",padding:"1px 10px"}},"<?customer.added?> :")," ","Joined"))))),c.a.createElement(Hl,{tab:"Admin",key:"2"},c.a.createElement("div",{style:{display:"flex"}},c.a.createElement("div",{style:{width:"65%"}},c.a.createElement(C,{label:"Subject",value:N.subject,name:"subject",onChange:function(e){x(Object(f.a)({},N,{subject:e.target.value}))}}),c.a.createElement("h3",{className:"inputFieldLabel"},"Body"),c.a.createElement(ja.a,{editor:Na.a,data:N.body,onInit:function(e){console.log("Editor is ready to use!",e)},onChange:function(e,t){var a=t.getData();x(Object(f.a)({},N,{body:a}))},onBlur:function(e,t){console.log("Blur.",t)},onFocus:function(e,t){console.log("Focus.",t)}}),c.a.createElement("div",{style:{display:"block",marginBottom:"20px",marginTop:"20px"}},c.a.createElement(E.a,{onClick:k,loading:i.isLoading,className:"btnPrimaryClassNameoutline"},"Update Template"))),c.a.createElement("div",{style:{width:"35%",overflowY:"auto",background:"#f7f7f7",marginLeft:"20px",padding:"10px",borderRadius:"8px"}},c.a.createElement("h4",null,"Information Tags"),c.a.createElement("p",{style:{fontSize:"12px"}},"Place the following tags to replace them with actual data while sending email"),c.a.createElement("ul",{style:{padding:"15px"}},c.a.createElement("li",{style:{fontSize:"12px",marginBottom:"10px",lineHeight:1.7,fontWeight:500}},c.a.createElement("b",{style:{borderRadius:"15px",backgroundColor:"#ddd",padding:"1px 10px"}},"<?=customer.firstName?> :")," ","First Name"),c.a.createElement("li",{style:{fontSize:"12px",lineHeight:2,fontWeight:500}},c.a.createElement("b",{style:{borderRadius:"15px",backgroundColor:"#ddd",padding:"1px 10px"}},"<?customer.lastName?> :")," ","Last Name"),c.a.createElement("li",{style:{fontSize:"12px",lineHeight:2,fontWeight:500}},c.a.createElement("b",{style:{borderRadius:"15px",backgroundColor:"#ddd",padding:"1px 10px"}},"<?customer.phone?> :")," ","Phone"),c.a.createElement("li",{style:{fontSize:"12px",lineHeight:2,fontWeight:500}},c.a.createElement("b",{style:{borderRadius:"15px",backgroundColor:"#ddd",padding:"1px 10px"}},"<?customer.email?> :")," ","Email"),c.a.createElement("li",{style:{fontSize:"12px",lineHeight:2,fontWeight:500}},c.a.createElement("b",{style:{borderRadius:"15px",backgroundColor:"#ddd",padding:"1px 10px"}},"<?customer.email?> :")," ","Email"),c.a.createElement("li",{style:{fontSize:"12px",lineHeight:2,fontWeight:500}},c.a.createElement("b",{style:{borderRadius:"15px",backgroundColor:"#ddd",padding:"1px 10px"}},"<?customer.address1?> :")," ","Address"),c.a.createElement("li",{style:{fontSize:"12px",lineHeight:2,fontWeight:500}},c.a.createElement("b",{style:{borderRadius:"15px",backgroundColor:"#ddd",padding:"1px 10px"}},"<?customer.added?> :")," ","Joined")))))))},Yl=(y.a().shape({name:y.c().label("Name").required("Name is required").min(3,"Name must have at least 3 characters")}),_t.a.TabPane),Kl=function(e){Me.a.error({message:e||"Something Went Wrong",description:"",icon:c.a.createElement(De.a,{style:{color:"rgb(241, 67, 67)"}})})},Jl=function(e){var t=e.visible,a=e.setVisible,n=U({},"configureAutoEmailTemplate"),r=Object(g.a)(n,2),i=r[0],l=r[1],s=U({},"getConfigureAutoEmailTemplate"),u=Object(g.a)(s,2),m=(u[0],u[1]),d=Object(o.useState)({subject:"",body:""}),h=Object(g.a)(d,2),v=h[0],y=h[1],O=Object(o.useState)({subject:"",body:""}),j=Object(g.a)(O,2),N=j[0],x=j[1],k=function(){var e=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l({body:{event:"newDealer",user:Object(f.a)({},v),admin:Object(f.a)({},N)}});case 2:(t=e.sent)&&"ok"===t.status?(n=void 0,Me.a.success({message:n||"New Dealer Template Updated",description:"",icon:c.a.createElement(De.a,{style:{color:"rgba(0, 128, 0, 0.493)"}})}),a(!1)):Kl();case 4:case"end":return e.stop()}var n}),e)})));return function(){return e.apply(this,arguments)}}();Object(o.useEffect)((function(){if(!i.isLoading){var e=i.error;if(e.isError&&Object.keys(e.error).length>0)e.error.registerError||e.error.checkoutError,(Object.values(e.error).length>0?Object.values(e.error):[]).forEach((function(e,t){if("string"===typeof e)Kl(e);else if("object"===typeof e){if(e&&Object.keys(e).length>0)Object.values(e).forEach((function(e){Kl(e)}))}}))}!i.isLoading&&Object.keys(i.data).length}),[i]),Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m({urlOptions:{placeHolders:{eventName:"newDealer"}}});case 2:t=e.sent,console.log("newDealertemplate",t),t&&(x((null===t||void 0===t?void 0:t.admin)||""),y((null===t||void 0===t?void 0:t.user)||""));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);return c.a.createElement(Ot.a,{width:"80vw",style:{top:"40px"},title:"New Dealer Event Template",visible:t,onOk:function(e){return k()},onCancel:function(e){a(!1)},okText:"Submit",okButtonProps:{loading:i.isLoading,htmlType:"submit"},bodyStyle:{margin:"10px",padding:"10px"},footer:!1},c.a.createElement(_t.a,{defaultActiveKey:"1"},c.a.createElement(Yl,{tab:"Customer",key:"1"},c.a.createElement("div",{style:{display:"flex"}},c.a.createElement("div",{style:{width:"65%"}},c.a.createElement(C,{label:"Subject",value:v.subject,name:"subject",onChange:function(e){y(Object(f.a)({},v,{subject:e.target.value}))}}),c.a.createElement("h3",{className:"inputFieldLabel"},"Body"),c.a.createElement(ja.a,{editor:Na.a,data:v.body,onInit:function(e){console.log("Editor is ready to use!",e)},onChange:function(e,t){var a=t.getData();y(Object(f.a)({},v,{body:a}))},onBlur:function(e,t){console.log("Blur.",t)},onFocus:function(e,t){console.log("Focus.",t)}}),c.a.createElement("div",{style:{display:"block",marginBottom:"20px",marginTop:"20px"}},c.a.createElement(E.a,{onClick:k,loading:i.isLoading,className:"btnPrimaryClassNameoutline"},"Update Template"))),c.a.createElement("div",{style:{width:"35%",overflowY:"auto",background:"#f7f7f7",marginLeft:"20px",padding:"10px",borderRadius:"8px"}},c.a.createElement("h4",null,"Information Tags"),c.a.createElement("p",{style:{fontSize:"12px"}},"Place the following tags to replace them with actual data while sending email"),c.a.createElement("ul",{style:{padding:"15px"}},c.a.createElement("li",{style:{fontSize:"12px",marginBottom:"10px",lineHeight:1.7,fontWeight:500}},c.a.createElement("b",{style:{borderRadius:"15px",backgroundColor:"#ddd",padding:"1px 10px"}},"<?=user.code?> :")," ","Code"),c.a.createElement("li",{style:{fontSize:"12px",marginBottom:"10px",lineHeight:1.7,fontWeight:500}},c.a.createElement("b",{style:{borderRadius:"15px",backgroundColor:"#ddd",padding:"1px 10px"}},"<?=user.firstName?> :")," ","First Name"),c.a.createElement("li",{style:{fontSize:"12px",lineHeight:2,fontWeight:500}},c.a.createElement("b",{style:{borderRadius:"15px",backgroundColor:"#ddd",padding:"1px 10px"}},"<?user.lastName?> :")," ","Last Name"),c.a.createElement("li",{style:{fontSize:"12px",lineHeight:2,fontWeight:500}},c.a.createElement("b",{style:{borderRadius:"15px",backgroundColor:"#ddd",padding:"1px 10px"}},"<?user.phone?> :")," ","Phone"),c.a.createElement("li",{style:{fontSize:"12px",lineHeight:2,fontWeight:500}},c.a.createElement("b",{style:{borderRadius:"15px",backgroundColor:"#ddd",padding:"1px 10px"}},"<?user.email?> :")," ","Email"),c.a.createElement("li",{style:{fontSize:"12px",lineHeight:2,fontWeight:500}},c.a.createElement("b",{style:{borderRadius:"15px",backgroundColor:"#ddd",padding:"1px 10px"}},"<?user.email?> :")," ","Email"),c.a.createElement("li",{style:{fontSize:"12px",lineHeight:2,fontWeight:500}},c.a.createElement("b",{style:{borderRadius:"15px",backgroundColor:"#ddd",padding:"1px 10px"}},"<?user.address1?> :")," ","Address"),c.a.createElement("li",{style:{fontSize:"12px",lineHeight:2,fontWeight:500}},c.a.createElement("b",{style:{borderRadius:"15px",backgroundColor:"#ddd",padding:"1px 10px"}},"<?user.added?> :")," ","Joined"))))),c.a.createElement(Yl,{tab:"Admin",key:"2"},c.a.createElement("div",{style:{display:"flex"}},c.a.createElement("div",{style:{width:"65%"}},c.a.createElement(C,{label:"Subject",value:N.subject,name:"subject",onChange:function(e){x(Object(f.a)({},N,{subject:e.target.value}))}}),c.a.createElement("h3",{className:"inputFieldLabel"},"Body"),c.a.createElement(ja.a,{editor:Na.a,data:N.body,onInit:function(e){console.log("Editor is ready to use!",e)},onChange:function(e,t){var a=t.getData();x(Object(f.a)({},N,{body:a}))},onBlur:function(e,t){console.log("Blur.",t)},onFocus:function(e,t){console.log("Focus.",t)}}),c.a.createElement("div",{style:{display:"block",marginBottom:"20px",marginTop:"20px"}},c.a.createElement(E.a,{onClick:k,loading:i.isLoading,className:"btnPrimaryClassNameoutline"},"Update Template"))),c.a.createElement("div",{style:{width:"35%",overflowY:"auto",background:"#f7f7f7",marginLeft:"20px",padding:"10px",borderRadius:"8px"}},c.a.createElement("h4",null,"Information Tags"),c.a.createElement("p",{style:{fontSize:"12px"}},"Place the following tags to replace them with actual data while sending email"),c.a.createElement("ul",{style:{padding:"15px"}},c.a.createElement("li",{style:{fontSize:"12px",marginBottom:"10px",lineHeight:1.7,fontWeight:500}},c.a.createElement("b",{style:{borderRadius:"15px",backgroundColor:"#ddd",padding:"1px 10px"}},"<?=user.code?> :")," ","Code"),c.a.createElement("li",{style:{fontSize:"12px",marginBottom:"10px",lineHeight:1.7,fontWeight:500}},c.a.createElement("b",{style:{borderRadius:"15px",backgroundColor:"#ddd",padding:"1px 10px"}},"<?=user.firstName?> :")," ","First Name"),c.a.createElement("li",{style:{fontSize:"12px",lineHeight:2,fontWeight:500}},c.a.createElement("b",{style:{borderRadius:"15px",backgroundColor:"#ddd",padding:"1px 10px"}},"<?user.lastName?> :")," ","Last Name"),c.a.createElement("li",{style:{fontSize:"12px",lineHeight:2,fontWeight:500}},c.a.createElement("b",{style:{borderRadius:"15px",backgroundColor:"#ddd",padding:"1px 10px"}},"<?user.phone?> :")," ","Phone"),c.a.createElement("li",{style:{fontSize:"12px",lineHeight:2,fontWeight:500}},c.a.createElement("b",{style:{borderRadius:"15px",backgroundColor:"#ddd",padding:"1px 10px"}},"<?user.email?> :")," ","Email"),c.a.createElement("li",{style:{fontSize:"12px",lineHeight:2,fontWeight:500}},c.a.createElement("b",{style:{borderRadius:"15px",backgroundColor:"#ddd",padding:"1px 10px"}},"<?user.email?> :")," ","Email"),c.a.createElement("li",{style:{fontSize:"12px",lineHeight:2,fontWeight:500}},c.a.createElement("b",{style:{borderRadius:"15px",backgroundColor:"#ddd",padding:"1px 10px"}},"<?user.address1?> :")," ","Address"),c.a.createElement("li",{style:{fontSize:"12px",lineHeight:2,fontWeight:500}},c.a.createElement("b",{style:{borderRadius:"15px",backgroundColor:"#ddd",padding:"1px 10px"}},"<?user.added?> :")," ","Joined")))))))},Ql=(y.a().shape({}),_t.a.TabPane),Xl=function(e){Me.a.error({message:e||"Something Went Wrong",description:"",icon:c.a.createElement(De.a,{style:{color:"rgb(241, 67, 67)"}})})},Zl=function(e){var t=e.visible,a=e.setVisible,n=U({},"configureAutoEmailTemplate"),r=Object(g.a)(n,2),i=r[0],l=r[1],s=U({},"getConfigureAutoEmailTemplate"),u=Object(g.a)(s,2),m=(u[0],u[1]),d=Object(o.useState)({subject:"",body:""}),h=Object(g.a)(d,2),v=h[0],y=h[1],O=Object(o.useState)({subject:"",body:""}),j=Object(g.a)(O,2),N=j[0],x=j[1],k=function(){var e=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l({body:{event:"orderStatus",customer:Object(f.a)({},v),admin:Object(f.a)({},N)}});case 2:(t=e.sent)&&"ok"===t.status?(n=void 0,Me.a.success({message:n||"New Customer Template Updated",description:"",icon:c.a.createElement(De.a,{style:{color:"rgba(0, 128, 0, 0.493)"}})}),a(!1)):Xl();case 4:case"end":return e.stop()}var n}),e)})));return function(){return e.apply(this,arguments)}}();Object(o.useEffect)((function(){if(!i.isLoading){var e=i.error;if(e.isError&&Object.keys(e.error).length>0)e.error.registerError||e.error.checkoutError,(Object.values(e.error).length>0?Object.values(e.error):[]).forEach((function(e,t){if("string"===typeof e)Xl(e);else if("object"===typeof e){if(e&&Object.keys(e).length>0)Object.values(e).forEach((function(e){Xl(e)}))}}))}!i.isLoading&&Object.keys(i.data).length}),[i]),Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m({urlOptions:{placeHolders:{eventName:"orderStatus"}}});case 2:t=e.sent,console.log("orderStatus",t),t&&(x(t.admin||""),y(t.customer||""));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);return c.a.createElement(Ot.a,{width:"70vw",style:{top:"40px"},title:"Order Status Template",visible:t,onOk:function(e){return k()},onCancel:function(e){a(!1)},okText:"Submit",okButtonProps:{loading:i.isLoading,htmlType:"submit"},bodyStyle:{margin:"10px",padding:"10px"},footer:!1},c.a.createElement(_t.a,{defaultActiveKey:"1"},c.a.createElement(Ql,{tab:"Customer",key:"1"},c.a.createElement("div",{style:{display:"flex"}},c.a.createElement("div",{style:{width:"70%"}},c.a.createElement(C,{label:"Subject",value:v.subject,name:"subject",onChange:function(e){y(Object(f.a)({},v,{subject:e.target.value}))}}),c.a.createElement("h3",{className:"inputFieldLabel"},"Body"),c.a.createElement(ja.a,{editor:Na.a,data:v.body,onInit:function(e){console.log("Editor is ready to use!",e)},onChange:function(e,t){var a=t.getData();y(Object(f.a)({},v,{body:a}))},onBlur:function(e,t){console.log("Blur.",t)},onFocus:function(e,t){console.log("Focus.",t)}}),c.a.createElement("div",{style:{display:"block",marginBottom:"20px",marginTop:"20px"}},c.a.createElement(E.a,{onClick:k,loading:i.isLoading,className:"btnPrimaryClassNameoutline"},"Update Template"))),c.a.createElement("div",{style:{width:"30%",overflowY:"auto",background:"#f7f7f7",marginLeft:"20px",padding:"10px",borderRadius:"8px"}},c.a.createElement("h4",null,"Information Tags"),c.a.createElement("p",{style:{fontSize:"12px"}},"Place the following tags to replace them with actual data while sending email"),c.a.createElement("ul",{style:{padding:"15px"}},c.a.createElement("li",{style:{fontSize:"12px",marginBottom:"10px",lineHeight:1.7,fontWeight:500}},c.a.createElement("b",{style:{borderRadius:"15px",backgroundColor:"#ddd",padding:"1px 10px"}},"<?=order.status.name?> :")," ","Order Status"),c.a.createElement("li",{style:{fontSize:"12px",marginBottom:"10px",lineHeight:1.7,fontWeight:500}},c.a.createElement("b",{style:{borderRadius:"15px",backgroundColor:"#ddd",padding:"1px 10px"}},"<?=customer.firstName?> :")," ","Customer first name"),c.a.createElement("li",{style:{fontSize:"12px",marginBottom:"10px",lineHeight:1.7,fontWeight:500}},c.a.createElement("b",{style:{borderRadius:"15px",backgroundColor:"#ddd",padding:"1px 10px"}},"<?=customer.lastName?> :")," ","Customer last name"),c.a.createElement("li",{style:{fontSize:"12px",marginBottom:"10px",lineHeight:1.7,fontWeight:500}},c.a.createElement("b",{style:{borderRadius:"15px",backgroundColor:"#ddd",padding:"1px 10px"}},"<?=order.shortCode?> :")," ","Order Code"))))),c.a.createElement(Ql,{tab:"Admin",key:"2"},c.a.createElement("div",{style:{display:"flex"}},c.a.createElement("div",{style:{width:"70%"}},c.a.createElement(C,{label:"Subject",value:N.subject,name:"subject",onChange:function(e){x(Object(f.a)({},N,{subject:e.target.value}))}}),c.a.createElement("h3",{className:"inputFieldLabel"},"Body"),c.a.createElement(ja.a,{editor:Na.a,data:N.body,onInit:function(e){console.log("Editor is ready to use!",e)},onChange:function(e,t){var a=t.getData();x(Object(f.a)({},N,{body:a}))},onBlur:function(e,t){console.log("Blur.",t)},onFocus:function(e,t){console.log("Focus.",t)}}),c.a.createElement("div",{style:{display:"block",marginBottom:"20px",marginTop:"20px"}},c.a.createElement(E.a,{onClick:k,loading:i.isLoading,className:"btnPrimaryClassNameoutline"},"Update Template"))),c.a.createElement("div",{style:{width:"30%",overflowY:"auto",background:"#f7f7f7",marginLeft:"20px",padding:"10px",borderRadius:"8px"}},c.a.createElement("h4",null,"Information Tags"),c.a.createElement("p",{style:{fontSize:"12px"}},"Place the following tags to replace them with actual data while sending email"),c.a.createElement("ul",{style:{padding:"15px"}},c.a.createElement("li",{style:{fontSize:"12px",marginBottom:"10px",lineHeight:1.7,fontWeight:500}},c.a.createElement("b",{style:{borderRadius:"15px",backgroundColor:"#ddd",padding:"1px 10px"}},"<?=order.status.name?> :")," ","Order Status"),c.a.createElement("li",{style:{fontSize:"12px",marginBottom:"10px",lineHeight:1.7,fontWeight:500}},c.a.createElement("b",{style:{borderRadius:"15px",backgroundColor:"#ddd",padding:"1px 10px"}},"<?=customer.firstName?> :")," ","Customer first name"),c.a.createElement("li",{style:{fontSize:"12px",marginBottom:"10px",lineHeight:1.7,fontWeight:500}},c.a.createElement("b",{style:{borderRadius:"15px",backgroundColor:"#ddd",padding:"1px 10px"}},"<?=customer.lastName?> :")," ","Customer last name"),c.a.createElement("li",{style:{fontSize:"12px",marginBottom:"10px",lineHeight:1.7,fontWeight:500}},c.a.createElement("b",{style:{borderRadius:"15px",backgroundColor:"#ddd",padding:"1px 10px"}},"<?=order.shortCode?> :")," ","Order Code")))))))},$l=(y.a().shape({name:y.c().label("Name").required("Name is required").min(3,"Name must have at least 3 characters")}),_t.a.TabPane),es=function(e){Me.a.error({message:e||"Something Went Wrong",description:"",icon:c.a.createElement(De.a,{style:{color:"rgb(241, 67, 67)"}})})},ts=function(e){var t=e.visible,a=e.setVisible,n=U({},"configureAutoEmailTemplate"),r=Object(g.a)(n,2),i=r[0],l=r[1],s=U({},"getConfigureAutoEmailTemplate"),u=Object(g.a)(s,2),m=(u[0],u[1]),d=Object(o.useState)({subject:"",body:""}),h=Object(g.a)(d,2),v=h[0],y=h[1],O=Object(o.useState)({subject:"",body:""}),j=Object(g.a)(O,2),N=j[0],x=j[1],k=function(){var e=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l({body:{event:"order",customer:Object(f.a)({},v),admin:Object(f.a)({},N)}});case 2:(t=e.sent)&&"ok"===t.status?(n=void 0,Me.a.success({message:n||"New Order Template Updated",description:"",icon:c.a.createElement(De.a,{style:{color:"rgba(0, 128, 0, 0.493)"}})}),a(!1)):es();case 4:case"end":return e.stop()}var n}),e)})));return function(){return e.apply(this,arguments)}}();Object(o.useEffect)((function(){if(!i.isLoading){var e=i.error;if(e.isError&&Object.keys(e.error).length>0)e.error.registerError||e.error.checkoutError,(Object.values(e.error).length>0?Object.values(e.error):[]).forEach((function(e,t){if("string"===typeof e)es(e);else if("object"===typeof e){if(e&&Object.keys(e).length>0)Object.values(e).forEach((function(e){es(e)}))}}))}!i.isLoading&&Object.keys(i.data).length}),[i]),Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m({urlOptions:{placeHolders:{eventName:"order"}}});case 2:(t=e.sent)&&(x(t.admin||""),y(t.customer||""));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);return c.a.createElement(Ot.a,{width:"80vw",style:{top:"40px"},title:"Order Event Template",visible:t,onOk:function(e){return k()},onCancel:function(e){a(!1)},okText:"Submit",okButtonProps:{loading:i.isLoading,htmlType:"submit"},bodyStyle:{margin:"10px",padding:"10px"},footer:!1},c.a.createElement(_t.a,{defaultActiveKey:"1"},c.a.createElement($l,{tab:"Customer",key:"1"},c.a.createElement("div",{style:{display:"flex"}},c.a.createElement("div",{style:{width:"60%"}},c.a.createElement(C,{label:"Subject",value:v.subject,name:"subject",onChange:function(e){y(Object(f.a)({},v,{subject:e.target.value}))}}),c.a.createElement("h3",{className:"inputFieldLabel"},"Body"),c.a.createElement(ja.a,{editor:Na.a,data:v.body,onInit:function(e){console.log("Editor is ready to use!",e)},onChange:function(e,t){var a=t.getData();y(Object(f.a)({},v,{body:a}))},onBlur:function(e,t){console.log("Blur.",t)},onFocus:function(e,t){console.log("Focus.",t)}}),c.a.createElement("div",{style:{display:"block",marginBottom:"20px",marginTop:"20px"}},c.a.createElement(E.a,{onClick:k,loading:i.isLoading,className:"btnPrimaryClassNameoutline"},"Update Template"))),c.a.createElement("div",{style:{width:"40%",overflowY:"auto",background:"#f7f7f7",marginLeft:"20px",padding:"10px",borderRadius:"8px"}},c.a.createElement("h4",null,"Information Tags"),c.a.createElement("p",{style:{fontSize:"12px"}},"Place the following tags to replace them with actual data while sending email"),c.a.createElement("ul",{style:{padding:"15px"}},c.a.createElement("li",{style:{fontSize:"12px",marginBottom:"10px",lineHeight:1.7,fontWeight:500}},c.a.createElement("b",{style:{borderRadius:"15px",backgroundColor:"#ddd",padding:"1px 10px"}},"<?=order.added?> :")," ","Order time"),c.a.createElement("li",{style:{fontSize:"12px",lineHeight:2,fontWeight:500}},c.a.createElement("b",{style:{borderRadius:"15px",backgroundColor:"#ddd",padding:"1px 10px"}},"<?order.totalPrice?> :")," ","Total Price"),c.a.createElement("li",{style:{fontSize:"12px",lineHeight:2,fontWeight:500}},c.a.createElement("b",{style:{borderRadius:"15px",backgroundColor:"#ddd",padding:"1px 10px"}},"<?order.status.name?> :")," ","Status at"),c.a.createElement("li",{style:{fontSize:"12px",lineHeight:2,fontWeight:500}},c.a.createElement("b",{style:{borderRadius:"15px",backgroundColor:"#ddd",padding:"1px 10px"}},"<?order.shippingAddress.firstName?> :")," ","Shipping first Name"),c.a.createElement("li",{style:{fontSize:"12px",lineHeight:2,fontWeight:500}},c.a.createElement("b",{style:{borderRadius:"15px",backgroundColor:"#ddd",padding:"1px 10px"}},"<?order.shippingAddress.country?> :")," ","Shipping Country"),c.a.createElement("li",{style:{fontSize:"12px",lineHeight:2,fontWeight:500}},c.a.createElement("b",{style:{borderRadius:"15px",backgroundColor:"#ddd",padding:"1px 10px"}},"<?order.shippingAddress.city?> :")," ","Shipping City"))))),c.a.createElement($l,{tab:"Admin",key:"2"},c.a.createElement("div",{style:{display:"flex"}},c.a.createElement("div",{style:{width:"60%"}},c.a.createElement(C,{label:"Subject",value:N.subject,name:"subject",onChange:function(e){x(Object(f.a)({},N,{subject:e.target.value}))}}),c.a.createElement("h3",{className:"inputFieldLabel"},"Body"),c.a.createElement(ja.a,{editor:Na.a,data:N.body,onInit:function(e){console.log("Editor is ready to use!",e)},onChange:function(e,t){var a=t.getData();x(Object(f.a)({},N,{body:a}))},onBlur:function(e,t){console.log("Blur.",t)},onFocus:function(e,t){console.log("Focus.",t)}}),c.a.createElement("div",{style:{display:"block",marginBottom:"20px",marginTop:"20px"}},c.a.createElement(E.a,{onClick:k,loading:i.isLoading,className:"btnPrimaryClassNameoutline"},"Update Template"))),c.a.createElement("div",{style:{width:"40%",overflowY:"auto",background:"#f7f7f7",marginLeft:"20px",padding:"10px",borderRadius:"8px"}},c.a.createElement("h4",null,"Information Tags"),c.a.createElement("p",{style:{fontSize:"12px"}},"Place the following tags to replace them with actual data while sending email"),c.a.createElement("ul",{style:{padding:"15px"}},c.a.createElement("li",{style:{fontSize:"12px",marginBottom:"10px",lineHeight:1.7,fontWeight:500}},c.a.createElement("b",{style:{borderRadius:"15px",backgroundColor:"#ddd",padding:"1px 10px"}},"<?=order.added?> :")," ","Order time"),c.a.createElement("li",{style:{fontSize:"12px",lineHeight:2,fontWeight:500}},c.a.createElement("b",{style:{borderRadius:"15px",backgroundColor:"#ddd",padding:"1px 10px"}},"<?order.totalPrice?> :")," ","Total Price"),c.a.createElement("li",{style:{fontSize:"12px",lineHeight:2,fontWeight:500}},c.a.createElement("b",{style:{borderRadius:"15px",backgroundColor:"#ddd",padding:"1px 10px"}},"<?order.status.name?> :")," ","Status at"),c.a.createElement("li",{style:{fontSize:"12px",lineHeight:2,fontWeight:500}},c.a.createElement("b",{style:{borderRadius:"15px",backgroundColor:"#ddd",padding:"1px 10px"}},"<?order.shippingAddress.firstName?> :")," ","Shipping first Name"),c.a.createElement("li",{style:{fontSize:"12px",lineHeight:2,fontWeight:500}},c.a.createElement("b",{style:{borderRadius:"15px",backgroundColor:"#ddd",padding:"1px 10px"}},"<?order.shippingAddress.country?> :")," ","Shipping Country"),c.a.createElement("li",{style:{fontSize:"12px",lineHeight:2,fontWeight:500}},c.a.createElement("b",{style:{borderRadius:"15px",backgroundColor:"#ddd",padding:"1px 10px"}},"<?order.shippingAddress.city?> :")," ","Shipping City")))))))},as=(y.a().shape({name:y.c().label("Name").required("Name is required").min(3,"Name must have at least 3 characters")}),function(e){Me.a.error({message:e||"Something Went Wrong",description:"",icon:c.a.createElement(De.a,{style:{color:"rgb(241, 67, 67)"}})})}),ns=function(e){Object(h.a)(e);var t=U({},"getAutoEmailConfiguration"),a=Object(g.a)(t,2),n=a[0],r=a[1],i=U({},"configureAutoEmail"),l=Object(g.a)(i,2),s=l[0],u=l[1],m=Object(o.useState)(!1),d=Object(g.a)(m,2),f=d[0],v=d[1],y=Object(o.useState)(!1),O=Object(g.a)(y,2),j=O[0],C=O[1],N=Object(o.useState)(!1),x=Object(g.a)(N,2),k=x[0],S=x[1],w=Object(o.useState)(!1),T=Object(g.a)(w,2),_=T[0],D=T[1],I=Object(o.useState)(!1),L=Object(g.a)(I,2),P=L[0],M=L[1],R=Object(o.useState)(!1),F=Object(g.a)(R,2),A=F[0],B=F[1],V=Object(o.useState)(!1),G=Object(g.a)(V,2),z=G[0],H=G[1],W=Object(o.useState)(!1),q=Object(g.a)(W,2),Y=q[0],K=q[1],J=Object(o.useState)(!1),Q=Object(g.a)(J,2),X=Q[0],Z=Q[1],$=Object(o.useState)(!1),ee=Object(g.a)($,2),te=ee[0],ae=ee[1],ne=Object(o.useState)(!1),re=Object(g.a)(ne,2),ie=re[0],oe=re[1],ce=Object(o.useState)(!1),le=Object(g.a)(ce,2),se=le[0],ue=le[1],me=Object(o.useState)({}),de=Object(g.a)(me,2),pe=de[0],be=de[1];console.log("isnewCustomerAdmin",f),console.log("isnewCustomerCustomer",j),Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){var t,a,n,i,o,c,l,s,u;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r({});case 2:(t=e.sent)&&(be(pe),v((null===t||void 0===t||null===(a=t.newCustomer)||void 0===a?void 0:a.admin)||""),C((null===t||void 0===t||null===(n=t.newCustomer)||void 0===n?void 0:n.user)||""),S((null===t||void 0===t||null===(i=t.newDealer)||void 0===i?void 0:i.admin)||""),D((null===t||void 0===t||null===(o=t.newDealer)||void 0===o?void 0:o.user)||""),K((null===t||void 0===t||null===(c=t.orderStatus)||void 0===c?void 0:c.user)||""),B((null===t||void 0===t||null===(l=t.orderStatus)||void 0===l?void 0:l.admin)||""),M((null===t||void 0===t||null===(s=t.order)||void 0===s?void 0:s.admin)||""),H((null===t||void 0===t||null===(u=t.order)||void 0===u?void 0:u.user)||""));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),console.log("getAutoEmailConfigurationState",n);var ge=function(){var e=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u({body:{newCustomer:{admin:f,user:j},order:{admin:P,user:z},orderStatus:{admin:A,user:Y},newDealer:{admin:k,user:_}}});case 2:(t=e.sent)&&"ok"===t.status?(a="Auto email Configuration Updated!",Me.a.success({message:a||"Tag Created",description:"",icon:c.a.createElement(De.a,{style:{color:"rgba(0, 128, 0, 0.493)"}})})):as("Something went wrong, Couldn't updated Auto email configuration");case 4:case"end":return e.stop()}var a}),e)})));return function(){return e.apply(this,arguments)}}();return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},c.a.createElement("div",{style:{}},c.a.createElement("div",{style:{display:"flex",alignItems:"center"}},c.a.createElement("div",{style:{marginRight:"15px",marginTop:"10px"}},c.a.createElement("h3",{className:"checkBoxFieldLabel"},"New Customer")),c.a.createElement(E.a,{className:"templateEditSmall",onClick:function(){return Z(!0)},type:"link",icon:c.a.createElement(gt.a,null)},"configure Template")),c.a.createElement("div",{style:{marginTop:"15px"}}),c.a.createElement("div",{style:{display:"flex",marginTop:"15px"}},c.a.createElement("div",{style:{marginRight:"20px"}},c.a.createElement(Wc.a,{checked:f,defaultChecked:f,onChange:function(e){return v(e.target.checked)}},c.a.createElement("span",{className:"checkBoxSmallFieldLabel"},"Admin"))),c.a.createElement("div",{style:{}},c.a.createElement(Wc.a,{checked:j,defaultChecked:j,onChange:function(e){return C(e.target.checked)}},c.a.createElement("span",{className:"checkBoxSmallFieldLabel"},"Customer"))))),c.a.createElement("div",{style:{marginTop:"25px"}}),c.a.createElement("div",{style:{}},c.a.createElement("div",{style:{display:"flex",alignItems:"center"}},c.a.createElement("div",{style:{marginRight:"15px",marginTop:"10px"}},c.a.createElement("h3",{className:"checkBoxFieldLabel"},"New Dealer")),c.a.createElement(E.a,{className:"templateEditSmall",onClick:function(){return ae(!0)},type:"link",icon:c.a.createElement(gt.a,null)},"configure Template")),c.a.createElement("div",{style:{marginTop:"15px"}}),c.a.createElement("div",{style:{display:"flex",marginTop:"15px"}},c.a.createElement("div",{style:{marginRight:"20px"}},c.a.createElement(Wc.a,{checked:k,defaultChecked:k,onChange:function(e){return S(e.target.checked)}},c.a.createElement("span",{className:"checkBoxSmallFieldLabel"},"Admin"))),c.a.createElement("div",{style:{}},c.a.createElement(Wc.a,{checked:_,defaultChecked:_,onChange:function(e){return D(e.target.checked)}},c.a.createElement("span",{className:"checkBoxSmallFieldLabel"},"Customer"))))),c.a.createElement("div",null,c.a.createElement("div",{style:{display:"flex",alignItems:"center",marginTop:"30px"}},c.a.createElement("div",{style:{marginRight:"15px",marginTop:"10px"}},c.a.createElement("h3",{className:"checkBoxFieldLabel"},"Order")),c.a.createElement(E.a,{className:"templateEditSmall",onClick:function(){return oe(!0)},type:"link",icon:c.a.createElement(gt.a,null)},"configure Template")),c.a.createElement("div",{style:{marginTop:"5px"}}),c.a.createElement("div",{style:{display:"flex",marginTop:"15px"}},c.a.createElement("div",{style:{marginRight:"20px"}},c.a.createElement(Wc.a,{checked:P,defaultChecked:P,onChange:function(e){return M(e.target.checked)}},c.a.createElement("span",{className:"checkBoxSmallFieldLabel"},"Admin"))),c.a.createElement("div",{style:{}},c.a.createElement(Wc.a,{checked:z,defaultChecked:z,onChange:function(e){return H(e.target.checked)}},c.a.createElement("span",{className:"checkBoxSmallFieldLabel"},"Customer"))))),c.a.createElement("div",null,c.a.createElement("div",{style:{display:"flex",alignItems:"center",marginTop:"30px"}},c.a.createElement("div",{style:{marginRight:"15px",marginTop:"10px"}},c.a.createElement("h3",{className:"checkBoxFieldLabel"},"Order status")),c.a.createElement(E.a,{className:"templateEditSmall",onClick:function(){return ue(!0)},type:"link",icon:c.a.createElement(gt.a,null)},"configure Template")),c.a.createElement("div",{style:{marginTop:"15px"}}),c.a.createElement("div",{style:{display:"flex",marginTop:"15px"}},c.a.createElement("div",{style:{marginRight:"20px"}},c.a.createElement(Wc.a,{checked:A,defaultChecked:A,onChange:function(e){return B(e.target.checked)}},c.a.createElement("span",{className:"checkBoxSmallFieldLabel"},"Admin"))),c.a.createElement("div",{style:{}},c.a.createElement(Wc.a,{checked:Y,defaultChecked:Y,onChange:function(e){return K(e.target.checked)}},c.a.createElement("span",{className:"checkBoxSmallFieldLabel"},"Customer"))),c.a.createElement("div",{style:{}})))),c.a.createElement("div",{style:{marginTop:"25px"}}),c.a.createElement(E.a,{onClick:function(e){return ge()},loading:s.isLoading,className:"btnPrimaryClassNameoutline"},"Update Auto Email Configuration"),c.a.createElement("div",{style:{marginTop:"5px"}}),c.a.createElement(ql,{visible:X,setVisible:Z}),c.a.createElement(Jl,{visible:te,setVisible:ae}),c.a.createElement(Zl,{visible:se,setVisible:ue}),c.a.createElement(ts,{visible:ie,setVisible:oe}))},rs=y.a().shape({}),is=function(e){Me.a.error({message:e||"Something Went Wrong",description:"",icon:c.a.createElement(De.a,{style:{color:"rgb(241, 67, 67)"}})})},os={recipient:"",subject:""},cs=function(e){e.emailList,e.setEmailList;var t=U({},"sendCustomEmail"),a=Object(g.a)(t,2),n=a[0],r=a[1],i=Object(o.useState)(""),l=Object(g.a)(i,2),s=l[0],u=l[1],m=function(){var e=Object(b.a)(p.a.mark((function e(t,a){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r({body:{recipient:t.recipient.trim(),subject:t.subject.trim(),html:s}});case 2:(n=e.sent)&&"ok"===n.status&&(console.log("MahManEmail",n),u(""),a.resetForm(),i="Email Sent!",Me.a.success({message:i||"Tag Created",description:"",icon:c.a.createElement(De.a,{style:{color:"rgba(0, 128, 0, 0.493)"}})})),a.setSubmitting(!1);case 5:case"end":return e.stop()}var i}),e)})));return function(t,a){return e.apply(this,arguments)}}();return Object(o.useEffect)((function(){if(!n.isLoading){var e=n.error;if(e.isError&&Object.keys(e.error).length>0)e.error.registerError||e.error.checkoutError,(Object.values(e.error).length>0?Object.values(e.error):[]).forEach((function(e,t){if("string"===typeof e)is(e);else if("object"===typeof e){if(e&&Object.keys(e).length>0)Object.values(e).forEach((function(e){is(e)}))}}))}!n.isLoading&&Object.keys(n.data).length}),[n]),c.a.createElement(v.a,{onSubmit:function(e,t){return m(e,t)},validationSchema:rs,validateOnBlur:!1,enableReinitialize:!0,initialValues:Object(f.a)({},os)},(function(e){var t=e.handleChange,a=e.values,r=e.handleSubmit,i=e.errors,o=(e.isValid,e.isSubmitting),l=e.touched,m=(e.handleBlur,e.setFieldTouched);e.handleReset;return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},c.a.createElement("div",{style:{width:"49%"}},c.a.createElement(C,{label:"To",value:a.recipient,name:"recipient",isError:l.recipient&&i.recipient||!o&&n.error.error.recipient,errorString:l.recipient&&i.recipient||!o&&n.error.error.recipient,onChange:function(e){t(e),m("recipient")}})),c.a.createElement("div",{style:{width:"49%"}},c.a.createElement(C,{label:"Subject",value:a.subject,name:"subject",isError:l.subject&&i.subject||!o&&n.error.error.subject,errorString:l.subject&&i.subject||!o&&n.error.error.subject,onChange:function(e){t(e),m("subject")}}))),c.a.createElement("h3",{className:"inputFieldLabel"},"Body"),c.a.createElement(ja.a,{editor:Na.a,data:s,onInit:function(e){console.log("Editor is ready to use!",e)},onChange:function(e,t){var a=t.getData();u(a)},onBlur:function(e,t){console.log("Blur.",t)},onFocus:function(e,t){console.log("Focus.",t)}}),c.a.createElement("div",{style:{marginTop:"20px"}}),c.a.createElement(E.a,{onClick:function(e){return r(e)},loading:n.isLoading,className:"btnPrimaryClassNameoutline"},"Send"),c.a.createElement("div",{style:{marginTop:"10px"}}))}))},ls=function(e){var t=e.id,a=e.setSelectedEmailId,n=U({},"getEmailDetails"),r=Object(g.a)(n,2),i=r[0],l=r[1];return Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l({urlOptions:{placeHolders:{id:t}}});case 2:e.sent;case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),console.log("getEmailDetailState",i),c.a.createElement(c.a.Fragment,null,i.isLoading&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{style:{width:"100%",display:"flex",justifyContent:"center",alignItems:"center",margin:"150px 0"}},c.a.createElement(Re.a,{size:"large"}))),i.done&&i.data&&Object.keys(i.data).length>0&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"inboxEmailDetails"},c.a.createElement("div",{onClick:function(){return a("")},className:"inboxEmailDetails__backBtn"},c.a.createElement(Il.a,null)),c.a.createElement("div",{className:"inboxEmailDetails__header"},c.a.createElement("span",null,i.data.subject),c.a.createElement("h3",null,i.data.recipient),c.a.createElement("h4",null,i.data.time&&_()(i.data.time).format("MMMM Do YYYY, h:mm:ss a"))),c.a.createElement("div",{className:"inboxEmailDetails__body"},i.data.html&&gi()(i.data.html)))))},ss=function(e){var t=e.emailList,a=(e.setEmailList,e.getEmailListState),n=Object(o.useState)(""),r=Object(g.a)(n,2),i=r[0],l=r[1];return c.a.createElement(c.a.Fragment,null,a.isLoading&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{style:{width:"100%",display:"flex",justifyContent:"center",alignItems:"center",margin:"150px 0"}},c.a.createElement(Re.a,{size:"large"}))),a.done&&t&&!(t.length>0)&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{style:{width:"100%",display:"flex",justifyContent:"center",alignItems:"center",margin:"50px 0"}},c.a.createElement(we.a,{description:"No Email found",image:we.a.PRESENTED_IMAGE_SIMPLE}))),a.done&&t&&t.length>0&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"sentEmailListContainer"},!i&&c.a.createElement(c.a.Fragment,null,a.done&&t&&t.length>0&&c.a.createElement(c.a.Fragment,null,t.map((function(e){return c.a.createElement("div",{onClick:function(){return l(e.id)},className:"sentEmailListContainer__item"},c.a.createElement("div",{className:"sentEmailListContainer__item-info"},c.a.createElement("h3",null,"To: "," ".concat(e.recipient)),c.a.createElement("span",null,"".concat(e.subject||"No Subject"))),c.a.createElement("h4",null,gi()(e.html.substring(0,125)+".....")),c.a.createElement("h3",{style:{fontSize:"12px"}},e.time&&_()(e.time).format("MMMM Do, h a")))})))),i&&c.a.createElement(c.a.Fragment,null,c.a.createElement(ls,{setSelectedEmailId:l,id:i})))))},us=_t.a.TabPane,ms=O.a.Search,ds=function(e){var t=U({},"getSetEmailList"),a=Object(g.a)(t,2),n=a[0],r=a[1],i=Object(o.useState)([]),l=Object(g.a)(i,2),s=l[0],u=l[1];Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r({urlOptions:{params:{limitCount:5e4,sortItemValue:"time",sortOrderValue:"-1"}}});case 2:t=e.sent,u(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"categoryListContainer__header"},c.a.createElement("div",{className:"categoryListContainer__header-searchBar"},c.a.createElement("h2",{className:"categoryListContainer__header-title"},"Email"),c.a.createElement(ms,{enterButton:!1,className:"searchbarClassName",placeholder:"search email..",onChange:function(e){return function(e){if(n.data.length>0){var t=n.data.filter((function(t){return t.recipient&&t.recipient.toLowerCase().includes(e.toLowerCase())||t.subject&&t.subject.toLowerCase().includes(e.toLowerCase())||t.html&&t.html.toLowerCase().includes(e.toLowerCase())}));u(t)}}(e.target.value)}}))),c.a.createElement("div",{className:"siteInfoContainer"},c.a.createElement(_t.a,{defaultActiveKey:"1"},c.a.createElement(us,{tab:c.a.createElement("span",null,c.a.createElement(hc.a,null),"Outbox"),key:"1"},c.a.createElement(ss,{getEmailListState:n,setEmailList:u,emailList:s})),c.a.createElement(us,{tab:c.a.createElement("span",null,c.a.createElement(Ml.a,null),"Compose Email"),key:"2"},c.a.createElement(cs,null)),c.a.createElement(us,{tab:c.a.createElement("span",null,c.a.createElement(me.a,null),"Configure STMP"),key:"3"},c.a.createElement(zl,null)),c.a.createElement(us,{tab:c.a.createElement("span",null,c.a.createElement(me.a,null),"Configure Auto Email"),key:"4"},c.a.createElement(ns,null)))))},ps=(K.a.Header,function(e){var t=Object(_e.g)(),a=U({},"getAllNotificationPage"),n=Object(g.a)(a,2),r=n[0],i=n[1];Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i({urlOptions:{params:{limitNumber:5e3}}});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),console.log("getAllNotificationState",r);var l={customer:c.a.createElement(ie.a,null),order:c.a.createElement(re.a,null)};return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"notificationList"},c.a.createElement("h3",{className:"notificationList__heading"},"Notification"),r.isLoading?c.a.createElement("div",{style:{height:"100%",display:"flex",justifyContent:"center",alignItems:"center",marginTop:"100px"}},c.a.createElement(Re.a,null)):r.done&&r.data&&!r.data[0]?c.a.createElement("div",{style:{height:"100%",display:"flex",justifyContent:"center",alignItems:"center",marginTop:"100px"}},c.a.createElement(Te,{title:"No Notification found"})):c.a.createElement("div",{className:"notificationListItemContainer"},r.done&&r.data[0]&&r.data.map((function(e,a){return c.a.createElement("div",{onClick:function(){return t.push("/admin/".concat(e.type,"/").concat(e.eventId))},className:"notificationListItemContainer__item"},c.a.createElement("span",{className:"notificationListItemContainer__item-icon"},l[e.type]),c.a.createElement("div",{className:"notificationListItemContainer__item-info"},c.a.createElement("h3",null,e.heading),c.a.createElement("h4",null,e.text),c.a.createElement("h2",null,e.added&&_()(e.added).format("MMMM Do YYYY, h:mm a"))))})))))}),bs=function(e){var t=e.checkedList,a=e.setCheckedList,n=e.plainOptions,r=e.defaultValue,i=void 0===r?[]:r,l=e.checkAll,s=e.setCheckAll,u=Object(o.useState)(!0),m=Object(g.a)(u,2),d=(m[0],m[1]);return console.log("defaultValue",i),c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{style:{borderBottom:"1px solid #eee",marginBottom:"10px"},className:"site-checkbox-all-wrapper"},c.a.createElement(Wc.a,{style:{marginBottom:"10px"},onChange:function(e){a(e.target.checked?n:[]),d(!1),s(e.target.checked)},checked:l},"Super Admin")),c.a.createElement(Wc.a.Group,{style:{width:"100%"},value:t,defaultValue:i,onChange:function(e){a(e),d(!!e.length&&e.length<n.length),s(e.length===n.length)}},c.a.createElement(qc.a,null,n.map((function(e){return c.a.createElement(Yc.a,{style:{marginBottom:"10px"},span:8},c.a.createElement(Wc.a,{value:e},e))})))))},gs=he({})(Object(ge.a)({},"credentials/SAVE_CREDENTIALS",(function(e,t){return t.payload}))),fs=function(e){return{type:"credentials/SAVE_CREDENTIALS",payload:e}},hs=gs,Es=y.a().shape({}),vs=function(e){Me.a.success({message:e||"Something Went Wrong",description:"",icon:c.a.createElement(Ct.a,{style:{color:"rgb(241, 67, 67)"}})})},ys=["getCatalogue","postCatalogue","getDelivery","postDelivery","getOrder","postOrder","getBlog","postBlog","getPage","postPage","analytics","accounts","getDealer","postDealer"],Os={saveRoles:n.saveRoles,saveCredentials:r.saveCredentials},js=Object(u.b)((function(e){return{roles:e.globalState,credentials:e.credentials}}),Os)((function(e){var t=e.category,a=e.setvisible,n=e.visible,r=e.tagList,i=e.setTagList,l=(e.saveRoles,e.roles,e.saveCredentials,U({},"updateAdminRole")),s=Object(g.a)(l,2),u=s[0],m=s[1],d=Object(o.useState)(!1),h=Object(g.a)(d,2),E=h[0],y=h[1],O=Object(o.useState)([]),j=Object(g.a)(O,2),N=j[0],x=j[1];Object(o.useEffect)((function(){t.role&&t.role.length>0&&(t.role.includes("superAdmin")?(y(!0),x([].concat(ys))):x(Object(fe.a)(t.role)))}),[t]);var k=function(){var e=Object(b.a)(p.a.mark((function e(n,o){var l,s,u,d,b,g;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("adminValues",n),l=Object(fe.a)(N),E&&(l=["superAdmin"]),e.next=5,m({urlOptions:{placeHolders:{id:t._id}},body:{name:n.name,access:l,phone:n.phone,password:n.password,password2:n.passwordConfirmation}});case 5:(s=e.sent)&&"ok"===s.status?(p=void 0,Me.a.success({message:p||"Admin Updated",description:"",icon:c.a.createElement(De.a,{style:{color:"rgba(0, 128, 0, 0.493)"}})}),a(!1),u=function(){return r.map((function(e){return e._id})).indexOf(t._id)},console.log("updateTagRes",s),d=u(),b=Object.assign({},r[d],Object(f.a)({},s,{_id:t._id})),g=[].concat(Object(fe.a)(r.slice(0,d)),[b],Object(fe.a)(r.slice(d+1))),console.log("updateTagList",g),i(g),o.resetForm()):vs(),o.setSubmitting(!1);case 8:case"end":return e.stop()}var p}),e)})));return function(t,a){return e.apply(this,arguments)}}(),S=function(e){a(!1)};return Object(o.useEffect)((function(){if(!u.isLoading){var e=u.error;if(e.isError&&Object.keys(e.error).length>0)e.error.registerError||e.error.checkoutError,(Object.values(e.error).length>0?Object.values(e.error):[]).forEach((function(e,t){if("string"===typeof e)vs(e);else if("object"===typeof e){if(e&&Object.keys(e).length>0)Object.values(e).forEach((function(e){vs(e)}))}}))}!u.isLoading&&Object.keys(u.data).length>0&&u.data.status}),[u]),c.a.createElement(v.a,{onSubmit:function(e,t){return k(e,t)},validationSchema:Es,validateOnBlur:!1,enableReinitialize:!0,initialValues:Object(f.a)({},t)},(function(e){var a=e.handleChange,r=e.values,i=e.handleSubmit,o=e.errors,l=(e.isValid,e.isSubmitting),s=e.touched,m=(e.handleBlur,e.setFieldTouched);e.handleReset;return c.a.createElement(c.a.Fragment,null,console.log("errors",o),c.a.createElement(Ot.a,{title:"Edit Admin",visible:n,onOk:function(e){return i(e)},onCancel:S,okText:"Update",okButtonProps:{loading:l,htmlType:"submit"}},c.a.createElement(C,{label:"Title",value:r.name,name:"name",isError:s.name&&o.name||!l&&u.error.error.name,errorString:s.name&&o.name||!l&&u.error.error.name,onChange:function(e){a(e),m("name")}}),c.a.createElement("h3",{className:"inputFieldLabel"},"Select Admin Access"),c.a.createElement(bs,{defaultValue:t.role,checkAll:E,setCheckAll:y,plainOptions:ys,checkedList:N,setCheckedList:x}),c.a.createElement("div",{style:{marginTop:"20px",marginBottom:"20px"}},c.a.createElement("div",{style:{borderBottom:"1px solid #eee",marginBottom:"15px",marginTop:"15px"}},c.a.createElement("h3",{className:"inputFieldLabel"},"Phone and password is required to update admin *")),c.a.createElement(C,{label:"Phone",value:r.phone,name:"phone",isError:s.phone&&o.phone||!l&&u.error.error.phone,errorString:s.phone&&o.phone||!l&&u.error.error.phone,onChange:function(e){a(e),m("phone")}}),c.a.createElement(C,{label:"Password",value:r.password,name:"password",type:"password",isError:s.password&&o.password||!l&&u.error.error.password,errorString:s.password&&o.password||!l&&u.error.error.password,onChange:function(e){a(e),m("password")}}),c.a.createElement(C,{label:"Confirm Password",value:r.passwordConfirmation,name:"passwordConfirmation",type:"password",isError:s.passwordConfirmation&&o.passwordConfirmation||!l&&u.error.error.password2,errorString:s.passwordConfirmation&&o.passwordConfirmation||!l&&u.error.error.password2,onChange:function(e){a(e),m("passwordConfirmation")}}))))}))})),Cs=y.a().shape({}),Ns=function(e){Me.a.error({message:e||"Something Went Wrong",description:"",icon:c.a.createElement(Ct.a,{style:{color:"rgb(241, 67, 67)"}})})},xs={name:"",phone:"",email:"",password:"",passwordConfirmation:"",access:[]},ks=["getCatalogue","postCatalogue","getDelivery","postDelivery","getOrder","postOrder","getBlog","postBlog","getPage","postPage","analytics","accounts","getDealer","postDealer"],Ss=function(e){var t=e.addNewCategoryVisible,a=e.setAddNewCategoryVisible,n=e.tagList,r=e.setTagList,i=U({},"adminRoleRegister"),l=Object(g.a)(i,2),s=l[0],u=l[1],m=Object(o.useState)(!1),d=Object(g.a)(m,2),h=d[0],E=d[1],y=Object(o.useState)(!1),O=Object(g.a)(y,2),j=O[0],N=O[1],x=Object(o.useState)([]),k=Object(g.a)(x,2),S=k[0],w=k[1],T=Object(o.useState)(!1),_=Object(g.a)(T,2),D=_[0],I=_[1],L=function(){var e=Object(b.a)(p.a.mark((function e(t,i){var o,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=Object(fe.a)(S),D&&(o=["superAdmin"]),e.next=4,u({body:{name:t.name.trim(),email:t.email.trim(),phone:t.phone,password:t.password,password2:t.passwordConfirmation,access:o}});case 4:(c=e.sent)&&"ok"===c.status?(r([].concat(Object(fe.a)(n),[Object(f.a)({},c,{id:c.id||"",key:c.id||"",name:c.name||""})])),i.resetForm(),a(!1)):Ns(),i.setSubmitting(!1);case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();Object(o.useEffect)((function(){if(!s.isLoading){var e=s.error;if(e.isError&&Object.keys(e.error).length>0)e.error.registerError||e.error.checkoutError,(Object.values(e.error).length>0?Object.values(e.error):[]).forEach((function(e,t){if("string"===typeof e)Ns(e);else if("object"===typeof e){if(e&&Object.keys(e).length>0)Object.values(e).forEach((function(e){Ns(e)}))}}))}var t;!s.isLoading&&Object.keys(s.data).length>0&&"ok"===s.data.status&&(t="Admin Created Successfully",Me.a.success({message:t||"Admin Created",description:"",icon:c.a.createElement(De.a,{style:{color:"rgba(0, 128, 0, 0.493)"}})}))}),[s]);var P=function(e){a(!1)},M=function(e,t){return!(e.name&&e.phone&&e.password&&e.passwordConfirmation&&t)};return c.a.createElement(v.a,{onSubmit:function(e,t){return L(e,t)},validationSchema:Cs,validateOnBlur:!1,enableReinitialize:!0,initialValues:Object(f.a)({},xs)},(function(e){var a=e.handleChange,n=e.values,r=e.handleSubmit,i=e.errors,o=e.isValid,l=e.isSubmitting,u=e.touched,m=(e.handleBlur,e.setFieldTouched);e.handleReset;return c.a.createElement(c.a.Fragment,null,c.a.createElement(Ot.a,{style:{top:"40px"},title:"Register New Admin",visible:t,onOk:function(e){return r(e)},onCancel:P,okText:"Create",okButtonProps:{loading:l,htmlType:"submit",disabled:M(n,o)}},c.a.createElement(C,{label:"Name",value:n.name,name:"name",isError:u.name&&i.name||!l&&s.error.error.name,errorString:u.name&&i.name||!l&&s.error.error.name,onChange:function(e){a(e),m("name")}}),c.a.createElement(C,{label:"Phone",value:n.phone,name:"phone",isError:u.phone&&i.phone||!l&&s.error.error.phone,errorString:u.phone&&i.phone||!l&&s.error.error.phone,onChange:function(e){a(e),m("phone")}}),c.a.createElement(C,{label:"Email",value:n.email,name:"email",isError:u.email&&i.email||!l&&s.error.error.email,errorString:u.email&&i.email||!l&&s.error.error.email,onChange:function(e){a(e),m("email")}}),c.a.createElement(C,{label:"Password",value:n.password,name:"password",type:"password",isError:u.password&&i.password||!l&&s.error.error.password,errorString:u.password&&i.password||!l&&s.error.error.password,onChange:function(e){a(e),m("password")}}),c.a.createElement(C,{label:"Confirm Password",value:n.passwordConfirmation,name:"passwordConfirmation",type:"password",isError:u.passwordConfirmation&&i.passwordConfirmation||!l&&s.error.error.passwordConfirmation,errorString:u.passwordConfirmation&&i.passwordConfirmation||!l&&s.error.error.password2,onChange:function(e){a(e),m("passwordConfirmation")}}),c.a.createElement("h3",{className:"inputFieldLabel"},"Select Admin Access"),c.a.createElement(bs,{checkAll:D,setCheckAll:I,plainOptions:ks,checkedList:S,setCheckedList:w})),c.a.createElement(Vt,{setvisible:N,visible:j,setmyImages:E,myImages:h,isModalOpenForImages:!0}))}))},ws=function(e){Me.a.success({message:e||"Admin Created",description:"",icon:c.a.createElement(De.a,{style:{color:"rgba(0, 128, 0, 0.493)"}})})},Ts=function(e){Me.a.error({message:e||"Something Went Wrong",description:"",icon:c.a.createElement(De.a,{style:{color:"rgb(241, 67, 67)"}})})},_s=(y.a().shape({name:y.c().label("Name").required("Name is required").min(3,"Name must have at least 3 characters")}),ot.a.Column),Ds=(ot.a.ColumnGroup,O.a.Search),Is=function(e){var t=e.data,a=e.setTagList,n=e.roles,r=Object(o.useState)(!1),i=Object(g.a)(r,2),l=i[0],s=i[1],u=Object(o.useState)(!1),m=Object(g.a)(u,2),d=m[0],f=m[1],h=U({},"deleteAdmin"),E=Object(g.a)(h,2),v=E[0],y=E[1];Object(o.useEffect)((function(){if(!v.isLoading){var e=v.error;if(e.isError&&Object.keys(e.error).length>0)e.error.registerError||e.error.checkoutError,(Object.values(e.error).length>0?Object.values(e.error):[]).forEach((function(e,t){if("string"===typeof e)Ts(e);else if("object"===typeof e){if(e&&Object.keys(e).length>0)Object.values(e).forEach((function(e){Ts(e)}))}}))}!v.isLoading&&Object.keys(v.data).length>0&&"ok"===v.data.status&&ws("Admin Deleted!")}),[v]);Object(_e.g)();var O=function(){var e=Object(b.a)(p.a.mark((function e(n){var r,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y({urlOptions:{placeHolders:{id:n}}});case 2:(r=e.sent)&&"ok"===r.status&&(i=t.filter((function(e){return e._id!==n})),a(i));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return c.a.createElement(c.a.Fragment,null,c.a.createElement(ot.a,{size:"small",dataSource:t},c.a.createElement(_s,{title:"Name",dataIndex:"name",key:"id",className:"classnameofthecolumn",render:function(e,t){return c.a.createElement(c.a.Fragment,null,c.a.createElement("h4",{onClick:function(){f(t)},style:{fontWeight:400,color:"#555"}},e))}}),c.a.createElement(_s,{title:"Email",dataIndex:"email",key:"id",className:"classnameofthecolumn"}),c.a.createElement(_s,{title:"Phone",dataIndex:"phone",key:"id",className:"classnameofthecolumn"}),c.a.createElement(_s,{width:250,title:"Roles",dataIndex:"role",key:"role",className:"classnameofthecolumn",render:function(e){return c.a.createElement(c.a.Fragment,null,e&&e.length>0&&e.map((function(e){return c.a.createElement(Ht.a,{style:{borderRadius:"5px",marginBottom:"5px"},color:"blue",key:e},e)})))}}),D("superAdmin",n)&&c.a.createElement(_s,{className:"classnameofthecolumn",title:"",key:"action",align:"right",render:function(e,t){return c.a.createElement(dt.a,{size:"middle"},c.a.createElement("a",{href:"##"},c.a.createElement(pt.a,{placement:"top",title:"Edit Admin"},c.a.createElement("span",{className:"iconSize",onClick:function(){s(!0),f(t)}},c.a.createElement(gt.a,null)))),c.a.createElement(bt.a,{onConfirm:function(){return O(t._id)},title:"Are you sure\uff1f",okText:"Yes",cancelText:"No"},c.a.createElement("span",{className:"iconSize iconSize-danger"},c.a.createElement(ft.a,null))))}})),d&&c.a.createElement(js,{tagList:t,setTagList:a,setvisible:s,visible:l,category:d}))},Ls=Object(u.b)((function(e){return{roles:e.globalState}}),null)((function(e){var t=e.roles,a=Object(o.useState)([]),n=Object(g.a)(a,2),r=n[0],i=n[1],l=U({},"adminList"),s=Object(g.a)(l,2),u=s[0],m=s[1];Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m({});case 2:t=e.sent,i(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var d=U({},"addTag"),f=Object(g.a)(d,2),h=(f[0],f[1],Object(o.useState)(!1)),v=Object(g.a)(h,2),y=v[0],O=v[1];return console.log("adminListState",u),c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"categoryListContainer"},c.a.createElement("div",{className:"categoryListContainer__header"},c.a.createElement("div",{className:"categoryListContainer__header-searchBar-tag"},c.a.createElement("h2",{className:"categoryListContainer__header-title"},"Admins"),c.a.createElement(Ds,{enterButton:!1,className:"searchbarClassName",placeholder:"search admins..",onChange:function(e){return function(e){if(u.data.length>0){var t=u.data.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())}));i(t)}}(e.target.value)}})),D("superAdmin",t)&&c.a.createElement(E.a,{className:"btnPrimaryClassNameoutline",icon:c.a.createElement(ht.a,null),onClick:function(){return O(!0)}},"Add New")),c.a.createElement("div",{className:"categoryListContainer__categoryList"},u.done&&r.length>0&&c.a.createElement(Is,{roles:t,setTagList:i,data:r}),u.isLoading&&c.a.createElement(ta,null),u.done&&!(r.length>0)&&c.a.createElement("div",{style:{marginTop:"150px"}},c.a.createElement(we.a,{description:"No Admin found",image:we.a.PRESENTED_IMAGE_SIMPLE})))),c.a.createElement(Ss,{tagList:r,setTagList:i,addNewCategoryVisible:y,setAddNewCategoryVisible:O}))})),Ps=y.a().shape({name:y.c().label("Name").required("Name is required").min(3,"Name must have at least 3 characters"),description:y.c().label("Description").required("Description is required")}),Ms=function(e){Me.a.success({message:e||"Something Went Wrong",description:"",icon:c.a.createElement(Ct.a,{style:{color:"rgb(241, 67, 67)"}})})},Rs=function(e){var t=e.tagEditVisible,a=e.setTagEditVisible,n=e.tagDetailData,r=e.setTagDetailData,i=U({},"updateTag"),l=Object(g.a)(i,2),s=l[0],u=l[1],m=Object(o.useState)(!1),d=Object(g.a)(m,2),h=(d[0],d[1],function(){var e=Object(b.a)(p.a.mark((function e(t,n){var i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u({urlOptions:{placeHolders:{id:t.id}},body:{name:t.name,description:t.description}});case 2:(i=e.sent)&&"ok"===i.status?(r({id:t.id,key:t.id,name:t.name,description:t.description}),o=void 0,Me.a.success({message:o||"Admin Updated",description:"",icon:c.a.createElement(De.a,{style:{color:"rgba(0, 128, 0, 0.493)"}})})):Ms(),n.setSubmitting(!1),a(!1);case 6:case"end":return e.stop()}var o}),e)})));return function(t,a){return e.apply(this,arguments)}}()),E=function(e){a(!1)},y=function(e,t){return!(e.name&&e.description&&t)};return c.a.createElement(v.a,{onSubmit:function(e,t){return h(e,t)},validationSchema:Ps,validateOnBlur:!1,enableReinitialize:!0,initialValues:Object(f.a)({},n)},(function(e){var a=e.handleChange,n=e.values,r=e.handleSubmit,i=e.errors,o=e.isValid,l=e.isSubmitting,u=e.touched,m=(e.handleBlur,e.setFieldTouched);e.handleReset;return c.a.createElement(c.a.Fragment,null,c.a.createElement(Ot.a,{title:"Admin Edit",visible:t,onOk:function(e){return r(e)},onCancel:E,okText:"Update",okButtonProps:{loading:l,htmlType:"submit",disabled:y(n,o)}},c.a.createElement(C,{label:"Title",value:n.name,name:"name",isError:u.name&&i.name||!l&&s.error.error.name,errorString:u.name&&i.name||!l&&s.error.error.name,onChange:function(e){a(e),m("name")}}),c.a.createElement(wt,{label:"Description",value:n.description,name:"description",isError:u.description&&i.description||!l&&s.error.error.description,errorString:u.description&&i.description||!l&&s.error.error.description,onChange:function(e){a(e),m("description")}})))}))},Fs=(ot.a.Column,ot.a.ColumnGroup,O.a.Search,function(e){var t=U({},"adminDetail"),a=Object(g.a)(t,2),n=a[0],r=a[1],i=U({},"tagProducts"),l=Object(g.a)(i,2),s=l[0],u=l[1],m=Object(o.useState)(!1),d=Object(g.a)(m,2),f=d[0],h=d[1],v=Object(o.useState)({}),y=Object(g.a)(v,2),O=y[0],j=y[1],C=Object(_e.h)(),N=(Object(_e.g)(),C.id);return Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r({urlOptions:{placeHolders:{id:N}}});case 2:(t=e.sent)&&(console.log("tagDetailRes",t),j(t));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[N]),Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u({urlOptions:{placeHolders:{id:N}}});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[N]),console.log("tagProductsState",s),console.log("brandParams",C),c.a.createElement("div",{className:"brandDetailContainer"},c.a.createElement("div",{className:"brandDetailContainer__heading"},c.a.createElement("h3",null,"Admin Detail"),n.done&&O&&Object.keys(O).length>0&&c.a.createElement(c.a.Fragment,null,c.a.createElement(Rs,{tagEditVisible:f,setTagEditVisible:h,tagDetailData:O,setTagDetailData:j}),c.a.createElement(E.a,{onClick:function(){return h(!0)},type:"link",icon:c.a.createElement(gt.a,null)},"Edit"))),c.a.createElement(ma.a,{paragraph:{rows:2},loading:n.isLoading},n.done&&O&&!(Object.keys(O).length>0)&&c.a.createElement(we.a,{description:"No Admin found",image:we.a.PRESENTED_IMAGE_SIMPLE}),n.done&&O&&Object.keys(O).length>0&&c.a.createElement("div",{className:"brandDetailContainer__header"},c.a.createElement("div",{className:"brandDetailContainer__header-info"},c.a.createElement("h2",null,O.name),c.a.createElement("h3",null,O.description),O.url&&c.a.createElement("h3",null,"URL:",c.a.createElement("span",null,O.url))))))}),As=Ht.a.CheckableTag,Bs=O.a.Search,Vs=function(e){var t=e.setTagIds,a=e.setSelectedTags,n=e.selectedTags,r=Object(o.useState)([]),i=Object(g.a)(r,2),l=i[0],s=i[1],u=Object(o.useState)([]),m=Object(g.a)(u,2),d=(m[0],m[1],U({},"postTagList")),f=Object(g.a)(d,2),h=f[0],E=f[1],v=Object(o.useState)(""),y=Object(g.a)(v,2),O=y[0],j=y[1];Object(o.useEffect)((function(){if(h.done&&h.data.length>0&&n.length>0){var e=n.map((function(e){var t=h.data.find((function(t){return t.id===e}));if(t)return t.name}));a(e)}}),[h]),Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E({urlOptions:{params:{isSubCategory:!1}}});case 2:(t=e.sent)&&t.length>0&&(a=t.map((function(e){return e.name})),s(a));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);return console.log("selectedTags",n),c.a.createElement(c.a.Fragment,null,h.isLoading&&c.a.createElement("div",{style:{padding:"15px 0",width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"}},c.a.createElement(Re.a,null)),h.done&&c.a.createElement("div",{className:"addProduct__categoryBoxContainer-searchBox"},c.a.createElement(Bs,{width:"90%",style:{height:"30px",borderRadius:"3px !important",borderColor:"#eee !important"},size:"middle",placeholder:"top, hot",onSearch:function(e){return console.log(e)},onChange:function(e){if(j(e.target.value),""===e.target.value){if(h.data&&h.data.length>0){var t=h.data.map((function(e){return e.name}));s(t)}}else{var a=l.length>0?l.filter((function(e){return e.toLowerCase().includes(O.toLowerCase())})):[];s(a)}}})),h.done&&!(l.length>0)&&c.a.createElement("div",{style:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"}},c.a.createElement(Te,{title:"No tags found",height:100})),h.done&&h.data.length>0&&l.length>0&&c.a.createElement(c.a.Fragment,null,l.map((function(e){return c.a.createElement(c.a.Fragment,null,c.a.createElement(As,{key:e,checked:n.indexOf(e)>-1,onChange:function(r){return function(e,r){var i=r?[].concat(Object(fe.a)(n),[e]):n.filter((function(t){return t!==e}));if(a(i),h.done&&h.data.length>0&&i.length>0){var o=i.map((function(e){var t=h.data.find((function(t){return t.name.toLowerCase()===e.toLowerCase()}));if(t)return t.id}));t(o)}}(e,r)}},e))}))))},Us=O.a.Search,Gs=function(e){var t=e.setcategoryIds,a=e.categoryOptions,n=e.setCategoryOptions,r=Object(o.useState)([]),i=Object(g.a)(r,2),l=i[0],s=i[1],u=Object(o.useState)(""),m=Object(g.a)(u,2),d=m[0],h=m[1],E=U({},"postSelectCategoryList"),v=Object(g.a)(E,2),y=v[0],O=v[1];Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O({});case 2:(t=e.sent)&&t.length>0&&s(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);return console.log("categoryState",y),console.log("optionsCat",l),c.a.createElement("div",{className:"addProduct__categoryBoxContainer"},y.isLoading&&c.a.createElement("div",{style:{padding:"15px 0",width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"}},c.a.createElement(Re.a,null)),y.done&&c.a.createElement("div",{className:"addProduct__categoryBoxContainer-searchBox"},c.a.createElement(Us,{width:"100%",style:{height:"30px",borderRadius:"3px !important",borderColor:"#eee !important"},size:"middle",placeholder:"",onSearch:function(e){return console.log(e)},onChange:function(e){if(h(e.target.value),""===e.target.value){if(y.data&&y.data.length>0){var t=y.data.map((function(e){return Object(f.a)({},e)}));s(t)}}else{var a=l.length>0?l.filter((function(e){return e&&e.title.toLowerCase().includes(d.toLowerCase())})):[];s(a)}}})),y.done&&y.data.length>0&&l.length>0&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{style:{}},l.length>0&&c.a.createElement(Pa.a,{checkable:!0,checkedKeys:a,onSelect:function(e,t){},onCheck:function(e,a){var r=e.checked||[];t(r),n(r)},treeData:l,defaultExpandAll:!0,checkStrictly:!0}))),y.done&&!(l.length>0)&&c.a.createElement("div",{style:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"}},c.a.createElement(Te,{title:"No category found",height:100})))},zs=function(e){var t=e.setProductIds,a=e.productIds,n=Object(o.useState)([]),r=Object(g.a)(n,2),i=r[0],l=r[1],s=Object(o.useState)([]),u=Object(g.a)(s,2),m=u[0],d=u[1],f=U({},"productList"),h=Object(g.a)(f,2),E=h[0],v=h[1];Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v({urlOptions:{params:{isSubCategory:!1,pageNumber:1}}});case 2:(t=e.sent)&&t.length>0&&(a=t.map((function(e){return e.name})),l(a));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(o.useEffect)((function(){if(a&&a.length>0){console.log("shippingRunning");var e=a.map((function(e){return e.name}));d(e)}}),[a]),console.log("OrderProudctItemsProductIds",a);return c.a.createElement(c.a.Fragment,null,c.a.createElement(ma.a,{loading:E.isLoading},E.done&&E.data.length>0&&c.a.createElement(Ge.a,{mode:"multiple",placeholder:"search products",value:m,onChange:function(e){if(d(e),console.log("selectedProducts",e),E.done&&E.data.length>0&&e.length>0){var a=e.map((function(e){var t=E.data.find((function(t){return t.name.toLowerCase()===e.toLowerCase()}));if(t)return t}));console.log("selectedCategoryIds",a),t(a)}else t([])},style:{width:"100%"}},i.filter((function(e){return!m.includes(e)})).map((function(e){return c.a.createElement(Ge.a.Option,{key:e,value:e},e)}))),E.done&&E.data&&!(E.data.length>0)&&c.a.createElement("div",{style:{marginLeft:"32px"}},c.a.createElement(Te,{title:"No Product Found",height:150}))))},Hs=function(e){var t=e.setProductList,a=e.productList;return c.a.createElement("div",{style:{flexDirection:"flex"},className:"addOrderContainer__container-orderSummary"},c.a.createElement("div",{className:"addOrderContainer__container-productItemContainer"},a&&a.length>0&&a.map((function(e){return c.a.createElement(Ua,{setProductList:t,productList:a,productId:e._id,quantity:e.quantity,item:e,variation:e.variation})})),!(a.length>0)&&c.a.createElement("div",{style:{marginLeft:"32px"}},c.a.createElement(Te,{title:"No Product Added",height:150}))))},Ws=(_t.a.TabPane,y.a().shape({name:y.c().label("Name").required("Name is required").min(3,"Name must have at least 3 characters")})),qs={name:"",url:"",preparationTime:"",servingSize:"",cookingTime:"",body:"",bnName:"",bnBody:"",bnPreparationTime:"",bnServingSize:"",bnCookingTime:"",metaTitle:"",bnMetaTitle:"",metaDescription:"",bnMetaDescription:"",metaTags:"",bnMetaTags:""},Ys=function(e){e.addNewCategoryVisible;var t=e.setAddNewCategoryVisible,a=e.productList,n=e.setProductList,r=e.productDetailData,i=U({},"updatePost"),l=Object(g.a)(i,2),s=l[0],u=l[1],m=U({},"postDetail"),d=Object(g.a)(m,2),h=d[0],y=d[1],O=Object(o.useState)(!1),j=Object(g.a)(O,2),N=j[0],x=j[1],k=Object(o.useState)(!1),S=Object(g.a)(k,2),w=S[0],T=S[1],_=Object(o.useState)(!1),D=Object(g.a)(_,2),I=(D[0],D[1]),L=Object(o.useState)(!1),P=Object(g.a)(L,2),M=P[0],R=P[1],F=Object(o.useState)(!1),A=Object(g.a)(F,2),B=A[0],V=A[1],G=Object(o.useState)([]),z=Object(g.a)(G,2),H=z[0],W=z[1],q=Object(o.useState)([]),Y=Object(g.a)(q,2),K=Y[0],J=Y[1],Q=Object(o.useState)(""),X=Object(g.a)(Q,2),Z=(X[0],X[1]),$=Object(o.useState)([]),ee=Object(g.a)($,2),te=ee[0],ae=ee[1],ne=Object(o.useState)(""),re=Object(g.a)(ne,2),ie=re[0],oe=re[1],ce=Object(o.useState)([]),le=Object(g.a)(ce,2),se=le[0],ue=le[1],me=Object(o.useState)([]),de=Object(g.a)(me,2),pe=de[0],be=de[1],ge=Object(o.useState)(""),he=Object(g.a)(ge,2),Ee=he[0],ve=he[1],ye=Object(o.useState)(""),Oe=Object(g.a)(ye,2),je=Oe[0],Ce=Oe[1],Ne=Object(o.useState)([]),xe=Object(g.a)(Ne,2),ke=xe[0],Se=xe[1],we=Object(o.useState)([]),Te=Object(g.a)(we,2),_e=Te[0],Ie=Te[1],Le=Object(o.useState)([]),Pe=Object(g.a)(Le,2),Me=Pe[0],Fe=Pe[1],Ae=Object(o.useState)([]),Be=Object(g.a)(Ae,2),Ve=Be[0],Ue=Be[1],Ge=U({},"attachImageToItemMultiple"),ze=Object(g.a)(Ge,2),He=(ze[0],ze[1]),We=U({},"attachImageToItemSingle"),qe=Object(g.a)(We,2),Ye=(qe[0],qe[1]),Ke=U({},"detachImageFromItemMultiple"),Je=Object(g.a)(Ke,2),Qe=(Je[0],Je[1],U({},"detachImageFromItemSingle")),Xe=Object(g.a)(Qe,2),Ze=(Xe[0],Xe[1]),$e=U({},"setImageAsThumbnailToItem"),et=Object(g.a)($e,2),tt=(et[0],et[1]);console.log("myPostState",h),Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y({urlOptions:{placeHolders:{id:r.id},params:{imageValue:1,tagsOne:"1",categoryOne:"1"}}});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[r]),Object(o.useEffect)((function(){if(h.data&&Object.keys(h.data).length>0){var e=h.data.image,t=[];if(e&&e.length>0&&(t=e),h.data.cover&&h.data.cover.id)e.find((function(e){return e.id===h.data.cover.id}))||(t=[h.data.cover].concat(Object(fe.a)(t))),oe(h.data.cover.id);T(t)}}),[h.data]),Object(o.useEffect)((function(){w&&w[0]&&w.length<2&&ie!==w[0].id&&(oe(w[0].id),nt(w[0]))}),[w]),console.log("myLoadImages",w);var at=function(){var e=Object(b.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ze({urlOptions:{placeHolders:{imageId:t,collection:"post",itemId:r.id}}});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),nt=function(){var e=Object(b.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tt({urlOptions:{placeHolders:{imageId:t.id,collection:"post",itemId:r.id}}});case 2:(a=e.sent)&&"ok"===a.status||wa("Couldn't set as thumbnail, Something went wrong");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(o.useEffect)((function(){if(h.done&&h.data&&Object.keys(h.data).length>0){console.log("5555",h);var e=h.data;if(e&&e.brand?Z(e.brand.id):Z(""),e&&e.tags&&e.tags.length>0){var t=e.tags.map((function(e){return e.name})),a=e.tags.map((function(e){return e._id}));console.log("tags55----",t,a),be(t),J(a)}else J([]),be([]);if(e&&e.category&&e.category.length>0){var n=e.category;ue(n)}else ue([]);e&&e.body?ve(e.body):ve(""),e&&e.bn&&e.bn.body?Ce(e.bn.body):Ce("")}}),[h]),console.log("postSelectedTagsIds",pe),console.log("TagsIds",K),Object(o.useEffect)((function(){if(h.done&&h.data&&Object.keys(h.data).length>0&&h.data.requiredProducts.length>0){var e=h.data.requiredProducts.map((function(e){return e}));Se(e);var t=h.data.requiredProducts.map((function(e){return Object(f.a)({},e,{_id:e._id,variation:e.variation,quantity:e.quantity})}));Ie(t)}}),[h]),console.log("couponDetialQuickEdit",h),Object(o.useEffect)((function(){if(ke.length>0){if(ke.length>_e.length){var e=ke[ke.length-1].pricing.length>0&&ke[ke.length-1].pricing[0]._id;console.log("variation",e),Ie([].concat(Object(fe.a)(_e),[Object(f.a)({},ke[ke.length-1],{_id:ke[ke.length-1].id,variation:e,quantity:1})]))}else if(ke.length<_e.length){console.log("productIds",ke),console.log("productList",_e);var t=_e.filter((function(e){var t=!1;return ke.forEach((function(a){a.id===e._id&&(t=!0)})),t}));Ie(t)}}else Ie([])}),[ke]);var rt=function(){var e=Object(b.a)(p.a.mark((function e(i,o){var c,l,s,m,d,b,g,h;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=w&&w[0]?w.map((function(e){return e.id})):[],l=_e.length>0?_e.map((function(e){return{_id:e._id,variation:e.variation,quantity:e.quantity}})):[],!(r&&Object.keys(r).length>0)){e.next=13;break}if(s=[],c&&c.length>0&&c.forEach((function(e){r&&r.image&&(r.image.includes(e)||s.push(e))})),!(s[0]&&s.length>1)){e.next=10;break}return e.next=8,He({urlOptions:{placeHolders:{collection:"post",itemId:r.id}},body:{image:s}});case 8:e.next=13;break;case 10:if(!(s[0]&&s.length<1)){e.next=13;break}return e.next=13,Ye({urlOptions:{placeHolders:{imageId:s[0].id,collection:"post",itemId:r.id}}});case 13:return e.next=15,u({urlOptions:{placeHolders:{id:r.id}},body:{name:i.name.trim(),category:se,tags:K,image:c,body:Ee,requiredProducts:l,preparationTime:i.preparationTime,servingSize:i.servingSize,cookingTime:i.cookingTime,metaTitle:i.metaTitle,metaDescription:i.metaDescription,metaTags:Me&&Me.length>0?Me.join(","):"",bn:{metaTitle:i.bnMetaTitle,metaDescription:i.bnMetaDescription,metaTags:Ve&&Ve.length>0?Ve.join(","):"",name:i.bnName.trim(),preparationTime:i.bnPreparationTime,body:je,servingSize:i.bnServingSize,cookingTime:i.bnCookingTime}}});case 15:m=e.sent,console.log("addProductRes",m),m&&"ok"===m.status&&(Sa("Recipe Updated"),d=function(){return a.map((function(e){return e.id})).indexOf(r.id)}(),b=function(e){if(!(e&&w&&w[0]))return"";if(w&&w.length>0){var t=w.find((function(t){return t.id===e}));if(t)return t.cover}},g=Object.assign({},a[d],Object(f.a)({},m,{id:m.id||"",key:m.id||"",name:i.name.trim()||"",cover:b(ie)})),h=[].concat(Object(fe.a)(a.slice(0,d)),[g],Object(fe.a)(a.slice(d+1))),n(h),t(!1),T([]),oe(""),ae([]),J([]),be([]),Z(""),W([]),ue([]),Ce(""),ve(""),Fe([]),Ue([]),Se([]),Ie([]),o.resetForm()),o.setSubmitting(!1);case 19:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();Object(o.useEffect)((function(){if(!s.isLoading){var e=s.error;if(e.isError&&Object.keys(e.error).length>0)(Object.values(e.error).length>0?Object.values(e.error):[]).forEach((function(e,t){if("string"===typeof e)wa(e);else if("object"===typeof e){if(e&&Object.keys(e).length>0)Object.values(e).forEach((function(e){wa(e)}))}}))}}),[s]);return Object(o.useEffect)((function(){if(r&&Object.keys(r).length>0){var e=r.metaTags&&r.metaTags.split(",");console.log("localMetaTags",e);var t=r.bn&&r.bn.metaTags&&r.bn.metaTags.split(",");Fe(e||[]),Ue(t||[])}}),[]),c.a.createElement(v.a,{onSubmit:function(e,t){return rt(e,t)},validationSchema:Ws,validateOnBlur:!1,enableReinitialize:!0,initialValues:Object(f.a)({},qs,{},Object(f.a)({},r,{},h.data&&Object.keys(h.data).length>0&&h.data.bn&&{bnMetaTitle:h.data.bn.metaTitle,bnMetaDescription:h.data.bn.metaDescription,bnName:h.data.bn.name,metaUnit:h.data.bn.unit,bnDescription:h.data.bn.description}))},(function(e){var a=e.handleChange,n=e.values,r=e.handleSubmit,i=e.errors,o=(e.isValid,e.isSubmitting),l=e.touched,u=(e.handleBlur,e.setFieldTouched);e.handleReset;return c.a.createElement(c.a.Fragment,null,c.a.createElement("section",{className:"addProductGridContainer"},c.a.createElement("div",{className:"addProductGridContainer__left"},c.a.createElement("div",{className:"addProductGridContainer__name"},c.a.createElement("div",{className:"addProductGridContainer__item-header"},c.a.createElement("h3",null,"Recipe Information"),c.a.createElement("div",{className:n.name&&n.name.length>2?"checkicon-active":"checkicon"},c.a.createElement(De.a,null))),c.a.createElement("div",{className:"addProductGridContainer__item-body"},c.a.createElement(C,{label:"Name",placeHolder:"Rafti oxy",value:n.name,name:"name",isError:l.name&&i.name||!o&&s.error.error.name,errorString:l.name&&i.name||!o&&s.error.error.name,onChange:function(e){a(e),u("name")}}),c.a.createElement(C,{label:"BN Name",value:n.bnName,placeHolder:"\u09b0\u09be\u09ab\u09a4\u09bf \u0985\u0995\u09cd\u09b8",name:"bnName",isError:l.bnName&&i.bnName||!o&&s.error.error.bnName,errorString:l.bnName&&i.bnName||!o&&s.error.error.bnName,onChange:function(e){a(e),u("bnName")}}),c.a.createElement(C,{label:"Preparation Time",value:n.preparationTime,placeHolder:"15 min",name:"preparationTime",isError:l.preparationTime&&i.preparationTime||!o&&s.error.error.preparationTime,errorString:l.preparationTime&&i.preparationTime||!o&&s.error.error.preparationTime,onChange:function(e){a(e),u("preparationTime")}}),c.a.createElement(C,{label:"BN Preparation Time",value:n.bnPreparationTime,placeHolder:"\u09e7\u09eb \u09ae\u09bf\u09a8\u09bf\u099f",name:"bnPreparationTime",isError:l.bnPreparationTime&&i.bnPreparationTime||!o&&s.error.error.bnPreparationTime,errorString:l.bnPreparationTime&&i.bnPreparationTime||!o&&s.error.error.bnPreparationTime,onChange:function(e){a(e),u("bnPreparationTime")}}),c.a.createElement(C,{label:"Cooking Time",placeHolder:"30 min",value:n.cookingTime,name:"cookingTime",isError:l.cookingTime&&i.cookingTime||!o&&s.error.error.cookingTime,errorString:l.cookingTime&&i.cookingTime||!o&&s.error.error.cookingTime,onChange:function(e){a(e),u("cookingTime")}}),c.a.createElement(C,{label:"BN Cooking Time",placeHolder:"\u09e9\u09e6 \u09ae\u09bf\u09a8\u09bf\u099f",value:n.bnCookingTime,name:"bnCookingTime",isError:l.bnCookingTime&&i.bnCookingTime||!o&&s.error.error.bnCookingTime,errorString:l.bnCookingTime&&i.bnCookingTime||!o&&s.error.error.bnCookingTime,onChange:function(e){a(e),u("bnCookingTime")}}),c.a.createElement(C,{label:"Serving Size",value:n.servingSize,name:"servingSize",isError:l.servingSize&&i.servingSize||!o&&s.error.error.servingSize,errorString:l.servingSize&&i.servingSize||!o&&s.error.error.servingSize,onChange:function(e){a(e),u("servingSize")}}),c.a.createElement(C,{label:"BN Serving Size",value:n.bnServingSize,name:"bnServingSize",isError:l.bnServingSize&&i.bnServingSize||!o&&s.error.error.bnServingSize,errorString:l.bnServingSize&&i.bnServingSize||!o&&s.error.error.bnServingSize,onChange:function(e){a(e),u("bnServingSize")}}),c.a.createElement(C,{label:"URL",value:n.url,name:"url",isError:l.url&&i.url||!o&&s.error.error.url,errorString:l.url&&i.url||!o&&s.error.error.url,onChange:function(e){a(e),u("url")}}),c.a.createElement("h3",{className:"inputFieldLabel"},"Body"),c.a.createElement("div",{style:{width:"100%",maxWidth:"100%"}},c.a.createElement(ja.a,{editor:Na.a,data:Ee,onInit:function(e){console.log("Editor is ready to use!",e)},onChange:function(e,t){var a=t.getData();ve(a)},onBlur:function(e,t){console.log("Blur.",t)},onFocus:function(e,t){console.log("Focus.",t)}})),c.a.createElement("div",{style:{marginTop:"15px"}}),c.a.createElement("h3",{className:"inputFieldLabel"},"BN Body"),c.a.createElement("div",{style:{width:"100%",maxWidth:"100%"}},c.a.createElement(ja.a,{editor:Na.a,data:je,onInit:function(e){console.log("Editor is ready to use!",e)},onChange:function(e,t){var a=t.getData();Ce(a)},onBlur:function(e,t){console.log("Blur.",t)},onFocus:function(e,t){console.log("Focus.",t)}})),c.a.createElement("div",{style:{marginBottom:"15px"}}))),c.a.createElement("div",{className:"addProductGridContainer__price"},c.a.createElement("div",{className:"addProductGridContainer__item-header"},c.a.createElement("h3",null,"Products"),c.a.createElement("div",{className:te&&te.length>0?"checkicon-active":"checkicon"},c.a.createElement(De.a,null))),c.a.createElement("div",{className:"addProductGridContainer__item-body"},c.a.createElement("h3",{className:"inputFieldLabel"},"Products"),c.a.createElement(zs,{setProductIds:Se,productIds:ke}),c.a.createElement("div",{style:{marginTop:"15px"}}),c.a.createElement("h3",{className:"inputFieldLabel"},"Selcted Products"),c.a.createElement(Hs,{productList:_e,setProductList:Ie}))),c.a.createElement("div",{className:"addProductGridContainer__image"},c.a.createElement("div",{className:"addProductGridContainer__item-header"},c.a.createElement("h3",null,"Image"),c.a.createElement(pt.a,{placement:"left",title:"Click on the image to select cover image, By default 1st image is selected as cover"},c.a.createElement("a",{href:"###"},c.a.createElement(Ct.a,null)))),c.a.createElement("div",{style:{padding:"10px"},className:"aboutToUploadImagesContainer"},h.isLoading&&c.a.createElement("div",{style:{padding:"20px 0"}},c.a.createElement(Re.a,null)),h.done&&c.a.createElement(c.a.Fragment,null,w&&w.length>0&&w.map((function(e,t){return c.a.createElement("div",{className:"aboutToUploadImagesContainer__item"},c.a.createElement("div",{className:"aboutToUploadImagesContainer__item-imgContainer",onClick:function(){oe(e.id),nt(e)}},c.a.createElement("img",{src:e.cover,alt:e.alt})),c.a.createElement("span",{onClick:function(){!function(e){var t=w&&w.filter((function(t){return t.id!==e}));T(t)}(e.id),at(e.id)},className:"aboutToUploadImagesContainer__item-remove"},c.a.createElement(Nt.a,null)),(ie===e.id||!ie&&0===t)&&c.a.createElement("span",{className:"aboutToUploadImagesContainer__item-cover"},c.a.createElement(xt.a,null)))})),c.a.createElement(pt.a,{title:"Attach images"},c.a.createElement("div",{onClick:function(){x(!0),V(!0),R(!1)},className:"aboutToUploadImagesContainer__uploadItem"},c.a.createElement(kt.a,null),c.a.createElement("span",{className:"aboutToUploadImagesContainer__uploadItem-plus"},c.a.createElement(ht.a,null))))))),c.a.createElement("div",{className:"addProductGridContainer__image"},c.a.createElement("div",{className:"addProductGridContainer__item-header"},c.a.createElement("h3",null,"Meta Data"),c.a.createElement(pt.a,{placement:"left",title:"Meta data will be used to make the user's easy and for search engine optimization."},c.a.createElement("a",{href:"###"},c.a.createElement(Ct.a,null)))),c.a.createElement("div",{className:"addProductGridContainer__item-body"},c.a.createElement(C,{label:"Meta title",value:n.metaTitle,placeHolder:"...",name:"metaTitle",isError:l.metaTitle&&i.metaTitle||!o&&s.error.error.metaTitle,errorString:l.metaTitle&&i.metaTitle||!o&&s.error.error.metaTitle,onChange:function(e){a(e),u("metaTitle")}}),c.a.createElement(C,{label:"BN Meta title",value:n.bnMetaTitle,placeHolder:"...",name:"bnMetaTitle",isError:l.bnMetaTitle&&i.bnMetaTitle||!o&&s.error.error.bnMetaTitle,errorString:l.bnMetaTitle&&i.bnMetaTitle||!o&&s.error.error.bnMetaTitle,onChange:function(e){a(e),u("bnMetaTitle")}}),c.a.createElement(wt,{label:"Meta description",value:n.metaDescription,placeholder:"meta...",name:"metaDescription",isError:l.metaDescription&&i.metaDescription||!o&&s.error.error.metaDescription,errorString:l.metaDescription&&i.metaDescription||!o&&s.error.error.metaDescription,onChange:function(e){a(e),u("metaDescription")}}),c.a.createElement(wt,{label:"BN Meta Description",value:n.bnMetaDescription,placeholder:"\u098f\u0987\u09df \u09ae\u09c7\u099f...",name:"bnMetaDescription",isError:l.bnMetaDescription&&i.bnMetaDescription||!o&&s.error.error.bnMetaDescription,errorString:l.bnMetaDescription&&i.bnMetaDescription||!o&&s.error.error.bnMetaDescription,onChange:function(e){a(e),u("bnMetaDescription")}}),c.a.createElement("h3",{className:"inputFieldLabel"},"Meta Tags"),c.a.createElement(Wt,{setTags:Fe,tags:Me}),c.a.createElement("div",{style:{marginTop:"15px"}}),c.a.createElement("h3",{className:"inputFieldLabel"},"BN Meta Tags"),c.a.createElement(Wt,{setTags:Ue,tags:Ve})))),c.a.createElement("div",{className:"addProductGridContainer__right"},c.a.createElement("div",{className:"addProductGridContainer__category"},c.a.createElement("div",{className:"addProductGridContainer-rightItemContainer"},c.a.createElement("div",{className:"addProductGridContainer-rightItemContainer-header"},c.a.createElement("h3",null,"Recipe Categories"),c.a.createElement(pt.a,{color:"red",visible:s.error.error.category&&!(H.length>0),placement:"left",title:"Select at least one category"},c.a.createElement("div",{className:H.length>0||s.error.error.category?s.error.error.category?"checkicon-error":"checkicon-active":"checkicon"},c.a.createElement(De.a,null)))),c.a.createElement("div",{className:"addProductGridContainer-rightItemContainer-body"},c.a.createElement(Gs,{setCategoryOptions:ue,categoryOptions:se,setcategoryIds:W})))),c.a.createElement("div",{className:"addProductGridContainer__tag"},c.a.createElement("div",{className:"addProductGridContainer-rightItemContainer"},c.a.createElement("div",{className:"addProductGridContainer-rightItemContainer-header"},c.a.createElement("h3",null,"Recipe Tags")),c.a.createElement("div",{className:"addProductGridContainer-rightItemContainer-body"},c.a.createElement(Vs,{setSelectedTags:be,selectedTags:pe,setTagIds:J})))))),c.a.createElement("div",{style:{padding:"15px",display:"flex",justifyContent:"flex-end"}},c.a.createElement(E.a,{style:{color:"#555",marginRight:"10px"},className:"btnPrimaryClassNameoutline-cancle",onClick:function(){return t(!1)},type:"default"},"Cancel"),c.a.createElement(E.a,{className:"btnPrimaryClassNameoutline",onClick:r,loading:s.isLoading,type:"link",icon:c.a.createElement(xt.a,null)},"Update")),c.a.createElement(Vt,{setvisible:x,visible:N,setmyImages:T,myImages:w,setmyThumbnailImage:I,isModalOpenForThumbnail:M,isModalOpenForImages:B}))}))},Ks=function(e){var t=e.addNewCategoryVisible,a=e.setAddNewCategoryVisible,n=e.productList,r=e.setProductList,i=e.productDetailData;return c.a.createElement(c.a.Fragment,null,c.a.createElement(Ot.a,{style:{top:"40px"},footer:!1,bodyStyle:{margin:0,padding:0},width:"70vw",title:"Edit Recipe",visible:t,onCancel:function(){a(!1)},destroyOnClose:!0,okText:"Update",okButtonProps:{htmlType:"submit"}},c.a.createElement(Ys,{addNewCategoryVisible:t,setAddNewCategoryVisible:n,bundleList:n,setBundleList:r,productDetailData:i})))},Js=(_t.a.TabPane,y.a().shape({name:y.c().label("Name").required("Name is required").min(3,"Name must have at least 3 characters")})),Qs={name:"",url:"",preparationTime:"",servingSize:"",cookingTime:"",body:"",bnName:"",bnBody:"",bnPreparationTime:"",bnServingSize:"",bnCookingTime:"",metaTitle:"",bnMetaTitle:"",metaDescription:"",bnMetaDescription:"",metaTags:"",bnMetaTags:""},Xs=function(e){var t=e.addNewCategoryVisible,a=e.setAddNewCategoryVisible,n=e.productList,r=e.setProductList,i=U({},"addPost"),l=Object(g.a)(i,2),s=l[0],u=l[1],m=Object(o.useState)(!1),d=Object(g.a)(m,2),h=d[0],E=d[1],y=Object(o.useState)(!1),O=Object(g.a)(y,2),j=O[0],N=O[1],x=Object(o.useState)(!1),k=Object(g.a)(x,2),S=(k[0],k[1]),w=Object(o.useState)(!1),T=Object(g.a)(w,2),_=T[0],D=T[1],I=Object(o.useState)(!1),L=Object(g.a)(I,2),P=L[0],M=L[1],R=Object(o.useState)([]),F=Object(g.a)(R,2),A=F[0],B=F[1],V=Object(o.useState)([]),G=Object(g.a)(V,2),z=G[0],H=G[1],W=Object(o.useState)(""),q=Object(g.a)(W,2),Y=q[0],K=q[1],J=Object(o.useState)([]),Q=Object(g.a)(J,2),X=Q[0],Z=Q[1],$=Object(o.useState)(""),ee=Object(g.a)($,2),te=ee[0],ae=ee[1],ne=Object(o.useState)([]),re=Object(g.a)(ne,2),ie=re[0],oe=re[1],ce=Object(o.useState)([]),le=Object(g.a)(ce,2),se=le[0],ue=le[1],me=Object(o.useState)(""),de=Object(g.a)(me,2),pe=(de[0],de[1],Object(o.useState)("")),be=Object(g.a)(pe,2),ge=(be[0],be[1],Object(o.useState)("")),he=Object(g.a)(ge,2),Ee=(he[0],he[1],Object(o.useState)("")),ve=Object(g.a)(Ee,2),ye=ve[0],Oe=ve[1],je=Object(o.useState)(""),Ce=Object(g.a)(je,2),Ne=Ce[0],xe=Ce[1],ke=Object(o.useState)([]),Se=Object(g.a)(ke,2),we=Se[0],Te=Se[1],_e=Object(o.useState)([]),Ie=Object(g.a)(_e,2),Le=Ie[0],Pe=Ie[1],Me=Object(o.useState)("\u098f\u0987 \u09aa\u09a3\u09cd\u09af..."),Re=Object(g.a)(Me,2),Fe=(Re[0],Re[1],Object(o.useState)([])),Ae=Object(g.a)(Fe,2),Be=Ae[0],Ve=Ae[1],Ue=Object(o.useState)([]),Ge=Object(g.a)(Ue,2),ze=Ge[0],He=Ge[1],We=Object(o.useState)({regular:null,offer:null}),qe=Object(g.a)(We,2),Ye=(qe[0],qe[1],function(){var e=Object(b.a)(p.a.mark((function e(t,i){var o,c,l;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=j?j.map((function(e){return e.id})):[],c=Le.length>0?Le.map((function(e){return{_id:e._id,variation:e.variation,quantity:e.quantity}})):[],e.next=4,u({body:{name:t.name.trim(),category:A,tags:z,brand:[Y],image:o,body:ye,requiredProducts:c,preparationTime:t.preparationTime,servingSize:t.servingSize,cookingTime:t.cookingTime,metaTitle:t.metaTitle,metaDescription:t.metaDescription,metaTags:Be&&Be.length>0?Be.join(","):"",bn:{metaTitle:t.bnMetaTitle,metaDescription:t.bnMetaDescription,metaTags:ze&&ze.length>0?ze.join(","):"",name:t.bnName.trim(),preparationTime:t.bnPreparationTime,body:Ne,servingSize:t.bnServingSize,cookingTime:t.bnCookingTime}}});case 4:(l=e.sent)&&"ok"===l.status&&(Sa("Recipe Created"),r([Object(f.a)({},l,{id:l._id||"",key:l._id||""})].concat(Object(fe.a)(n))),N([]),ae(""),Z([]),H([]),ue([]),K(""),B([]),oe([]),xe(""),Oe(""),Ve([]),He([]),Te([]),Pe([]),i.resetForm(),a(!1)),i.setSubmitting(!1);case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}());Object(o.useEffect)((function(){if(!s.isLoading){var e=s.error;if(e.isError&&Object.keys(e.error).length>0)(Object.values(e.error).length>0?Object.values(e.error):[]).forEach((function(e,t){if("string"===typeof e)wa(e);else if("object"===typeof e){if(e&&Object.keys(e).length>0)Object.values(e).forEach((function(e){wa(e)}))}}))}}),[s]),Object(o.useEffect)((function(){if(we.length>0){if(we.length>Le.length){var e=we[we.length-1].pricing.length>0&&we[we.length-1].pricing[0]._id;console.log("variation",e),Pe([].concat(Object(fe.a)(Le),[Object(f.a)({},we[we.length-1],{_id:we[we.length-1].id,variation:e,quantity:1})]))}else if(we.length<Le.length){console.log("productIds",we),console.log("productList",Le);var t=Le.filter((function(e){var t=!1;return we.forEach((function(a){a.id===e._id&&(t=!0)})),t}));Pe(t)}}else Pe([])}),[we]);var Ke=function(e){a(!1)};return c.a.createElement(v.a,{onSubmit:function(e,t){return Ye(e,t)},validationSchema:Js,validateOnBlur:!1,enableReinitialize:!0,initialValues:Object(f.a)({},Qs)},(function(e){var a=e.handleChange,n=e.values,r=e.handleSubmit,i=e.errors,o=(e.isValid,e.isSubmitting),l=e.touched,u=(e.handleBlur,e.setFieldTouched);e.handleReset;return c.a.createElement(c.a.Fragment,null,c.a.createElement(Ot.a,{style:{top:"40px"},bodyStyle:{margin:0,padding:0},width:"70vw",title:"Add New Recipe",visible:t,onOk:function(e){return r(e)},onCancel:Ke,okText:"Create",okButtonProps:{loading:o,htmlType:"submit"}},c.a.createElement("section",{className:"addProductGridContainer"},c.a.createElement("div",{className:"addProductGridContainer__left"},c.a.createElement("div",{className:"addProductGridContainer__name"},c.a.createElement("div",{className:"addProductGridContainer__item-header"},c.a.createElement("h3",null,"Recipe Information"),c.a.createElement("div",{className:n.name&&n.name.length>2?"checkicon-active":"checkicon"},c.a.createElement(De.a,null))),c.a.createElement("div",{className:"addProductGridContainer__item-body"},c.a.createElement(C,{label:"Name",placeHolder:"Rafti oxy",value:n.name,name:"name",isError:l.name&&i.name||!o&&s.error.error.name,errorString:l.name&&i.name||!o&&s.error.error.name,onChange:function(e){a(e),u("name")}}),c.a.createElement(C,{label:"BN Name",value:n.bnName,placeHolder:"\u09b0\u09be\u09ab\u09a4\u09bf \u0985\u0995\u09cd\u09b8",name:"bnName",isError:l.bnName&&i.bnName||!o&&s.error.error.bnName,errorString:l.bnName&&i.bnName||!o&&s.error.error.bnName,onChange:function(e){a(e),u("bnName")}}),c.a.createElement(C,{label:"Preparation Time",value:n.preparationTime,placeHolder:"15 min",name:"preparationTime",isError:l.preparationTime&&i.preparationTime||!o&&s.error.error.preparationTime,errorString:l.preparationTime&&i.preparationTime||!o&&s.error.error.preparationTime,onChange:function(e){a(e),u("preparationTime")}}),c.a.createElement(C,{label:"BN Preparation Time",value:n.bnPreparationTime,placeHolder:"\u09e7\u09eb \u09ae\u09bf\u09a8\u09bf\u099f",name:"bnPreparationTime",isError:l.bnPreparationTime&&i.bnPreparationTime||!o&&s.error.error.bnPreparationTime,errorString:l.bnPreparationTime&&i.bnPreparationTime||!o&&s.error.error.bnPreparationTime,onChange:function(e){a(e),u("bnPreparationTime")}}),c.a.createElement(C,{label:"Cooking Time",placeHolder:"30 min",value:n.cookingTime,name:"cookingTime",isError:l.cookingTime&&i.cookingTime||!o&&s.error.error.cookingTime,errorString:l.cookingTime&&i.cookingTime||!o&&s.error.error.cookingTime,onChange:function(e){a(e),u("cookingTime")}}),c.a.createElement(C,{label:"BN Cooking Time",placeHolder:"\u09e9\u09e6 \u09ae\u09bf\u09a8\u09bf\u099f",value:n.bnCookingTime,name:"bnCookingTime",isError:l.bnCookingTime&&i.bnCookingTime||!o&&s.error.error.bnCookingTime,errorString:l.bnCookingTime&&i.bnCookingTime||!o&&s.error.error.bnCookingTime,onChange:function(e){a(e),u("bnCookingTime")}}),c.a.createElement(C,{label:"Serving Size",value:n.servingSize,name:"servingSize",isError:l.servingSize&&i.servingSize||!o&&s.error.error.servingSize,errorString:l.servingSize&&i.servingSize||!o&&s.error.error.servingSize,onChange:function(e){a(e),u("servingSize")}}),c.a.createElement(C,{label:"BN Serving Size",value:n.bnServingSize,name:"bnServingSize",isError:l.bnServingSize&&i.bnServingSize||!o&&s.error.error.bnServingSize,errorString:l.bnServingSize&&i.bnServingSize||!o&&s.error.error.bnServingSize,onChange:function(e){a(e),u("bnServingSize")}}),c.a.createElement(C,{label:"URL",value:n.url,name:"url",isError:l.url&&i.url||!o&&s.error.error.url,errorString:l.url&&i.url||!o&&s.error.error.url,onChange:function(e){a(e),u("url")}}),c.a.createElement("h3",{className:"inputFieldLabel"},"Body"),c.a.createElement("div",{style:{width:"100%",maxWidth:"100%"}},c.a.createElement(ja.a,{editor:Na.a,data:ye,onInit:function(e){console.log("Editor is ready to use!",e)},onChange:function(e,t){var a=t.getData();Oe(a)},onBlur:function(e,t){console.log("Blur.",t)},onFocus:function(e,t){console.log("Focus.",t)}})),c.a.createElement("div",{style:{marginTop:"15px"}}),c.a.createElement("h3",{className:"inputFieldLabel"},"BN Body"),c.a.createElement("div",{style:{width:"100%",maxWidth:"100%"}},c.a.createElement(ja.a,{editor:Na.a,data:Ne,onInit:function(e){console.log("Editor is ready to use!",e)},onChange:function(e,t){var a=t.getData();xe(a)},onBlur:function(e,t){console.log("Blur.",t)},onFocus:function(e,t){console.log("Focus.",t)}})),c.a.createElement("div",{style:{marginBottom:"15px"}}))),c.a.createElement("div",{className:"addProductGridContainer__price"},c.a.createElement("div",{className:"addProductGridContainer__item-header"},c.a.createElement("h3",null,"Products"),c.a.createElement("div",{className:X&&X.length>0?"checkicon-active":"checkicon"},c.a.createElement(De.a,null))),c.a.createElement("div",{className:"addProductGridContainer__item-body"},c.a.createElement("h3",{className:"inputFieldLabel"},"Products"),c.a.createElement(zs,{setProductIds:Te,productIds:we}),c.a.createElement("div",{style:{marginTop:"15px"}}),c.a.createElement("h3",{className:"inputFieldLabel"},"Selcted Products"),c.a.createElement(Hs,{productList:Le,setProductList:Pe}))),c.a.createElement("div",{className:"addProductGridContainer__image"},c.a.createElement("div",{className:"addProductGridContainer__item-header"},c.a.createElement("h3",null,"Image"),c.a.createElement(pt.a,{placement:"left",title:"Click on the image to select cover image, By default 1st image is selected as cover"},c.a.createElement("a",{href:"###"},c.a.createElement(Ct.a,null)))),c.a.createElement("div",{className:"addProductGridContainer__item-body"},c.a.createElement("div",{className:"aboutToUploadImagesContainer"},j&&j.length>0&&j.map((function(e,t){return c.a.createElement("div",{className:"aboutToUploadImagesContainer__item"},c.a.createElement("div",{className:"aboutToUploadImagesContainer__item-imgContainer",onClick:function(){return ae(e.id)}},c.a.createElement("img",{src:e.cover,alt:e.alt})),c.a.createElement("span",{onClick:function(){return function(e){var t=j&&j.filter((function(t){return t.id!==e}));N(t)}(e.id)},className:"aboutToUploadImagesContainer__item-remove"},c.a.createElement(Nt.a,null)),(te===e.id||!te&&0===t)&&c.a.createElement("span",{className:"aboutToUploadImagesContainer__item-cover"},c.a.createElement(xt.a,null)))})),c.a.createElement(pt.a,{title:"Attach images"},c.a.createElement("div",{onClick:function(){E(!0),M(!0),D(!1)},className:"aboutToUploadImagesContainer__uploadItem"},c.a.createElement(kt.a,null),c.a.createElement("span",{className:"aboutToUploadImagesContainer__uploadItem-plus"},c.a.createElement(ht.a,null))))))),c.a.createElement("div",{className:"addProductGridContainer__image"},c.a.createElement("div",{className:"addProductGridContainer__item-header"},c.a.createElement("h3",null,"Meta Data"),c.a.createElement(pt.a,{placement:"left",title:"Meta data will be used to make the user's easy and for search engine optimization."},c.a.createElement("a",{href:"###"},c.a.createElement(Ct.a,null)))),c.a.createElement("div",{className:"addProductGridContainer__item-body"},c.a.createElement(C,{label:"Meta title",value:n.metaTitle,placeHolder:"...",name:"metaTitle",isError:l.metaTitle&&i.metaTitle||!o&&s.error.error.metaTitle,errorString:l.metaTitle&&i.metaTitle||!o&&s.error.error.metaTitle,onChange:function(e){a(e),u("metaTitle")}}),c.a.createElement(C,{label:"BN Meta title",value:n.bnMetaTitle,placeHolder:"...",name:"bnMetaTitle",isError:l.bnMetaTitle&&i.bnMetaTitle||!o&&s.error.error.bnMetaTitle,errorString:l.bnMetaTitle&&i.bnMetaTitle||!o&&s.error.error.bnMetaTitle,onChange:function(e){a(e),u("bnMetaTitle")}}),c.a.createElement(wt,{label:"Meta description",value:n.metaDescription,placeholder:"meta...",name:"metaDescription",isError:l.metaDescription&&i.metaDescription||!o&&s.error.error.metaDescription,errorString:l.metaDescription&&i.metaDescription||!o&&s.error.error.metaDescription,onChange:function(e){a(e),u("metaDescription")}}),c.a.createElement(wt,{label:"BN Meta Description",value:n.bnMetaDescription,placeholder:"\u098f\u0987\u09df \u09ae\u09c7\u099f...",name:"bnMetaDescription",isError:l.bnMetaDescription&&i.bnMetaDescription||!o&&s.error.error.bnMetaDescription,errorString:l.bnMetaDescription&&i.bnMetaDescription||!o&&s.error.error.bnMetaDescription,onChange:function(e){a(e),u("bnMetaDescription")}}),c.a.createElement("h3",{className:"inputFieldLabel"},"Meta Tags"),c.a.createElement(Wt,{setTags:Ve,tags:Be}),c.a.createElement("div",{style:{marginTop:"15px"}}),c.a.createElement("h3",{className:"inputFieldLabel"},"BN Meta Tags"),c.a.createElement(Wt,{setTags:He,tags:ze})))),c.a.createElement("div",{className:"addProductGridContainer__right"},c.a.createElement("div",{className:"addProductGridContainer__category"},c.a.createElement("div",{className:"addProductGridContainer-rightItemContainer"},c.a.createElement("div",{className:"addProductGridContainer-rightItemContainer-header"},c.a.createElement("h3",null,"Recipe Categories"),c.a.createElement(pt.a,{color:"red",visible:s.error.error.category&&!(A.length>0),placement:"left",title:"Select at least one category"},c.a.createElement("div",{className:A.length>0||s.error.error.category?s.error.error.category?"checkicon-error":"checkicon-active":"checkicon"},c.a.createElement(De.a,null)))),c.a.createElement("div",{className:"addProductGridContainer-rightItemContainer-body"},c.a.createElement(Gs,{setCategoryOptions:oe,categoryOptions:ie,setcategoryIds:B})))),c.a.createElement("div",{className:"addProductGridContainer__tag"},c.a.createElement("div",{className:"addProductGridContainer-rightItemContainer"},c.a.createElement("div",{className:"addProductGridContainer-rightItemContainer-header"},c.a.createElement("h3",null,"Recipe Tags")),c.a.createElement("div",{className:"addProductGridContainer-rightItemContainer-body"},c.a.createElement(Vs,{setSelectedTags:ue,selectedTags:se,setTagIds:H}))))))),c.a.createElement(Vt,{setvisible:E,visible:h,setmyImages:N,myImages:j,setmyThumbnailImage:S,isModalOpenForThumbnail:_,isModalOpenForImages:P}))}))},Zs=(y.a().shape({name:y.c().label("Name").required("Name is required").min(3,"Name must have at least 3 characters")}),ot.a.Column),$s=(ot.a.ColumnGroup,O.a.Search),eu=function(e){var t=e.data,a=e.setTagList,n=Object(o.useState)(!1),r=Object(g.a)(n,2),i=r[0],l=r[1],s=Object(o.useState)(!1),u=Object(g.a)(s,2),m=u[0],d=u[1],f=U({},"deletePost"),h=Object(g.a)(f,2),E=(h[0],h[1]),v=Object(_e.g)(),y=function(){var e=Object(b.a)(p.a.mark((function e(n){var r,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E({urlOptions:{placeHolders:{id:n}}});case 2:(r=e.sent)&&"ok"===r.status&&(o="Deleted Recipe",Me.a.success({message:o||"Recipe Created",description:"",icon:c.a.createElement(De.a,{style:{color:"rgba(0, 128, 0, 0.493)"}})}),i=t.filter((function(e){return e.id!==n})),a(i));case 4:case"end":return e.stop()}var o}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(e){return e.cover?e.cover:""};return c.a.createElement(c.a.Fragment,null,c.a.createElement(ot.a,{size:"small",dataSource:t},c.a.createElement(Zs,{title:"",dataIndex:"cover",key:"id",width:"80px",className:"classnameofthecolumn",render:function(e,t){return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"listCoverImage",onClick:function(){v.push("/admin/posts/".concat(t.id)),d(t)}},c.a.createElement("img",{src:O(t),alt:""})))}}),c.a.createElement(Zs,{title:"Name",dataIndex:"name",key:"id",className:"classnameofthecolumn",render:function(e,t){return c.a.createElement(c.a.Fragment,null,c.a.createElement("h4",{onClick:function(){v.push("/admin/posts/".concat(t.id)),d(t)},style:{fontWeight:400,color:"#555",cursor:"pointer"}},e))}}),c.a.createElement(Zs,{title:"Preparation Time",dataIndex:"preparationTime",key:"id",className:"classnameofthecolumn"}),c.a.createElement(Zs,{title:"Cooking Time",dataIndex:"cookingTime",key:"id",className:"classnameofthecolumn"}),c.a.createElement(Zs,{title:"People",dataIndex:"servingSize",key:"id",className:"classnameofthecolumn"}),c.a.createElement(Zs,{className:"classnameofthecolumn",title:"",key:"action",align:"right",render:function(e,t){return c.a.createElement(dt.a,{size:"middle"},c.a.createElement("a",{href:"##"},c.a.createElement(pt.a,{placement:"top",title:"Edit recipe"},c.a.createElement("span",{className:"iconSize",onClick:function(){l(!0),d(t)}},c.a.createElement(gt.a,null)))),c.a.createElement(bt.a,{onConfirm:function(){return y(t.id)},title:"Are you sure\uff1f",okText:"Yes",cancelText:"No"},c.a.createElement("span",{className:"iconSize iconSize-danger"},c.a.createElement(ft.a,null))))}})),m&&c.a.createElement(Ks,{productList:t,setProductList:a,setAddNewCategoryVisible:l,addNewCategoryVisible:i,productDetailData:m}))},tu=function(e){Object(h.a)(e);var t=Object(o.useState)([]),a=Object(g.a)(t,2),n=a[0],r=a[1],i=U({},"postList"),l=Object(g.a)(i,2),s=l[0],u=l[1];console.log("postListData",s),Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u({urlOptions:{params:{sortItem:"added",sortOrderValue:"-1"}}});case 2:t=e.sent,r(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var m=Object(o.useState)(!1),d=Object(g.a)(m,2),f=d[0],v=d[1];return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"categoryListContainer"},c.a.createElement("div",{className:"categoryListContainer__header"},c.a.createElement("div",{className:"categoryListContainer__header-searchBar-tag"},c.a.createElement("h2",{className:"categoryListContainer__header-title"},"Recipes"),c.a.createElement($s,{enterButton:!1,className:"searchbarClassName",placeholder:"search recipes..",onChange:function(e){return function(e){if(s.data.length>0){var t=s.data.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())}));r(t)}}(e.target.value)}})),c.a.createElement(E.a,{className:"btnPrimaryClassNameoutline",icon:c.a.createElement(ht.a,null),onClick:function(){return v(!0)}},"Add New")),c.a.createElement("div",{className:"categoryListContainer__categoryList"},s.done&&n.length>0&&c.a.createElement(eu,{setTagList:r,data:n}),s.isLoading&&c.a.createElement(ta,null),s.done&&!(n.length>0)&&c.a.createElement("div",{style:{marginTop:"200px"}},c.a.createElement(we.a,{description:"No Recipe found",image:we.a.PRESENTED_IMAGE_SIMPLE})))),c.a.createElement(Xs,{productList:n,setProductList:r,addNewCategoryVisible:f,setAddNewCategoryVisible:v}))},au=(_t.a.TabPane,y.a().shape({name:y.c().label("Name").required("Name is required").min(3,"Name must have at least 3 characters")})),nu={name:"",url:"",preparationTime:"",servingSize:"",cookingTime:"",body:"",bnName:"",bnBody:"",bnPreparationTime:"",bnServingSize:"",bnCookingTime:"",metaTitle:"",bnMetaTitle:"",metaDescription:"",bnMetaDescription:"",metaTags:"",bnMetaTags:""},ru=function(e){e.addNewCategoryVisible;var t=e.setAddNewCategoryVisible,a=e.productDetailData,n=e.setPostDetailData,r=U({},"updatePost"),i=Object(g.a)(r,2),l=i[0],s=i[1],u=U({},"postDetail"),m=Object(g.a)(u,2),d=m[0],h=m[1],y=Object(o.useState)(!1),O=Object(g.a)(y,2),j=O[0],N=O[1],x=Object(o.useState)(!1),k=Object(g.a)(x,2),S=k[0],w=k[1],T=Object(o.useState)(!1),_=Object(g.a)(T,2),D=(_[0],_[1]),I=Object(o.useState)(!1),L=Object(g.a)(I,2),P=L[0],M=L[1],R=Object(o.useState)(!1),F=Object(g.a)(R,2),A=F[0],B=F[1],V=Object(o.useState)([]),G=Object(g.a)(V,2),z=G[0],H=G[1],W=Object(o.useState)([]),q=Object(g.a)(W,2),Y=q[0],K=q[1],J=Object(o.useState)(""),Q=Object(g.a)(J,2),X=(Q[0],Q[1]),Z=Object(o.useState)([]),$=Object(g.a)(Z,2),ee=$[0],te=$[1],ae=Object(o.useState)(""),ne=Object(g.a)(ae,2),re=ne[0],ie=ne[1],oe=Object(o.useState)([]),ce=Object(g.a)(oe,2),le=ce[0],se=ce[1],ue=Object(o.useState)([]),me=Object(g.a)(ue,2),de=me[0],pe=me[1],be=Object(o.useState)(""),ge=Object(g.a)(be,2),he=ge[0],Ee=ge[1],ve=Object(o.useState)(""),ye=Object(g.a)(ve,2),Oe=ye[0],je=ye[1],Ce=Object(o.useState)([]),Ne=Object(g.a)(Ce,2),xe=Ne[0],ke=Ne[1],Se=Object(o.useState)([]),we=Object(g.a)(Se,2),Te=we[0],_e=we[1],Ie=Object(o.useState)([]),Le=Object(g.a)(Ie,2),Pe=Le[0],Me=Le[1],Fe=Object(o.useState)([]),Ae=Object(g.a)(Fe,2),Be=Ae[0],Ve=Ae[1],Ue=U({},"attachImageToItemMultiple"),Ge=Object(g.a)(Ue,2),ze=(Ge[0],Ge[1]),He=U({},"attachImageToItemSingle"),We=Object(g.a)(He,2),qe=(We[0],We[1]),Ye=U({},"detachImageFromItemMultiple"),Ke=Object(g.a)(Ye,2),Je=(Ke[0],Ke[1],U({},"detachImageFromItemSingle")),Qe=Object(g.a)(Je,2),Xe=(Qe[0],Qe[1]),Ze=U({},"setImageAsThumbnailToItem"),$e=Object(g.a)(Ze,2),et=($e[0],$e[1]);console.log("myPostState",d),Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h({urlOptions:{placeHolders:{id:a.id},params:{imageValue:1,tagsOne:"1",categoryOne:"1"}}});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[a]),Object(o.useEffect)((function(){if(d.data&&Object.keys(d.data).length>0){var e=d.data.image,t=[];if(e&&e.length>0&&(t=e),d.data.cover&&d.data.cover.id)e.find((function(e){return e.id===d.data.cover.id}))||(t=[d.data.cover].concat(Object(fe.a)(t))),ie(d.data.cover.id);w(t)}}),[d.data]),Object(o.useEffect)((function(){S&&S[0]&&S.length<2&&re!==S[0].id&&(ie(S[0].id),at(S[0]))}),[S]),console.log("myLoadImages",S);var tt=function(){var e=Object(b.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xe({urlOptions:{placeHolders:{imageId:t,collection:"post",itemId:a.id}}});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),at=function(){var e=Object(b.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,et({urlOptions:{placeHolders:{imageId:t.id,collection:"post",itemId:a.id}}});case 2:(n=e.sent)&&"ok"===n.status||wa("Couldn't set as thumbnail, Something went wrong");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(o.useEffect)((function(){if(d.done&&d.data&&Object.keys(d.data).length>0){console.log("5555",d);var e=d.data;if(e&&e.brand?X(e.brand.id):X(""),e&&e.tags&&e.tags.length>0){var t=e.tags.map((function(e){return e.name})),a=e.tags.map((function(e){return e._id}));console.log("tags55----",t,a),pe(t),K(a)}else K([]),pe([]);if(e&&e.category&&e.category.length>0){var n=e.category;se(n)}else se([]);e&&e.body?Ee(e.body):Ee(""),e&&e.bn&&e.bn.body?je(e.bn.body):je("")}}),[d]),console.log("postSelectedTagsIds",de),console.log("TagsIds",Y),Object(o.useEffect)((function(){if(d.done&&d.data&&Object.keys(d.data).length>0&&d.data.requiredProducts.length>0){var e=d.data.requiredProducts.map((function(e){return e}));ke(e);var t=d.data.requiredProducts.map((function(e){return Object(f.a)({},e,{_id:e._id,variation:e.variation,quantity:e.quantity})}));_e(t)}}),[d]),console.log("couponDetialQuickEdit",d),Object(o.useEffect)((function(){if(xe.length>0){if(xe.length>Te.length){var e=xe[xe.length-1].pricing.length>0&&xe[xe.length-1].pricing[0]._id;console.log("variation",e),_e([].concat(Object(fe.a)(Te),[Object(f.a)({},xe[xe.length-1],{_id:xe[xe.length-1].id,variation:e,quantity:1})]))}else if(xe.length<Te.length){console.log("productIds",xe),console.log("productList",Te);var t=Te.filter((function(e){var t=!1;return xe.forEach((function(a){a.id===e._id&&(t=!0)})),t}));_e(t)}}else _e([])}),[xe]);var nt=function(){var e=Object(b.a)(p.a.mark((function e(r,i){var o,c,l,u;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=S&&S[0]?S.map((function(e){return e.id})):[],c=Te.length>0?Te.map((function(e){return{_id:e._id,variation:e.variation,quantity:e.quantity}})):[],!(a&&Object.keys(a).length>0)){e.next=13;break}if(l=[],o&&o.length>0&&o.forEach((function(e){a&&a.image&&(a.image.includes(e)||l.push(e))})),!(l[0]&&l.length>1)){e.next=10;break}return e.next=8,ze({urlOptions:{placeHolders:{collection:"post",itemId:a.id}},body:{image:l}});case 8:e.next=13;break;case 10:if(!(l[0]&&l.length<1)){e.next=13;break}return e.next=13,qe({urlOptions:{placeHolders:{imageId:l[0].id,collection:"post",itemId:a.id}}});case 13:return e.next=15,s({urlOptions:{placeHolders:{id:a.id}},body:{name:r.name.trim(),category:le,tags:Y,image:o,body:he,requiredProducts:c,preparationTime:r.preparationTime,servingSize:r.servingSize,cookingTime:r.cookingTime,metaTitle:r.metaTitle,metaDescription:r.metaDescription,metaTags:Pe&&Pe.length>0?Pe.join(","):"",bn:{metaTitle:r.bnMetaTitle,metaDescription:r.bnMetaDescription,metaTags:Be&&Be.length>0?Be.join(","):"",name:r.bnName.trim(),preparationTime:r.bnPreparationTime,body:Oe,servingSize:r.bnServingSize,cookingTime:r.bnCookingTime}}});case 15:u=e.sent,console.log("addProductRes",u),u&&"ok"===u.status&&(Sa("Recipe Updated"),n(Object(f.a)({},u,{id:a.id||"",key:a.id||"",name:r.name||""})),t(!1),w([]),ie(""),te([]),K([]),pe([]),X(""),H([]),se([]),je(""),Ee(""),Me([]),Ve([]),ke([]),_e([]),i.resetForm()),i.setSubmitting(!1);case 19:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();Object(o.useEffect)((function(){if(!l.isLoading){var e=l.error;if(e.isError&&Object.keys(e.error).length>0)(Object.values(e.error).length>0?Object.values(e.error):[]).forEach((function(e,t){if("string"===typeof e)wa(e);else if("object"===typeof e){if(e&&Object.keys(e).length>0)Object.values(e).forEach((function(e){wa(e)}))}}))}}),[l]);return Object(o.useEffect)((function(){if(a&&Object.keys(a).length>0){var e=a.metaTags&&a.metaTags.split(",");console.log("localMetaTags",e);var t=a.bn&&a.bn.metaTags&&a.bn.metaTags.split(",");Me(e||[]),Ve(t||[])}}),[]),c.a.createElement(v.a,{onSubmit:function(e,t){return nt(e,t)},validationSchema:au,validateOnBlur:!1,enableReinitialize:!0,initialValues:Object(f.a)({},nu,{},Object(f.a)({},a,{},d.data&&Object.keys(d.data).length>0&&d.data.bn&&{bnMetaTitle:d.data.bn.metaTitle,bnMetaDescription:d.data.bn.metaDescription,bnName:d.data.bn.name,metaUnit:d.data.bn.unit,bnDescription:d.data.bn.description}))},(function(e){var a=e.handleChange,n=e.values,r=e.handleSubmit,i=e.errors,o=(e.isValid,e.isSubmitting),s=e.touched,u=(e.handleBlur,e.setFieldTouched);e.handleReset;return c.a.createElement(c.a.Fragment,null,c.a.createElement("section",{className:"addProductGridContainer"},c.a.createElement("div",{className:"addProductGridContainer__left"},c.a.createElement("div",{className:"addProductGridContainer__name"},c.a.createElement("div",{className:"addProductGridContainer__item-header"},c.a.createElement("h3",null,"Recipe Information"),c.a.createElement("div",{className:n.name&&n.name.length>2?"checkicon-active":"checkicon"},c.a.createElement(De.a,null))),c.a.createElement("div",{className:"addProductGridContainer__item-body"},c.a.createElement(C,{label:"Name",placeHolder:"Rafti oxy",value:n.name,name:"name",isError:s.name&&i.name||!o&&l.error.error.name,errorString:s.name&&i.name||!o&&l.error.error.name,onChange:function(e){a(e),u("name")}}),c.a.createElement(C,{label:"BN Name",value:n.bnName,placeHolder:"\u09b0\u09be\u09ab\u09a4\u09bf \u0985\u0995\u09cd\u09b8",name:"bnName",isError:s.bnName&&i.bnName||!o&&l.error.error.bnName,errorString:s.bnName&&i.bnName||!o&&l.error.error.bnName,onChange:function(e){a(e),u("bnName")}}),c.a.createElement(C,{label:"Preparation Time",value:n.preparationTime,placeHolder:"15 min",name:"preparationTime",isError:s.preparationTime&&i.preparationTime||!o&&l.error.error.preparationTime,errorString:s.preparationTime&&i.preparationTime||!o&&l.error.error.preparationTime,onChange:function(e){a(e),u("preparationTime")}}),c.a.createElement(C,{label:"BN Preparation Time",value:n.bnPreparationTime,placeHolder:"\u09e7\u09eb \u09ae\u09bf\u09a8\u09bf\u099f",name:"bnPreparationTime",isError:s.bnPreparationTime&&i.bnPreparationTime||!o&&l.error.error.bnPreparationTime,errorString:s.bnPreparationTime&&i.bnPreparationTime||!o&&l.error.error.bnPreparationTime,onChange:function(e){a(e),u("bnPreparationTime")}}),c.a.createElement(C,{label:"Cooking Time",placeHolder:"30 min",value:n.cookingTime,name:"cookingTime",isError:s.cookingTime&&i.cookingTime||!o&&l.error.error.cookingTime,errorString:s.cookingTime&&i.cookingTime||!o&&l.error.error.cookingTime,onChange:function(e){a(e),u("cookingTime")}}),c.a.createElement(C,{label:"BN Cooking Time",placeHolder:"\u09e9\u09e6 \u09ae\u09bf\u09a8\u09bf\u099f",value:n.bnCookingTime,name:"bnCookingTime",isError:s.bnCookingTime&&i.bnCookingTime||!o&&l.error.error.bnCookingTime,errorString:s.bnCookingTime&&i.bnCookingTime||!o&&l.error.error.bnCookingTime,onChange:function(e){a(e),u("bnCookingTime")}}),c.a.createElement(C,{label:"Serving Size",value:n.servingSize,name:"servingSize",isError:s.servingSize&&i.servingSize||!o&&l.error.error.servingSize,errorString:s.servingSize&&i.servingSize||!o&&l.error.error.servingSize,onChange:function(e){a(e),u("servingSize")}}),c.a.createElement(C,{label:"BN Serving Size",value:n.bnServingSize,name:"bnServingSize",isError:s.bnServingSize&&i.bnServingSize||!o&&l.error.error.bnServingSize,errorString:s.bnServingSize&&i.bnServingSize||!o&&l.error.error.bnServingSize,onChange:function(e){a(e),u("bnServingSize")}}),c.a.createElement(C,{label:"URL",value:n.url,name:"url",isError:s.url&&i.url||!o&&l.error.error.url,errorString:s.url&&i.url||!o&&l.error.error.url,onChange:function(e){a(e),u("url")}}),c.a.createElement("h3",{className:"inputFieldLabel"},"Body"),c.a.createElement("div",{style:{width:"100%",maxWidth:"100%"}},c.a.createElement(ja.a,{editor:Na.a,data:he,onInit:function(e){console.log("Editor is ready to use!",e)},onChange:function(e,t){var a=t.getData();Ee(a)},onBlur:function(e,t){console.log("Blur.",t)},onFocus:function(e,t){console.log("Focus.",t)}})),c.a.createElement("div",{style:{marginTop:"15px"}}),c.a.createElement("h3",{className:"inputFieldLabel"},"BN Body"),c.a.createElement("div",{style:{width:"100%",maxWidth:"100%"}},c.a.createElement(ja.a,{editor:Na.a,data:Oe,onInit:function(e){console.log("Editor is ready to use!",e)},onChange:function(e,t){var a=t.getData();je(a)},onBlur:function(e,t){console.log("Blur.",t)},onFocus:function(e,t){console.log("Focus.",t)}})),c.a.createElement("div",{style:{marginBottom:"15px"}}))),c.a.createElement("div",{className:"addProductGridContainer__price"},c.a.createElement("div",{className:"addProductGridContainer__item-header"},c.a.createElement("h3",null,"Products"),c.a.createElement("div",{className:ee&&ee.length>0?"checkicon-active":"checkicon"},c.a.createElement(De.a,null))),c.a.createElement("div",{className:"addProductGridContainer__item-body"},c.a.createElement("h3",{className:"inputFieldLabel"},"Products"),c.a.createElement(zs,{setProductIds:ke,productIds:xe}),c.a.createElement("div",{style:{marginTop:"15px"}}),c.a.createElement("h3",{className:"inputFieldLabel"},"Selcted Products"),c.a.createElement(Hs,{productList:Te,setProductList:_e}))),c.a.createElement("div",{className:"addProductGridContainer__image"},c.a.createElement("div",{className:"addProductGridContainer__item-header"},c.a.createElement("h3",null,"Image"),c.a.createElement(pt.a,{placement:"left",title:"Click on the image to select cover image, By default 1st image is selected as cover"},c.a.createElement("a",{href:"###"},c.a.createElement(Ct.a,null)))),c.a.createElement("div",{style:{padding:"10px"},className:"aboutToUploadImagesContainer"},d.isLoading&&c.a.createElement("div",{style:{padding:"20px 0"}},c.a.createElement(Re.a,null)),d.done&&c.a.createElement(c.a.Fragment,null,S&&S.length>0&&S.map((function(e,t){return c.a.createElement("div",{className:"aboutToUploadImagesContainer__item"},c.a.createElement("div",{className:"aboutToUploadImagesContainer__item-imgContainer",onClick:function(){ie(e.id),at(e)}},c.a.createElement("img",{src:e.cover,alt:e.alt})),c.a.createElement("span",{onClick:function(){!function(e){var t=S&&S.filter((function(t){return t.id!==e}));w(t)}(e.id),tt(e.id)},className:"aboutToUploadImagesContainer__item-remove"},c.a.createElement(Nt.a,null)),(re===e.id||!re&&0===t)&&c.a.createElement("span",{className:"aboutToUploadImagesContainer__item-cover"},c.a.createElement(xt.a,null)))})),c.a.createElement(pt.a,{title:"Attach images"},c.a.createElement("div",{onClick:function(){N(!0),B(!0),M(!1)},className:"aboutToUploadImagesContainer__uploadItem"},c.a.createElement(kt.a,null),c.a.createElement("span",{className:"aboutToUploadImagesContainer__uploadItem-plus"},c.a.createElement(ht.a,null))))))),c.a.createElement("div",{className:"addProductGridContainer__image"},c.a.createElement("div",{className:"addProductGridContainer__item-header"},c.a.createElement("h3",null,"Meta Data"),c.a.createElement(pt.a,{placement:"left",title:"Meta data will be used to make the user's easy and for search engine optimization."},c.a.createElement("a",{href:"###"},c.a.createElement(Ct.a,null)))),c.a.createElement("div",{className:"addProductGridContainer__item-body"},c.a.createElement(C,{label:"Meta title",value:n.metaTitle,placeHolder:"...",name:"metaTitle",isError:s.metaTitle&&i.metaTitle||!o&&l.error.error.metaTitle,errorString:s.metaTitle&&i.metaTitle||!o&&l.error.error.metaTitle,onChange:function(e){a(e),u("metaTitle")}}),c.a.createElement(C,{label:"BN Meta title",value:n.bnMetaTitle,placeHolder:"...",name:"bnMetaTitle",isError:s.bnMetaTitle&&i.bnMetaTitle||!o&&l.error.error.bnMetaTitle,errorString:s.bnMetaTitle&&i.bnMetaTitle||!o&&l.error.error.bnMetaTitle,onChange:function(e){a(e),u("bnMetaTitle")}}),c.a.createElement(wt,{label:"Meta description",value:n.metaDescription,placeholder:"meta...",name:"metaDescription",isError:s.metaDescription&&i.metaDescription||!o&&l.error.error.metaDescription,errorString:s.metaDescription&&i.metaDescription||!o&&l.error.error.metaDescription,onChange:function(e){a(e),u("metaDescription")}}),c.a.createElement(wt,{label:"BN Meta Description",value:n.bnMetaDescription,placeholder:"\u098f\u0987\u09df \u09ae\u09c7\u099f...",name:"bnMetaDescription",isError:s.bnMetaDescription&&i.bnMetaDescription||!o&&l.error.error.bnMetaDescription,errorString:s.bnMetaDescription&&i.bnMetaDescription||!o&&l.error.error.bnMetaDescription,onChange:function(e){a(e),u("bnMetaDescription")}}),c.a.createElement("h3",{className:"inputFieldLabel"},"Meta Tags"),c.a.createElement(Wt,{setTags:Me,tags:Pe}),c.a.createElement("div",{style:{marginTop:"15px"}}),c.a.createElement("h3",{className:"inputFieldLabel"},"BN Meta Tags"),c.a.createElement(Wt,{setTags:Ve,tags:Be})))),c.a.createElement("div",{className:"addProductGridContainer__right"},c.a.createElement("div",{className:"addProductGridContainer__category"},c.a.createElement("div",{className:"addProductGridContainer-rightItemContainer"},c.a.createElement("div",{className:"addProductGridContainer-rightItemContainer-header"},c.a.createElement("h3",null,"Recipe Categories"),c.a.createElement(pt.a,{color:"red",visible:l.error.error.category&&!(z.length>0),placement:"left",title:"Select at least one category"},c.a.createElement("div",{className:z.length>0||l.error.error.category?l.error.error.category?"checkicon-error":"checkicon-active":"checkicon"},c.a.createElement(De.a,null)))),c.a.createElement("div",{className:"addProductGridContainer-rightItemContainer-body"},c.a.createElement(Gs,{setCategoryOptions:se,categoryOptions:le,setcategoryIds:H})))),c.a.createElement("div",{className:"addProductGridContainer__tag"},c.a.createElement("div",{className:"addProductGridContainer-rightItemContainer"},c.a.createElement("div",{className:"addProductGridContainer-rightItemContainer-header"},c.a.createElement("h3",null,"Recipe Tags")),c.a.createElement("div",{className:"addProductGridContainer-rightItemContainer-body"},c.a.createElement(Vs,{setSelectedTags:pe,selectedTags:de,setTagIds:K})))))),c.a.createElement("div",{style:{padding:"15px",display:"flex",justifyContent:"flex-end"}},c.a.createElement(E.a,{style:{color:"#555",marginRight:"10px"},className:"btnPrimaryClassNameoutline-cancle",onClick:function(){return t(!1)},type:"default"},"Cancel"),c.a.createElement(E.a,{className:"btnPrimaryClassNameoutline",onClick:r,loading:l.isLoading,type:"link",icon:c.a.createElement(xt.a,null)},"Update")),c.a.createElement(Vt,{setvisible:N,visible:j,setmyImages:w,myImages:S,setmyThumbnailImage:D,isModalOpenForThumbnail:P,isModalOpenForImages:A}))}))},iu=function(e){var t=e.addNewCategoryVisible,a=e.setAddNewCategoryVisible,n=e.productDetailData,r=e.setPostDetailData;return c.a.createElement(c.a.Fragment,null,c.a.createElement(Ot.a,{style:{top:"40px"},footer:!1,bodyStyle:{margin:0,padding:0},width:"70vw",title:"Edit Recipe",visible:t,onCancel:function(){a(!1)},destroyOnClose:!0,okText:"Update",okButtonProps:{htmlType:"submit"}},c.a.createElement(ru,{addNewCategoryVisible:t,setAddNewCategoryVisible:a,setPostDetailData:r,productDetailData:n})))},ou=(ot.a.Column,ot.a.ColumnGroup,O.a.Search,function(e){var t=U({},"postDetail"),a=Object(g.a)(t,2),n=a[0],r=a[1],i=Object(o.useState)({}),l=Object(g.a)(i,2),s=l[0],u=l[1],m=Object(_e.h)(),d=Object(_e.g)(),f=m.id,h=Object(o.useState)(!1),v=Object(g.a)(h,2),y=v[0],O=v[1];Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r({urlOptions:{params:{categoryOne:"1",tagsOne:"1",imageValue:"1"},placeHolders:{id:f}}});case 2:(t=e.sent)&&u(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[f]),console.log("productDetailState",n),console.log("brandParams",m);var j=n.done&&s&&s.image?function(e){if(!e[0])return!1;e=e.map((function(e){return e.cover}));var t={},a=0,n=0;return e.forEach((function(e,r){a<3?(t[n]?t[n]=[].concat(Object(fe.a)(t[n]),[e]):t[n]=[e],a+=1,n+=1):(a=0,n=0,console.log("localIndex",a))})),t}(s.image):[];return console.log("postDetailState",n),c.a.createElement("div",{className:"brandDetailContainer"},c.a.createElement("div",{className:"brandDetailContainer__heading"},c.a.createElement("h3",null,"Recipe Detail"),n.done&&s&&Object.keys(s).length>0&&c.a.createElement(c.a.Fragment,null,c.a.createElement(iu,{productDetailData:s,addNewCategoryVisible:y,setAddNewCategoryVisible:O,setPostDetailData:u}),c.a.createElement(E.a,{onClick:function(){return O(!0)},type:"link",icon:c.a.createElement(gt.a,null)},"Edit"))),c.a.createElement(ma.a,{avatar:!0,paragraph:{rows:3},loading:n.isLoading},n.done&&s&&!(Object.keys(s).length>0)&&c.a.createElement(we.a,{description:"No Recipe found",image:we.a.PRESENTED_IMAGE_SIMPLE}),n.done&&s&&Object.keys(s).length>0&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"brandDetailContainer__header"},c.a.createElement("div",{className:"brandDetailContainer__header-coverContainer brandDetailContainer__header-coverContainer-product"},c.a.createElement("img",{src:s.cover&&s.cover,alt:""})),c.a.createElement("div",{className:"brandDetailContainer__header-info"},c.a.createElement("h2",null,s.name),c.a.createElement("h4",null,s.price),c.a.createElement("h3",null,s.description),s.url&&c.a.createElement("h3",null,"URL:",c.a.createElement("span",null,s.url)),0===s.preparationTime&&c.a.createElement("h3",null,"PREPARATION TIME:",c.a.createElement("span",null,s.preparationTime)),s.cookingTime&&c.a.createElement("h3",null,"COOKING TIME:",c.a.createElement("span",null,s.cookingTime)),s.servingSize&&c.a.createElement("h3",null,"PEOPLE:",c.a.createElement("span",null,s.servingSize)),s.category2&&s.category2.length>0&&c.a.createElement(c.a.Fragment,null,c.a.createElement("h3",null,"CATEGORIES:",s.category2.map((function(e){return c.a.createElement("span",{onClick:function(){return d.push("/admin/posts/category/".concat(e.id))}},e.name)})))),s.tags&&s.tags.length>0&&c.a.createElement(c.a.Fragment,null,c.a.createElement("h3",null,"TAGS:",s.tags.map((function(e){return c.a.createElement("span",{onClick:function(){return d.push("/admin/posts/tag/".concat(e._id))}},e.name)})))))),n.done&&s&&Object.keys(s).length>0&&s.products&&s.products.length>0&&c.a.createElement("div",{className:"brandDetailContainer__heading"},c.a.createElement("h3",null,"Products")),c.a.createElement("div",{className:"brandDetailContainer__body"},n.done&&s&&s.products&&!(s.products.length>0)&&c.a.createElement("div",{style:{marginTop:"100px"}},c.a.createElement(we.a,{description:"No Products exists for this Recipe",image:we.a.PRESENTED_IMAGE_SIMPLE})),n.done&&s&&Object.keys(s).length>0&&c.a.createElement(c.a.Fragment,null,s.products&&s.products.length>0&&s.products.map((function(e){return c.a.createElement($a,{quantity:e.quantity,productId:e._id})})))),s.image&&s.image.length>0&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"brandDetailContainer__heading"},c.a.createElement("h3",null,"Image Gallary")),c.a.createElement("div",{className:"brandDetailContainer__imageGallary"},c.a.createElement("div",{className:"imgGallaryContainer"},c.a.createElement("div",{className:"imgGallary-row"},j&&Object.keys(j).map((function(e){return c.a.createElement("div",{className:"imgGallary-column"},j[e]&&j[e].map((function(e){return c.a.createElement("img",{src:e,style:{width:"100%"}})})))}))))),c.a.createElement("div",{style:{marginBottom:"25px"}})))))}),cu=y.a().shape({name:y.c().label("Name").required("Name is required").min(3,"Name must have at least 3 characters")}),lu=function(e){Me.a.error({message:e||"Something Went Wrong",description:"",icon:c.a.createElement(Ct.a,{style:{color:"rgb(241, 67, 67)"}})})},su={name:"",bnName:"",description:"",bnDescription:"",metaTitle:"",bnMetaTitle:"",metaDescription:"",bnMetaDescription:"",metaTags:"",bnMetaTags:""},uu=function(e){var t=e.addNewCategoryVisible,a=e.setAddNewCategoryVisible,n=e.tagDetailData,r=e.setTagList,i=e.tagList,l=U({},"postUpdateTag"),s=Object(g.a)(l,2),u=s[0],m=s[1],d=Object(o.useState)(!1),h=Object(g.a)(d,2),E=h[0],y=h[1],O=Object(o.useState)(!1),j=Object(g.a)(O,2),N=j[0],x=j[1],k=Object(o.useState)([]),S=Object(g.a)(k,2),w=(S[0],S[1],Object(o.useState)([])),T=Object(g.a)(w,2),_=(T[0],T[1],function(){var e=Object(b.a)(p.a.mark((function e(t,o){var l,s,u,d;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m({urlOptions:{placeHolders:{id:t.id}},body:{name:t.name.trim(),description:t.description,bn:{name:t.bnName.trim(),description:t.bnDescription}}});case 2:(l=e.sent)&&"ok"===l.status?(p=void 0,Me.a.success({message:p||"Recipe Tag Updated",description:"",icon:c.a.createElement(De.a,{style:{color:"rgba(0, 128, 0, 0.493)"}})}),s=function(){return i.map((function(e){return e.id})).indexOf(t.id)}(),u=Object.assign({},i[s],Object(f.a)({},n,{},l)),d=[].concat(Object(fe.a)(i.slice(0,s)),[u],Object(fe.a)(i.slice(s+1))),r(d),a(!1),o.resetForm()):lu(),o.setSubmitting(!1);case 5:case"end":return e.stop()}var p}),e)})));return function(t,a){return e.apply(this,arguments)}}()),D=function(e){a(!1)},I=function(e,t){return!e.name||!t};return c.a.createElement(v.a,{onSubmit:function(e,t){return _(e,t)},validationSchema:cu,validateOnBlur:!1,enableReinitialize:!0,initialValues:Object(f.a)({},su,{},n)},(function(e){var a=e.handleChange,n=e.values,r=e.handleSubmit,i=e.errors,o=e.isValid,l=e.isSubmitting,s=e.touched,m=(e.handleBlur,e.setFieldTouched);e.handleReset;return c.a.createElement(c.a.Fragment,null,c.a.createElement(Ot.a,{style:{top:"40px"},title:"Edit Tag",visible:t,onOk:function(e){return r(e)},onCancel:D,okText:"Update",okButtonProps:{loading:l,htmlType:"submit",disabled:I(n,o)}},c.a.createElement(C,{label:"Name",value:n.name,name:"name",placeHolder:"new,fresh",isError:s.name&&i.name||!l&&u.error.error.name,errorString:s.name&&i.name||!l&&u.error.error.name,onChange:function(e){a(e),m("name")}}),c.a.createElement(C,{label:"BN Name",value:n.bnName,placeHolder:"\u09a8\u09a4\u09c1\u09a8,\u09ab\u09cd\u09b0\u09c7\u09b6",name:"bnName",isError:s.bnName&&i.bnName||!l&&u.error.error.bnName,errorString:s.bnName&&i.bnName||!l&&u.error.error.bnName,onChange:function(e){a(e),m("bnName")}}),c.a.createElement(wt,{label:"Description",value:n.description,name:"description",placeholder:"This tag...",isError:s.description&&i.description||!l&&u.error.error.description,errorString:s.description&&i.description||!l&&u.error.error.description,onChange:function(e){a(e),m("description")}}),c.a.createElement(wt,{label:"BN Description",value:n.bnDescription,placeholder:"\u098f\u0987 \u099f\u09cd\u09af\u09be\u0997...",name:"bnDescription",isError:s.bnDescription&&i.bnDescription||!l&&u.error.error.bnDescription,errorString:s.bnDescription&&i.bnDescription||!l&&u.error.error.bnDescription,onChange:function(e){a(e),m("bnDescription")}})),c.a.createElement(Vt,{setvisible:x,visible:N,setmyImages:y,myImages:E,isModalOpenForImages:!0}))}))},mu=y.a().shape({name:y.c().label("Name").required("Name is required").min(3,"Name must have at least 3 characters")}),du=function(e){Me.a.error({message:e||"Something Went Wrong",description:"",icon:c.a.createElement(Ct.a,{style:{color:"rgb(241, 67, 67)"}})})},pu={name:"",bnName:"",description:"",bnDescription:"",metaTitle:"",bnMetaTitle:"",metaDescription:"",bnMetaDescription:"",metaTags:"",bnMetaTags:""},bu=function(e){var t=e.addNewCategoryVisible,a=e.setAddNewCategoryVisible,n=e.tagList,r=e.setTagList,i=U({},"postAddTag"),l=Object(g.a)(i,2),s=l[0],u=l[1],m=Object(o.useState)(!1),d=Object(g.a)(m,2),h=d[0],E=d[1],y=Object(o.useState)(!1),O=Object(g.a)(y,2),j=O[0],N=O[1],x=Object(o.useState)(""),k=Object(g.a)(x,2),S=(k[0],k[1],Object(o.useState)([])),w=Object(g.a)(S,2),T=(w[0],w[1],Object(o.useState)([])),_=Object(g.a)(T,2),D=(_[0],_[1],function(){var e=Object(b.a)(p.a.mark((function e(t,i){var o,l;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u({urlOptions:{placeHolders:{id:t.id}},body:{name:t.name.trim(),description:t.description,bn:{name:t.bnName.trim(),description:t.bnDescription}}});case 2:(o=e.sent)&&"ok"===o.status?(s=void 0,Me.a.success({message:s||"Recipe Tag Created",description:"",icon:c.a.createElement(De.a,{style:{color:"rgba(0, 128, 0, 0.493)"}})}),a(!1),l=n||[],console.log("errorTagList",l),r([].concat(Object(fe.a)(l),[Object(f.a)({},o,{id:o._id||"",key:o._id||"",name:o.name||"",description:o.description||""})])),i.resetForm()):du(),i.setSubmitting(!1);case 5:case"end":return e.stop()}var s}),e)})));return function(t,a){return e.apply(this,arguments)}}()),I=function(e){a(!1)},L=function(e,t){return!e.name||!t};return c.a.createElement(v.a,{onSubmit:function(e,t){return D(e,t)},validationSchema:mu,validateOnBlur:!1,enableReinitialize:!0,initialValues:Object(f.a)({},pu)},(function(e){var a=e.handleChange,n=e.values,r=e.handleSubmit,i=e.errors,o=e.isValid,l=e.isSubmitting,u=e.touched,m=(e.handleBlur,e.setFieldTouched);e.handleReset;return c.a.createElement(c.a.Fragment,null,c.a.createElement(Ot.a,{style:{top:"40px"},title:"Add New Recipe Tag",visible:t,onOk:function(e){return r(e)},onCancel:I,okText:"Create",okButtonProps:{loading:l,htmlType:"submit",disabled:L(n,o)}},c.a.createElement(C,{label:"Name",value:n.name,name:"name",placeHolder:"new,fresh",isError:u.name&&i.name||!l&&s.error.error.name,errorString:u.name&&i.name||!l&&s.error.error.name,onChange:function(e){a(e),m("name")}}),c.a.createElement(C,{label:"BN Name",value:n.bnName,placeHolder:"\u09a8\u09a4\u09c1\u09a8,\u09ab\u09cd\u09b0\u09c7\u09b6",name:"bnName",isError:u.bnName&&i.bnName||!l&&s.error.error.bnName,errorString:u.bnName&&i.bnName||!l&&s.error.error.bnName,onChange:function(e){a(e),m("bnName")}}),c.a.createElement(wt,{label:"Description",value:n.description,name:"description",placeholder:"This tag...",isError:u.description&&i.description||!l&&s.error.error.description,errorString:u.description&&i.description||!l&&s.error.error.description,onChange:function(e){a(e),m("description")}}),c.a.createElement(wt,{label:"BN Description",value:n.bnDescription,placeholder:"\u098f\u0987 \u099f\u09cd\u09af\u09be\u0997...",name:"bnDescription",isError:u.bnDescription&&i.bnDescription||!l&&s.error.error.bnDescription,errorString:u.bnDescription&&i.bnDescription||!l&&s.error.error.bnDescription,onChange:function(e){a(e),m("bnDescription")}})),c.a.createElement(Vt,{setvisible:N,visible:j,setmyImages:E,myImages:h,isModalOpenForImages:!0}))}))},gu=(y.a().shape({name:y.c().label("Name").required("Name is required").min(3,"Name must have at least 3 characters")}),ot.a.Column),fu=(ot.a.ColumnGroup,O.a.Search),hu=function(e){var t=e.data,a=e.setTagList,n=Object(o.useState)(!1),r=Object(g.a)(n,2),i=r[0],l=r[1],s=Object(o.useState)(!1),u=Object(g.a)(s,2),m=u[0],d=u[1],f=U({},"postDeleteTag"),h=Object(g.a)(f,2),E=(h[0],h[1]),v=Object(_e.g)(),y=function(){var e=Object(b.a)(p.a.mark((function e(n){var r,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E({urlOptions:{placeHolders:{id:n}}});case 2:(r=e.sent)&&"ok"===r.status&&(o="Deleted Recipe Tag",Me.a.success({message:o||"Recipe Tag Created",description:"",icon:c.a.createElement(De.a,{style:{color:"rgba(0, 128, 0, 0.493)"}})}),i=t.filter((function(e){return e.id!==n})),a(i||[]));case 4:case"end":return e.stop()}var o}),e)})));return function(t){return e.apply(this,arguments)}}();return c.a.createElement(c.a.Fragment,null,c.a.createElement(ot.a,{size:"small",dataSource:t},c.a.createElement(gu,{title:"Name",dataIndex:"name",key:"id",className:"classnameofthecolumn",render:function(e,t){return c.a.createElement(c.a.Fragment,null,c.a.createElement("h4",{onClick:function(){v.push("/admin/posts/tag/".concat(t.id)),d(t)},style:{fontWeight:400,color:"#555",cursor:"pointer"}},e))}}),c.a.createElement(gu,{title:"Description",dataIndex:"description",key:"id",className:"classnameofthecolumn"}),c.a.createElement(gu,{className:"classnameofthecolumn",title:"",key:"action",align:"right",render:function(e,t){return c.a.createElement(dt.a,{size:"middle"},c.a.createElement("a",{href:"##"},c.a.createElement(pt.a,{placement:"top",title:"Edit Recipe tag"},c.a.createElement("span",{className:"iconSize",onClick:function(){l(!0),d(t)}},c.a.createElement(gt.a,null)))),c.a.createElement(bt.a,{onConfirm:function(){return y(t.id)},title:"Are you sure\uff1f",okText:"Yes",cancelText:"No"},c.a.createElement("span",{className:"iconSize iconSize-danger"},c.a.createElement(ft.a,null))))}})),m&&c.a.createElement(uu,{tagList:t,setTagList:a,setAddNewCategoryVisible:l,addNewCategoryVisible:i,tagDetailData:m}))},Eu=function(e){Object(h.a)(e);var t=Object(o.useState)([]),a=Object(g.a)(t,2),n=a[0],r=a[1],i=U({},"postTagList"),l=Object(g.a)(i,2),s=l[0],u=l[1];console.log("recipetaglist",s),Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u({});case 2:t=e.sent,r(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var m=Object(o.useState)(!1),d=Object(g.a)(m,2),f=d[0],v=d[1];return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"categoryListContainer"},c.a.createElement("div",{className:"categoryListContainer__header"},c.a.createElement("div",{className:"categoryListContainer__header-searchBar-tag"},c.a.createElement("h2",{className:"categoryListContainer__header-title"},"Recipe Tags"),c.a.createElement(fu,{enterButton:!1,className:"searchbarClassName",placeholder:"search recipe tags..",onChange:function(e){return function(e){if(s.data.length>0){var t=s.data.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())}));r(t)}}(e.target.value)}})),c.a.createElement(E.a,{className:"btnPrimaryClassNameoutline",icon:c.a.createElement(ht.a,null),onClick:function(){return v(!0)}},"Add New")),c.a.createElement("div",{className:"categoryListContainer__categoryList"},s.done&&n.length>0&&c.a.createElement(hu,{setTagList:r,data:n}),s.isLoading&&c.a.createElement(ta,null),s.done&&!(n.length>0)&&c.a.createElement("div",{style:{marginTop:"200px"}},c.a.createElement(we.a,{description:"No Recipe tags found",image:we.a.PRESENTED_IMAGE_SIMPLE})))),c.a.createElement(bu,{tagList:n,setTagList:r,addNewCategoryVisible:f,setAddNewCategoryVisible:v}))},vu=y.a().shape({name:y.c().label("Name").required("Name is required").min(3,"Name must have at least 3 characters")}),yu=function(e){Me.a.error({message:e||"Something Went Wrong",description:"",icon:c.a.createElement(Ct.a,{style:{color:"rgb(241, 67, 67)"}})})},Ou={name:"",bnName:"",description:"",bnDescription:"",metaTitle:"",bnMetaTitle:"",metaDescription:"",bnMetaDescription:"",metaTags:"",bnMetaTags:""},ju=function(e){var t=e.addNewCategoryVisible,a=e.setAddNewCategoryVisible,n=e.setTagDetailData,r=e.tagDetailData,i=U({},"postUpdateTag"),l=Object(g.a)(i,2),s=l[0],u=l[1],m=Object(o.useState)(!1),d=Object(g.a)(m,2),h=d[0],E=d[1],y=Object(o.useState)(!1),O=Object(g.a)(y,2),j=O[0],N=O[1],x=Object(o.useState)([]),k=Object(g.a)(x,2),S=(k[0],k[1],Object(o.useState)([])),w=Object(g.a)(S,2),T=(w[0],w[1],function(){var e=Object(b.a)(p.a.mark((function e(t,i){var o;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u({urlOptions:{placeHolders:{id:t.id}},body:{name:t.name.trim(),description:t.description,bn:{name:t.bnName.trim(),description:t.bnDescription}}});case 2:(o=e.sent)&&"ok"===o.status?(l=void 0,Me.a.success({message:l||"Recipe Tag Updated",description:"",icon:c.a.createElement(De.a,{style:{color:"rgba(0, 128, 0, 0.493)"}})}),a(!1),n(Object(f.a)({},r,{},o,{name:o.name||"",description:o.description||""})),i.resetForm()):yu(),i.setSubmitting(!1);case 5:case"end":return e.stop()}var l}),e)})));return function(t,a){return e.apply(this,arguments)}}()),_=function(e){a(!1)},D=function(e,t){return!e.name||!t};return c.a.createElement(v.a,{onSubmit:function(e,t){return T(e,t)},validationSchema:vu,validateOnBlur:!1,enableReinitialize:!0,initialValues:Object(f.a)({},Ou,{},r)},(function(e){var a=e.handleChange,n=e.values,r=e.handleSubmit,i=e.errors,o=e.isValid,l=e.isSubmitting,u=e.touched,m=(e.handleBlur,e.setFieldTouched);e.handleReset;return c.a.createElement(c.a.Fragment,null,c.a.createElement(Ot.a,{style:{top:"40px"},title:"Edit Tag",visible:t,onOk:function(e){return r(e)},onCancel:_,okText:"Update",okButtonProps:{loading:l,htmlType:"submit",disabled:D(n,o)}},c.a.createElement(C,{label:"Name",value:n.name,name:"name",placeHolder:"new,fresh",isError:u.name&&i.name||!l&&s.error.error.name,errorString:u.name&&i.name||!l&&s.error.error.name,onChange:function(e){a(e),m("name")}}),c.a.createElement(C,{label:"BN Name",value:n.bnName,placeHolder:"\u09a8\u09a4\u09c1\u09a8,\u09ab\u09cd\u09b0\u09c7\u09b6",name:"bnName",isError:u.bnName&&i.bnName||!l&&s.error.error.bnName,errorString:u.bnName&&i.bnName||!l&&s.error.error.bnName,onChange:function(e){a(e),m("bnName")}}),c.a.createElement(wt,{label:"Description",value:n.description,name:"description",placeholder:"This tag...",isError:u.description&&i.description||!l&&s.error.error.description,errorString:u.description&&i.description||!l&&s.error.error.description,onChange:function(e){a(e),m("description")}}),c.a.createElement(wt,{label:"BN Description",value:n.bnDescription,placeholder:"\u098f\u0987 \u099f\u09cd\u09af\u09be\u0997...",name:"bnDescription",isError:u.bnDescription&&i.bnDescription||!l&&s.error.error.bnDescription,errorString:u.bnDescription&&i.bnDescription||!l&&s.error.error.bnDescription,onChange:function(e){a(e),m("bnDescription")}})),c.a.createElement(Vt,{setvisible:N,visible:j,setmyImages:E,myImages:h,isModalOpenForImages:!0}))}))},Cu=ot.a.Column,Nu=(ot.a.ColumnGroup,O.a.Search,function(e){var t=U({},"postTagDetail"),a=Object(g.a)(t,2),n=a[0],r=a[1],i=U({},"tagPostList"),l=Object(g.a)(i,2),s=l[0],u=l[1],m=Object(o.useState)(!1),d=Object(g.a)(m,2),f=d[0],h=d[1],v=Object(o.useState)({}),y=Object(g.a)(v,2),O=y[0],j=y[1],C=Object(_e.h)(),N=Object(_e.g)(),x=C.id;return Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r({urlOptions:{placeHolders:{id:x}}});case 2:(t=e.sent)&&(console.log("tagDetailRes",t),j(t));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[x]),Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u({urlOptions:{placeHolders:{id:x}}});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[x]),console.log("tagProductsState",s),console.log("brandParams",C),c.a.createElement("div",{className:"brandDetailContainer"},c.a.createElement("div",{className:"brandDetailContainer__heading"},c.a.createElement("h3",null,"Recipe Tag Detail"),n.done&&O&&Object.keys(O).length>0&&c.a.createElement(c.a.Fragment,null,c.a.createElement(ju,{addNewCategoryVisible:f,setAddNewCategoryVisible:h,tagDetailData:O,setTagDetailData:j}),c.a.createElement(E.a,{onClick:function(){return h(!0)},type:"link",icon:c.a.createElement(gt.a,null)},"Edit"))),c.a.createElement(ma.a,{paragraph:{rows:2},loading:n.isLoading},n.done&&O&&!(Object.keys(O).length>0)&&c.a.createElement(we.a,{description:"No Recipe Tag found",image:we.a.PRESENTED_IMAGE_SIMPLE}),n.done&&O&&Object.keys(O).length>0&&c.a.createElement("div",{className:"brandDetailContainer__header"},c.a.createElement("div",{className:"brandDetailContainer__header-info"},c.a.createElement("h2",null,O.name),c.a.createElement("h3",null,O.description),O.url&&c.a.createElement("h3",null,"URL:",c.a.createElement("span",null,O.url))))),c.a.createElement("div",{className:"brandDetailContainer__heading"},c.a.createElement("h3",null,"Recipes")),c.a.createElement("div",{className:"brandDetailContainer__body"},s.isLoading&&c.a.createElement(ta,null),s.done&&!(s.data.length>0)&&c.a.createElement("div",{style:{marginTop:"100px"}},c.a.createElement(we.a,{description:"No Recipes found",image:we.a.PRESENTED_IMAGE_SIMPLE})),s.done&&s.data&&s.data.length>0&&c.a.createElement(c.a.Fragment,null,c.a.createElement(ot.a,{style:{paddingTop:"10px",borderRadius:"5px !important",overflow:"hidden",boxShadow:"0 0.125rem 0.625rem rgba(227, 231, 250, 0.3), 0 0.0625rem 0.125rem rgba(206, 220, 233, 0.4)"},size:"small",dataSource:s.data,tableLayout:"auto",onHeaderRow:function(e){return{style:{color:"red !important"}}}},c.a.createElement(Cu,{title:"",dataIndex:"cover",key:"id",width:"80px",className:"classnameofthecolumn",render:function(e,t){return c.a.createElement(c.a.Fragment,null,c.a.createElement("img",{onClick:function(){N.push("/admin/posts/".concat(t.id))},src:e,alt:"cover img",style:{height:"40px",width:"40px",objectFit:"contain",borderRadius:"3px",cursor:"pointer"}}))}}),c.a.createElement(Cu,{title:"Name",dataIndex:"name",key:"id",className:"classnameofthecolumn",render:function(e,t){return c.a.createElement(c.a.Fragment,null,c.a.createElement("h4",{onClick:function(){N.push("/admin/posts/".concat(t.id))},style:{fontWeight:400,color:"#555",cursor:"pointer"}},e))}}),c.a.createElement(Cu,{title:"Offer Price",dataIndex:"offerPrice",key:"id",className:"classnameofthecolumn"}),c.a.createElement(Cu,{title:"Price",dataIndex:"price",key:"id",className:"classnameofthecolumn"}),c.a.createElement(Cu,{title:"Available",dataIndex:"available",key:"id",className:"classnameofthecolumn"}),c.a.createElement(Cu,{title:"Minimum",dataIndex:"minimum",key:"id",className:"classnameofthecolumn"})))))}),xu=function(e){function t(){var e,a;Object(N.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(Ut.a)(this,(e=Object(Gt.a)(t)).call.apply(e,[this].concat(r)))).state={tags:[],inputVisible:!1,inputValue:"",editInputIndex:-1,editInputValue:""},a.handleClose=function(e){var t=a.props;(0,t.setTags)(t.tags.filter((function(t){return t!==e})))},a.showInput=function(){a.setState({inputVisible:!0},(function(){return a.input.focus()}))},a.handleInputChange=function(e){a.setState({inputValue:e.target.value})},a.handleInputConfirm=function(){console.log("handleInputConfirm",a.props);var e=a.state.inputValue,t=a.props,n=t.tags,r=t.setTags;e&&n&&-1===n.indexOf(e)&&(n=[].concat(Object(fe.a)(n),[e])),r(n),a.setState({inputVisible:!1,inputValue:""})},a.handleEditInputChange=function(e){a.setState({editInputValue:e.target.value}),console.log("tagValue",e.target.value)},a.handleEditInputConfirm=function(){a.setState((function(e){e.editInputIndex,e.editInputValue;return{editInputIndex:-1,editInputValue:""}}));var e=Object(fe.a)(a.props.tags);e[editInputIndex]=editInputValue,a.props.setTags(e)},a.saveInputRef=function(e){a.input=e},a.saveEditInputRef=function(e){a.editInput=e},a}return Object(zt.a)(t,e),Object(x.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.inputVisible,n=t.inputValue,r=t.editInputIndex,i=t.editInputValue,o=this.props,l=o.placeholder,s=o.tags;return c.a.createElement(c.a.Fragment,null,s&&s.length>0&&s.map((function(t,a){if(r===a)return c.a.createElement(O.a,{ref:e.saveEditInputRef,key:t,size:"small",placeholder:l,className:"tag-input",value:i,onChange:e.handleEditInputChange,onBlur:e.handleEditInputConfirm,onPressEnter:e.handleEditInputConfirm});var n=t.length>20,o=c.a.createElement(Ht.a,{className:"edit-tag",key:t,closable:0!==a,onClose:function(){return e.handleClose(t)}},c.a.createElement("span",{onDoubleClick:function(n){0!==a&&(e.setState({editInputIndex:a,editInputValue:t},(function(){e.editInput.focus()})),n.preventDefault())}},n?"".concat(t.slice(0,20),"..."):t));return n?c.a.createElement(pt.a,{title:t,key:t},o):o})),a&&c.a.createElement(O.a,{style:{margin:"10px 0"},ref:this.saveInputRef,type:"text",size:"small",className:"tag-input",value:n,onChange:this.handleInputChange,onBlur:this.handleInputConfirm,onPressEnter:this.handleInputConfirm}),!a&&c.a.createElement(Ht.a,{className:"site-tag-plus edit-tag",onClick:this.showInput},c.a.createElement(ht.a,null)," New Value"))}}]),t}(c.a.Component),ku=y.a().shape({}),Su=function(e){Me.a.success({message:e||"Category Updated",description:"",icon:c.a.createElement(De.a,{style:{color:"rgba(0, 128, 0, 0.493)"}})})},wu=function(e){Me.a.error({message:e||"Something Went Wrong",description:"",icon:c.a.createElement(De.a,{style:{color:"rgb(241, 67, 67)"}})})},Tu={name:"",bnName:"",description:"",bnDescription:"",metaTitle:"",bnMetaTitle:"",metaDescription:"",bnMetaDescription:"",metaTags:"",bnMetaTags:"",image:[],url:"",cover:"",displayOrder:""},_u=(Ge.a.Option,function(e){var t=e.addNewCategoryVisible,a=e.setAddNewCategoryVisible,n=e.categoryDetailData,r=(e.setcategoryList,e.categoryList,U({},"postCategoryUpdate")),i=Object(g.a)(r,2),l=i[0],s=i[1],u=U({},"categoryUpdateIcon"),m=Object(g.a)(u,2),d=(m[0],m[1],U({},"attachImageToItemMultiple")),h=Object(g.a)(d,2),E=(h[0],h[1]),y=U({},"attachImageToItemSingle"),O=Object(g.a)(y,2),j=(O[0],O[1]),N=U({},"detachImageFromItemMultiple"),x=Object(g.a)(N,2),k=(x[0],x[1],U({},"detachImageFromItemSingle")),S=Object(g.a)(k,2),w=(S[0],S[1]),T=U({},"setImageAsThumbnailToItem"),_=Object(g.a)(T,2),D=(_[0],_[1]),I=Object(o.useState)(!1),L=Object(g.a)(I,2),P=L[0],M=L[1],R=Object(o.useState)(!1),F=Object(g.a)(R,2),A=(F[0],F[1]),B=Object(o.useState)(!0),V=Object(g.a)(B,2),G=(V[0],V[1],Object(o.useState)(!1)),z=Object(g.a)(G,2),H=z[0],W=z[1],q=Object(o.useState)(!1),Y=Object(g.a)(q,2),K=Y[0],J=Y[1],Q=Object(o.useState)(""),X=Object(g.a)(Q,2),Z=X[0],$=X[1],ee=Object(o.useState)(""),te=Object(g.a)(ee,2),ae=(te[0],te[1]),ne=Object(o.useState)(!1),re=Object(g.a)(ne,2),ie=re[0],oe=(re[1],Object(o.useState)("")),ce=Object(g.a)(oe,2),le=ce[0],se=(ce[1],Object(o.useState)([])),ue=Object(g.a)(se,2),me=ue[0],de=ue[1],pe=Object(o.useState)([]),be=Object(g.a)(pe,2),ge=be[0],he=be[1],Ee=Object(o.useState)(!1),ve=Object(g.a)(Ee,2),ye=ve[0],Oe=ve[1],je=Object(o.useState)(""),Ce=Object(g.a)(je,2),Ne=Ce[0],xe=Ce[1],ke=Object(o.useState)([]),Se=Object(g.a)(ke,2),we=(Se[0],Se[1],U({},"postCategoryDetail")),Te=Object(g.a)(we,2),_e=Te[0],De=Te[1];Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,De({urlOptions:{placeHolders:{id:n.id}}});case 2:e.sent;case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[n]),console.log("MahPostCategory",_e),console.log("MahPostCategorymyImages",ye),Object(o.useEffect)((function(){if(_e.done&&_e.data&&Object.keys(_e.data).length>0){var e=_e.data.image,t=[];if(e&&e.length>0&&(t=e),_e.data.cover&&_e.data.cover.id)e.find((function(e){return e.id===_e.data.cover.id}))||(t=[_e.data.cover].concat(Object(fe.a)(t))),xe(_e.data.cover.id);Oe(t)}}),[_e.data]),Object(o.useEffect)((function(){ye&&ye[0]&&ye.length<2&&Ne!==ye[0].id&&(xe(ye[0].id),Pe(ye[0]))}),[ye]);var Ie=function(){var e=Object(b.a)(p.a.mark((function e(t,r){var i,o,c,l;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=ye?ye.map((function(e){return e.id})):[],(o=new FormData).append("name",t.name.trim()),o.append("description",t.description),o.append("image",JSON.stringify(i)),o.append("cover",Ne||i[0]?i[0]:""),o.append("parent",Z),o.append("displayOrder",t.displayOrder),console.log("categoryDetailData",n),console.log("imagesIds",i),!(n&&Object.keys(n).length>0)){e.next=21;break}if(c=[],i&&i.length>0&&i.forEach((function(e){n&&n.postCategory&&(n.image.includes(e)||c.push(e))})),!(c[0]&&c.length>1)){e.next=18;break}return e.next=16,E({urlOptions:{placeHolders:{collection:"postCategory",itemId:n.id}},body:{image:c}});case 16:e.next=21;break;case 18:if(!(c[0]&&c.length<1)){e.next=21;break}return e.next=21,j({urlOptions:{placeHolders:{imageId:c[0].id,collection:"postCategory",itemId:n.id}}});case 21:return e.next=23,s({urlOptions:{placeHolders:{id:n.id}},body:{name:t.name&&t.name.trim(),description:t.description,image:i,cover:Ne||i[0]?i[0]:"",parent:Z,icon:le,metaTitle:t.metaTitle,metaDescription:t.metaDescription,displayOrder:t.displayOrder,metaTags:me&&me.length>0?me.join(","):"",bn:{metaTitle:t.bnMetaTitle,metaDescription:t.bnMetaDescription,metaTags:ge&&ge.length>0?ge.join(","):"",name:t.bnName&&t.bnName.trim(),description:t.bnDescription}}});case 23:(l=e.sent)&&"ok"===l.status?(Su("Category Updated!"),a(!1),r.resetForm(),Oe([]),xe(""),$(""),ae("")):wu(),r.setSubmitting(!1);case 26:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Le=function(){var e=Object(b.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w({urlOptions:{placeHolders:{imageId:t,collection:"postCategory",itemId:n.id}}});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Pe=function(){var e=Object(b.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D({urlOptions:{placeHolders:{imageId:t.id,collection:"postCategory",itemId:n.id}}});case 2:(a=e.sent)&&"ok"===a.status?Su("Set as thumbnail!"):wu("Couldn't set as thumbnail, Something went wrong");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Me=function(e){a(!1)};c.a.createElement("div",null,ie?c.a.createElement(jt.a,null):c.a.createElement(ht.a,null),c.a.createElement("div",{className:"ant-upload-text"},"Upload"));return Object(o.useEffect)((function(){if(n&&Object.keys(n).length>0){var e=n.icon&&n.icon;ae(e)}}),[]),Object(o.useEffect)((function(){if(n&&Object.keys(n).length>0){var e=n.metaTags&&n.metaTags.split(",");console.log("localMetaTags",e);var t=n.bn&&n.bn.metaTags&&n.bn.metaTags.split(",");de(e||[]),he(t||[])}}),[]),console.log("addnewCategoryTags",me),console.log("categoryDetailData",n),console.log("myImages",ye),c.a.createElement(v.a,{onSubmit:function(e,t){return Ie(e,t)},validationSchema:ku,validateOnBlur:!1,enableReinitialize:!0,initialValues:Object(f.a)({},Tu,{},n,{},n&&Object.keys(n).length>0&&{bnMetaTitle:n.bn&&n.bn.metaTitle&&n.bn.metaTitle,bnMetaDescription:n.bn&&n.bn.metaDescription&&n.bn.metaDescription,bnName:n.bn&&n.bn.name&&n.bn.name,bnDescription:n.bn&&n.bn.description&&n.bn.description})},(function(e){var a=e.handleChange,n=e.values,r=e.handleSubmit,i=e.errors,o=(e.isValid,e.isSubmitting),s=e.touched,u=(e.handleBlur,e.setFieldTouched);e.handleReset;return c.a.createElement(c.a.Fragment,null,c.a.createElement(Ot.a,{style:{top:"40px"},title:"Edit Category",visible:t,onOk:function(e){return r(e)},onCancel:Me,okText:"Update",okButtonProps:{loading:o,htmlType:"submit"}},c.a.createElement(C,{label:"Name",value:n.name,placeHolder:"grocery,fashion",name:"name",isError:s.name&&i.name||!o&&l.error.error.name,errorString:s.name&&i.name||!o&&l.error.error.name,onChange:function(e){a(e),u("name")}}),c.a.createElement(C,{label:"BN Name",value:n.bnName,placeHolder:"\u09ae\u09c1\u09a6\u09bf\u0996\u09be\u09a8\u09be,\u09ab\u09cd\u09af\u09be\u09b6\u09a8",name:"bnName",isError:s.bnName&&i.bnName||!o&&l.error.error.bnName,errorString:s.bnName&&i.bnName||!o&&l.error.error.bnName,onChange:function(e){a(e),u("bnName")}}),c.a.createElement(wt,{label:"Description",value:n.description,placeholder:"This category...",name:"description",isError:s.description&&i.description||!o&&l.error.error.description,errorString:s.description&&i.description||!o&&l.error.error.description,onChange:function(e){a(e),u("description")}}),c.a.createElement(wt,{label:"BN Description",value:n.bnDescription,placeholder:"\u098f\u0987 \u0995\u09cd\u09af\u09be\u099f\u09be\u0997\u09dc\u09bf...",name:"bnDescription",isError:s.bnDescription&&i.bnDescription||!o&&l.error.error.bnDescription,errorString:s.bnDescription&&i.bnDescription||!o&&l.error.error.bnDescription,onChange:function(e){a(e),u("bnDescription")}}),c.a.createElement("div",{style:{marginTop:"20px"}}),c.a.createElement("div",{className:"addproductSection-left-header",style:{marginBottom:"-5px"}},c.a.createElement("h3",{className:"inputFieldLabel"},"Images")),c.a.createElement("div",{style:{padding:"10px"},className:"aboutToUploadImagesContainer"},_e.isLoading&&c.a.createElement("div",{style:{padding:"20px 0"}},c.a.createElement(Re.a,null)),_e.done&&c.a.createElement(c.a.Fragment,null,ye&&ye.length>0&&ye.map((function(e,t){return c.a.createElement("div",{className:"aboutToUploadImagesContainer__item"},c.a.createElement("div",{className:"aboutToUploadImagesContainer__item-imgContainer",onClick:function(){xe(e.id),Pe(e)}},c.a.createElement("img",{src:e.cover,alt:e.alt})),c.a.createElement("span",{onClick:function(){!function(e){var t=ye&&ye.filter((function(t){return t.id!==e}));Oe(t)}(e.id),Le(e.id)},className:"aboutToUploadImagesContainer__item-remove"},c.a.createElement(Nt.a,null)),(Ne===e.id||!Ne&&0===t)&&c.a.createElement("span",{className:"aboutToUploadImagesContainer__item-cover"},c.a.createElement(xt.a,null)))})),c.a.createElement(pt.a,{title:"Attach images"},c.a.createElement("div",{onClick:function(){M(!0),J(!0),W(!1)},className:"aboutToUploadImagesContainer__uploadItem"},c.a.createElement(kt.a,null),c.a.createElement("span",{className:"aboutToUploadImagesContainer__uploadItem-plus"},c.a.createElement(ht.a,null)))))),c.a.createElement(C,{label:"Meta title",value:n.metaTitle,placeHolder:"category...",name:"metaTitle",isError:s.metaTitle&&i.metaTitle||!o&&l.error.error.metaTitle,errorString:s.metaTitle&&i.metaTitle||!o&&l.error.error.metaTitle,onChange:function(e){a(e),u("metaTitle")}}),c.a.createElement(C,{label:"BN Meta title",value:n.bnMetaTitle,placeHolder:"\u0995\u09cd\u09af\u09be\u099f\u09be\u0997\u09dc\u09bf...",name:"bnMetaTitle",isError:s.bnMetaTitle&&i.bnMetaTitle||!o&&l.error.error.bnMetaTitle,errorString:s.bnMetaTitle&&i.bnMetaTitle||!o&&l.error.error.bnMetaTitle,onChange:function(e){a(e),u("bnMetaTitle")}}),c.a.createElement(wt,{label:"Meta description",value:n.metaDescription,placeholder:"meta...",name:"metaDescription",isError:s.metaDescription&&i.metaDescription||!o&&l.error.error.metaDescription,errorString:s.metaDescription&&i.metaDescription||!o&&l.error.error.metaDescription,onChange:function(e){a(e),u("metaDescription")}}),c.a.createElement(wt,{label:"BN Meta Description",value:n.bnMetaDescription,placeholder:"\u098f\u0987\u09df \u09ae\u09c7\u099f...",name:"bnMetaDescription",isError:s.bnMetaDescription&&i.bnMetaDescription||!o&&l.error.error.bnMetaDescription,errorString:s.bnMetaDescription&&i.bnMetaDescription||!o&&l.error.error.bnMetaDescription,onChange:function(e){a(e),u("bnMetaDescription")}}),c.a.createElement("h3",{className:"inputFieldLabel"},"Meta Tags (grocery,fashion)"),c.a.createElement(xu,{setTags:de,tags:me}),c.a.createElement("div",{style:{marginTop:"15px"}}),c.a.createElement("h3",{className:"inputFieldLabel"},"BN Meta Tags (\u09ae\u09c1\u09a6\u09bf\u0996\u09be\u09a8\u09be,\u09ab\u09cd\u09af\u09be\u09b6\u09a8)"),c.a.createElement(xu,{setTags:he,tags:ge})),c.a.createElement(Vt,{setvisible:M,visible:P,setmyImages:Oe,myImages:ye,setmyThumbnailImage:A,isModalOpenForThumbnail:H,isModalOpenForImages:K}))}))}),Du=y.a().shape({}),Iu=function(e){Me.a.error({message:e||"Something Went Wrong",description:"",icon:c.a.createElement(De.a,{style:{color:"rgb(241, 67, 67)"}})})},Lu={name:"",bnName:"",description:"",bnDescription:"",metaTitle:"",bnMetaTitle:"",metaDescription:"",bnMetaDescription:"",metaTags:"",bnMetaTags:"",image:[],url:"",cover:"",displayOrder:null},Pu=(Ge.a.Option,function(e){var t=e.addNewCategoryVisible,a=e.setAddNewCategoryVisible,n=e.categoryList,r=e.setcategoryList,i=U({},"postAddCategory","form"),l=Object(g.a)(i,2),s=l[0],u=l[1],m=Object(o.useState)(!1),d=Object(g.a)(m,2),h=d[0],E=d[1],y=Object(o.useState)(!1),O=Object(g.a)(y,2),j=O[0],N=O[1],x=Object(o.useState)(!1),S=Object(g.a)(x,2),w=(S[0],S[1]),T=Object(o.useState)(!0),_=Object(g.a)(T,2),D=(_[0],_[1]),I=Object(o.useState)(!1),L=Object(g.a)(I,2),P=L[0],M=L[1],R=Object(o.useState)(!1),F=Object(g.a)(R,2),A=F[0],B=F[1],V=Object(o.useState)(""),G=Object(g.a)(V,2),z=G[0],H=G[1],W=Object(o.useState)(""),q=Object(g.a)(W,2),Y=q[0],K=q[1],J=Object(o.useState)(""),Q=Object(g.a)(J,2),X=(Q[0],Q[1]),Z=Object(o.useState)(!1),$=Object(g.a)(Z,2),ee=$[0],te=($[1],Object(o.useState)("")),ae=Object(g.a)(te,2),ne=(ae[0],ae[1],Object(o.useState)([])),re=Object(g.a)(ne,2),ie=re[0],oe=re[1],ce=Object(o.useState)([]),le=Object(g.a)(ce,2),se=le[0],ue=le[1],me=function(){var e=Object(b.a)(p.a.mark((function e(t,i){var o,l,s,m,d,b;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=j?j.map((function(e){return e.id})):[],l=new FormData,s={metaTitle:t.bnMetaTitle,metaDescription:t.bnMetaDescription,metaTags:se.join(","),name:t.bnName.trim(),description:t.bnDescription},l.append("name",t.name.trim()),l.append("description",t.description),l.append("image",JSON.stringify(o)),l.append("cover",z||o[0]?o[0]:""),l.append("parent",Y),l.append("metaTitle",t.metaTitle),l.append("displayOrder",t.displayOrder),l.append("metaDescription",t.metaDescription),l.append("metaTags",t.metaTags),m=JSON.stringify(s),(d=new FormData).append("bn",m),l.append("bn",d.get("bn")),console.log("addcategoryREsBody",Object(f.a)({},l)),e.next=19,u({body:l});case 19:b=e.sent,console.log("adddPostCategoryREs",b),b&&b[0]&&b[0].name?(p="Recipe Category Created!",Me.a.success({message:p||"Recipe Category Created",description:"",icon:c.a.createElement(De.a,{style:{color:"rgba(0, 128, 0, 0.493)"}})}),a(!1),r([Object(f.a)({},b[0],{id:b[0]._id||"",key:b[0]._id||"",name:b[0].name||"",description:b[0].description||"",cover:b[0].cover?"".concat(k.baseURL).concat(b[0].cover?b[0].cover.thumbnail:""):""})].concat(Object(fe.a)(n))),i.resetForm(),N([]),H(""),K(""),D(!0),X("")):Iu(),i.setSubmitting(!1);case 23:case"end":return e.stop()}var p}),e)})));return function(t,a){return e.apply(this,arguments)}}();console.log("addCategoryState",s),Object(o.useEffect)((function(){if(!s.isLoading){var e=s.error;if(e.isError&&Object.keys(e.error).length>0)(Object.values(e.error).length>0?Object.values(e.error):[]).forEach((function(e,t){if("string"===typeof e)Iu(e);else if("object"===typeof e){if(e&&Object.keys(e).length>0)Object.values(e).forEach((function(e){Iu(e)}))}}))}}),[s]);var de=function(e){a(!1)};c.a.createElement("div",null,ee?c.a.createElement(jt.a,null):c.a.createElement(ht.a,null),c.a.createElement("div",{className:"ant-upload-text"},"Upload"));return c.a.createElement(v.a,{onSubmit:function(e,t){return me(e,t)},validationSchema:Du,validateOnBlur:!1,enableReinitialize:!0,initialValues:Object(f.a)({},Lu)},(function(e){var a=e.handleChange,n=e.values,r=e.handleSubmit,i=e.errors,o=(e.isValid,e.isSubmitting),l=e.touched,u=(e.handleBlur,e.setFieldTouched);e.handleReset;return c.a.createElement(c.a.Fragment,null,c.a.createElement(Ot.a,{style:{top:"40px"},title:"Add New Category",visible:t,onOk:function(e){return r(e)},onCancel:de,okText:"Create",okButtonProps:{loading:o,htmlType:"submit"}},c.a.createElement(C,{label:"Name",value:n.name,placeHolder:"grocery,fashion",name:"name",isError:l.name&&i.name||!o&&s.error.error.name,errorString:l.name&&i.name||!o&&s.error.error.name,onChange:function(e){a(e),u("name")}}),c.a.createElement(C,{label:"BN Name",value:n.bnName,placeHolder:"\u09ae\u09c1\u09a6\u09bf\u0996\u09be\u09a8\u09be,\u09ab\u09cd\u09af\u09be\u09b6\u09a8",name:"bnName",isError:l.bnName&&i.bnName||!o&&s.error.error.bnName,errorString:l.bnName&&i.bnName||!o&&s.error.error.bnName,onChange:function(e){a(e),u("bnName")}}),c.a.createElement(wt,{label:"Description",value:n.description,placeholder:"This category...",name:"description",isError:l.description&&i.description||!o&&s.error.error.description,errorString:l.description&&i.description||!o&&s.error.error.description,onChange:function(e){a(e),u("description")}}),c.a.createElement(wt,{label:"BN Description",value:n.bnDescription,placeholder:"\u098f\u0987 \u0995\u09cd\u09af\u09be\u099f\u09be\u0997\u09dc\u09bf...",name:"bnDescription",isError:l.bnDescription&&i.bnDescription||!o&&s.error.error.bnDescription,errorString:l.bnDescription&&i.bnDescription||!o&&s.error.error.bnDescription,onChange:function(e){a(e),u("bnDescription")}}),c.a.createElement("div",{style:{marginTop:"20px"}}),c.a.createElement("div",{style:{marginTop:"10px"}}),c.a.createElement("div",{className:"addproductSection-left-header",style:{marginBottom:"-5px"}},c.a.createElement("h3",{className:"inputFieldLabel"},"Images"),c.a.createElement(pt.a,{placement:"left",title:"Click on the image to select cover image, By default 1st image is selected as cover"},c.a.createElement("a",{href:"###"},c.a.createElement(Ct.a,null)))),c.a.createElement("div",{className:"aboutToUploadImagesContainer"},j&&j.length>0&&j.map((function(e,t){return c.a.createElement("div",{className:"aboutToUploadImagesContainer__item"},c.a.createElement("div",{className:"aboutToUploadImagesContainer__item-imgContainer",onClick:function(){return H(e.id)}},c.a.createElement("img",{src:e.cover,alt:e.alt})),c.a.createElement("span",{onClick:function(){return function(e){var t=j&&j.filter((function(t){return t.id!==e}));N(t)}(e.id)},className:"aboutToUploadImagesContainer__item-remove"},c.a.createElement(Nt.a,null)),(z===e.id||!z&&0===t)&&c.a.createElement("span",{className:"aboutToUploadImagesContainer__item-cover"},c.a.createElement(xt.a,null)))})),c.a.createElement(pt.a,{title:"Attach images"},c.a.createElement("div",{onClick:function(){E(!0),B(!0),M(!1)},className:"aboutToUploadImagesContainer__uploadItem"},c.a.createElement(kt.a,null),c.a.createElement("span",{className:"aboutToUploadImagesContainer__uploadItem-plus"},c.a.createElement(ht.a,null))))),c.a.createElement(C,{label:"Meta title",value:n.metaTitle,placeHolder:"category...",name:"metaTitle",isError:l.metaTitle&&i.metaTitle||!o&&s.error.error.metaTitle,errorString:l.metaTitle&&i.metaTitle||!o&&s.error.error.metaTitle,onChange:function(e){a(e),u("metaTitle")}}),c.a.createElement(C,{label:"BN Meta title",value:n.bnMetaTitle,placeHolder:"\u0995\u09cd\u09af\u09be\u099f\u09be\u0997\u09dc\u09bf...",name:"bnMetaTitle",isError:l.bnMetaTitle&&i.bnMetaTitle||!o&&s.error.error.bnMetaTitle,errorString:l.bnMetaTitle&&i.bnMetaTitle||!o&&s.error.error.bnMetaTitle,onChange:function(e){a(e),u("bnMetaTitle")}}),c.a.createElement(wt,{label:"Meta description",value:n.metaDescription,placeholder:"meta...",name:"metaDescription",isError:l.metaDescription&&i.metaDescription||!o&&s.error.error.metaDescription,errorString:l.metaDescription&&i.metaDescription||!o&&s.error.error.metaDescription,onChange:function(e){a(e),u("metaDescription")}}),c.a.createElement(wt,{label:"BN Meta Description",value:n.bnMetaDescription,placeholder:"\u098f\u0987\u09df \u09ae\u09c7\u099f...",name:"bnMetaDescription",isError:l.bnMetaDescription&&i.bnMetaDescription||!o&&s.error.error.bnMetaDescription,errorString:l.bnMetaDescription&&i.bnMetaDescription||!o&&s.error.error.bnMetaDescription,onChange:function(e){a(e),u("bnMetaDescription")}}),c.a.createElement("h3",{className:"inputFieldLabel"},"Meta Tags (grocery,fashion)"),c.a.createElement(xu,{setTags:oe,tags:ie}),c.a.createElement("div",{style:{marginTop:"15px"}}),c.a.createElement("h3",{className:"inputFieldLabel"},"BN Meta Tags (\u09ae\u09c1\u09a6\u09bf\u0996\u09be\u09a8\u09be,\u09ab\u09cd\u09af\u09be\u09b6\u09a8)"),c.a.createElement(xu,{setTags:ue,tags:se})),c.a.createElement(Vt,{setvisible:E,visible:h,setmyImages:N,myImages:j,setmyThumbnailImage:w,isModalOpenForThumbnail:P,isModalOpenForImages:A}))}))}),Mu=ot.a.Column,Ru=(ot.a.ColumnGroup,O.a.Search),Fu=function(e){var t=e.data,a=e.setcategoryList,n=e.history,r=Object(o.useState)(!1),i=Object(g.a)(r,2),l=i[0],s=i[1],u=Object(o.useState)(!1),m=Object(g.a)(u,2),d=m[0],f=m[1],h=U({},"postCategoryDelete"),E=Object(g.a)(h,2),v=(E[0],E[1]),y=function(){var e=Object(b.a)(p.a.mark((function e(n){var r,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v({urlOptions:{placeHolders:{id:n}}});case 2:(r=e.sent)&&"ok"===r.status&&(o="Deleted Recipe Category",Me.a.success({message:o||"Post Recipe Created",description:"",icon:c.a.createElement(De.a,{style:{color:"rgba(0, 128, 0, 0.493)"}})}),i=t.filter((function(e){return e.id!==n})),a(i));case 4:case"end":return e.stop()}var o}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(e){return e.cover?e.cover:""};return c.a.createElement(c.a.Fragment,null,c.a.createElement(ot.a,{size:"small",dataSource:t},c.a.createElement(Mu,{title:"",dataIndex:"cover",key:"id",width:"80px",className:"classnameofthecolumn",render:function(e,t){return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"listCoverImage",onClick:function(){n.push("/admin/posts/category/".concat(t.id)),f(t)}},c.a.createElement("img",{src:O(t),alt:""})))}}),c.a.createElement(Mu,{title:"Name",dataIndex:"name",key:"id",className:"classnameofthecolumn",render:function(e,t){return c.a.createElement(c.a.Fragment,null,c.a.createElement("h4",{onClick:function(){n.push("/admin/posts/category/".concat(t.id)),f(t)},style:{fontWeight:400,color:"#555",cursor:"pointer"}},e))}}),c.a.createElement(Mu,{title:"Recipes",dataIndex:"productCount",key:"id",className:"classnameofthecolumn"}),c.a.createElement(Mu,{className:"classnameofthecolumn",title:"",key:"action",align:"right",render:function(e,t){return c.a.createElement(dt.a,{size:"middle"},c.a.createElement("a",{href:"##"},c.a.createElement(pt.a,{placement:"top",title:"Edit Category"},c.a.createElement("span",{className:"iconSize",onClick:function(){s(!0),f(t)}},c.a.createElement(gt.a,null)))),c.a.createElement(bt.a,{onConfirm:function(){return y(t.id)},title:"Are you sure\uff1f",okText:"Yes",cancelText:"No"},c.a.createElement("span",{className:"iconSize iconSize-danger"},c.a.createElement(ft.a,null))))}})),d&&c.a.createElement(_u,{setcategoryList:a,categoryList:t,setAddNewCategoryVisible:s,addNewCategoryVisible:l,categoryDetailData:d}))},Au=Object(_e.i)((function(e){var t=e.history,a=U({},"postCategoryList"),n=Object(g.a)(a,2),r=n[0],i=n[1],l=Object(o.useState)([]),s=Object(g.a)(l,2),u=s[0],m=s[1];Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i({urlOptions:{params:{isSubCategory:!0,productCountValue:!0}}});case 2:t=e.sent,m(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var d=Object(o.useState)(!1),f=Object(g.a)(d,2),h=f[0],v=f[1];return console.log("postCategoryList",r),c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"categoryListContainer"},c.a.createElement("div",{className:"categoryListContainer__header"},c.a.createElement("div",{className:"categoryListContainer__header-searchBar"},c.a.createElement("h2",{className:"categoryListContainer__header-title"},"Recipe Categories"),c.a.createElement(Ru,{enterButton:!1,className:"searchbarClassName",placeholder:"search recipe categories..",onChange:function(e){return function(e){if(r.data.length>0){var t=r.data.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())}));m(t)}}(e.target.value)}})),c.a.createElement(E.a,{className:"btnPrimaryClassNameoutline",icon:c.a.createElement(ht.a,null),onClick:function(){return v(!0)}},"Add New")),c.a.createElement("div",{className:"categoryListContainer__afterHeader"}),c.a.createElement("div",{className:"categoryListContainer__categoryList"},r.done&&u.length>0&&c.a.createElement(Fu,{history:t,setcategoryList:m,data:u}),r.isLoading&&c.a.createElement(ta,null),r.done&&!(u.length>0)&&c.a.createElement("div",{style:{marginTop:"50px"}},c.a.createElement(Te,{title:"No Recipe Category found"})))),r.done&&c.a.createElement(Pu,{addNewCategoryVisible:h,setAddNewCategoryVisible:v,categoryList:u,setcategoryList:m}))})),Bu=y.a().shape({}),Vu=function(e){Me.a.success({message:e||"Category Updated",description:"",icon:c.a.createElement(De.a,{style:{color:"rgba(0, 128, 0, 0.493)"}})})},Uu=function(e){Me.a.error({message:e||"Something Went Wrong",description:"",icon:c.a.createElement(Ct.a,{style:{color:"rgb(241, 67, 67)"}})})},Gu={name:"",bnName:"",description:"",bnDescription:"",metaTitle:"",bnMetaTitle:"",metaDescription:"",bnMetaDescription:"",metaTags:"",bnMetaTags:"",image:[],url:"",cover:"",displayOrder:""},zu=(Ge.a.Option,function(e){var t=e.addNewCategoryVisible,a=e.setAddNewCategoryVisible,n=e.categoryDetailData,r=e.setcategoryDetailData,i=U({},"postCategoryUpdate"),l=Object(g.a)(i,2),s=l[0],u=l[1],m=U({},"categoryUpdateIcon"),d=Object(g.a)(m,2),h=(d[0],d[1],U({},"attachImageToItemMultiple")),E=Object(g.a)(h,2),y=(E[0],E[1]),O=U({},"attachImageToItemSingle"),j=Object(g.a)(O,2),N=(j[0],j[1]),x=U({},"detachImageFromItemMultiple"),k=Object(g.a)(x,2),S=(k[0],k[1],U({},"detachImageFromItemSingle")),w=Object(g.a)(S,2),T=(w[0],w[1]),_=U({},"setImageAsThumbnailToItem"),D=Object(g.a)(_,2),I=(D[0],D[1]),L=Object(o.useState)(!1),P=Object(g.a)(L,2),M=P[0],R=P[1],F=Object(o.useState)(!1),A=Object(g.a)(F,2),B=(A[0],A[1]),V=Object(o.useState)(!0),G=Object(g.a)(V,2),z=(G[0],G[1],Object(o.useState)(!1)),H=Object(g.a)(z,2),W=H[0],q=H[1],Y=Object(o.useState)(!1),K=Object(g.a)(Y,2),J=K[0],Q=K[1],X=Object(o.useState)(""),Z=Object(g.a)(X,2),$=Z[0],ee=(Z[1],Object(o.useState)("")),te=Object(g.a)(ee,2),ae=(te[0],te[1]),ne=Object(o.useState)(!1),re=Object(g.a)(ne,2),ie=re[0],oe=(re[1],Object(o.useState)("")),ce=Object(g.a)(oe,2),le=ce[0],se=(ce[1],Object(o.useState)([])),ue=Object(g.a)(se,2),me=ue[0],de=ue[1],pe=Object(o.useState)([]),be=Object(g.a)(pe,2),ge=be[0],he=be[1],Ee=Object(o.useState)(!1),ve=Object(g.a)(Ee,2),ye=ve[0],Oe=ve[1],je=Object(o.useState)(""),Ce=Object(g.a)(je,2),Ne=Ce[0],xe=Ce[1],ke=Object(o.useState)([]),Se=Object(g.a)(ke,2),we=(Se[0],Se[1],U({},"postCategoryDetail")),Te=Object(g.a)(we,2),_e=Te[0],De=Te[1];Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,De({urlOptions:{placeHolders:{id:n.id}}});case 2:e.sent;case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[n]),console.log("MahPostCategory",_e),console.log("MahPostCategorymyImages",ye),Object(o.useEffect)((function(){if(_e.done&&_e.data&&Object.keys(_e.data).length>0){var e=_e.data.image,t=[];if(e&&e.length>0&&(t=e),_e.data.cover&&_e.data.cover.id)e.find((function(e){return e.id===_e.data.cover.id}))||(t=[_e.data.cover].concat(Object(fe.a)(t))),xe(_e.data.cover.id);Oe(t)}}),[_e.data]),Object(o.useEffect)((function(){ye&&ye[0]&&ye.length<2&&Ne!==ye[0].id&&(xe(ye[0].id),Pe(ye[0]))}),[ye]);var Ie=function(){var e=Object(b.a)(p.a.mark((function e(t,i){var o,c,l,s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=ye?ye.map((function(e){return e.id})):[],(c=new FormData).append("name",t.name.trim()),c.append("description",t.description),c.append("image",JSON.stringify(o)),c.append("cover",Ne||o[0]?o[0]:""),c.append("parent",$),c.append("displayOrder",t.displayOrder),console.log("categoryDetailData",n),console.log("imagesIds",o),!(n&&Object.keys(n).length>0)){e.next=21;break}if(l=[],o&&o.length>0&&o.forEach((function(e){n&&n.postCategory&&(n.image.includes(e)||l.push(e))})),!(l[0]&&l.length>1)){e.next=18;break}return e.next=16,y({urlOptions:{placeHolders:{collection:"postCategory",itemId:n.id}},body:{image:l}});case 16:e.next=21;break;case 18:if(!(l[0]&&l.length<1)){e.next=21;break}return e.next=21,N({urlOptions:{placeHolders:{imageId:l[0].id,collection:"postCategory",itemId:n.id}}});case 21:return e.next=23,u({urlOptions:{placeHolders:{id:n.id}},body:{name:t.name&&t.name.trim(),description:t.description,image:o,cover:Ne||o[0]?o[0]:"",parent:$,icon:le,metaTitle:t.metaTitle,metaDescription:t.metaDescription,displayOrder:t.displayOrder,metaTags:me&&me.length>0?me.join(","):"",bn:{metaTitle:t.bnMetaTitle,metaDescription:t.bnMetaDescription,metaTags:ge&&ge.length>0?ge.join(","):"",name:t.bnName&&t.bnName.trim(),description:t.bnDescription}}});case 23:(s=e.sent)&&"ok"===s.status?(Vu("Category Updated!"),a(!1),r(Object(f.a)({},n,{},s)),i.resetForm()):Uu(),i.setSubmitting(!1);case 26:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Le=function(){var e=Object(b.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T({urlOptions:{placeHolders:{imageId:t,collection:"postCategory",itemId:n.id}}});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Pe=function(){var e=Object(b.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I({urlOptions:{placeHolders:{imageId:t.id,collection:"postCategory",itemId:n.id}}});case 2:(a=e.sent)&&"ok"===a.status?Vu("Set as thumbnail!"):Uu("Couldn't set as thumbnail, Something went wrong");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Me=function(e){a(!1)};c.a.createElement("div",null,ie?c.a.createElement(jt.a,null):c.a.createElement(ht.a,null),c.a.createElement("div",{className:"ant-upload-text"},"Upload"));return Object(o.useEffect)((function(){if(n&&Object.keys(n).length>0){var e=n.icon&&n.icon;ae(e)}}),[]),Object(o.useEffect)((function(){if(n&&Object.keys(n).length>0){var e=n.metaTags&&n.metaTags.split(",");console.log("localMetaTags",e);var t=n.bn&&n.bn.metaTags&&n.bn.metaTags.split(",");de(e||[]),he(t||[])}}),[]),console.log("addnewCategoryTags",me),console.log("categoryDetailData",n),console.log("myImages",ye),c.a.createElement(v.a,{onSubmit:function(e,t){return Ie(e,t)},validationSchema:Bu,validateOnBlur:!1,enableReinitialize:!0,initialValues:Object(f.a)({},Gu,{},n,{},n&&Object.keys(n).length>0&&{bnMetaTitle:n.bn&&n.bn.metaTitle&&n.bn.metaTitle,bnMetaDescription:n.bn&&n.bn.metaDescription&&n.bn.metaDescription,bnName:n.bn&&n.bn.name&&n.bn.name,bnDescription:n.bn&&n.bn.description&&n.bn.description})},(function(e){var a=e.handleChange,n=e.values,r=e.handleSubmit,i=e.errors,o=(e.isValid,e.isSubmitting),l=e.touched,u=(e.handleBlur,e.setFieldTouched);e.handleReset;return c.a.createElement(c.a.Fragment,null,c.a.createElement(Ot.a,{style:{top:"40px"},title:"Edit Category",visible:t,onOk:function(e){return r(e)},onCancel:Me,okText:"Update",okButtonProps:{loading:o,htmlType:"submit"}},c.a.createElement(C,{label:"Name",value:n.name,placeHolder:"grocery,fashion",name:"name",isError:l.name&&i.name||!o&&s.error.error.name,errorString:l.name&&i.name||!o&&s.error.error.name,onChange:function(e){a(e),u("name")}}),c.a.createElement(C,{label:"BN Name",value:n.bnName,placeHolder:"\u09ae\u09c1\u09a6\u09bf\u0996\u09be\u09a8\u09be,\u09ab\u09cd\u09af\u09be\u09b6\u09a8",name:"bnName",isError:l.bnName&&i.bnName||!o&&s.error.error.bnName,errorString:l.bnName&&i.bnName||!o&&s.error.error.bnName,onChange:function(e){a(e),u("bnName")}}),c.a.createElement(wt,{label:"Description",value:n.description,placeholder:"This category...",name:"description",isError:l.description&&i.description||!o&&s.error.error.description,errorString:l.description&&i.description||!o&&s.error.error.description,onChange:function(e){a(e),u("description")}}),c.a.createElement(wt,{label:"BN Description",value:n.bnDescription,placeholder:"\u098f\u0987 \u0995\u09cd\u09af\u09be\u099f\u09be\u0997\u09dc\u09bf...",name:"bnDescription",isError:l.bnDescription&&i.bnDescription||!o&&s.error.error.bnDescription,errorString:l.bnDescription&&i.bnDescription||!o&&s.error.error.bnDescription,onChange:function(e){a(e),u("bnDescription")}}),c.a.createElement("div",{style:{marginTop:"20px"}}),c.a.createElement("div",{className:"addproductSection-left-header",style:{marginBottom:"-5px"}},c.a.createElement("h3",{className:"inputFieldLabel"},"Images")),c.a.createElement("div",{style:{padding:"10px"},className:"aboutToUploadImagesContainer"},_e.isLoading&&c.a.createElement("div",{style:{padding:"20px 0"}},c.a.createElement(Re.a,null)),_e.done&&c.a.createElement(c.a.Fragment,null,ye&&ye.length>0&&ye.map((function(e,t){return c.a.createElement("div",{className:"aboutToUploadImagesContainer__item"},c.a.createElement("div",{className:"aboutToUploadImagesContainer__item-imgContainer",onClick:function(){xe(e.id),Pe(e)}},c.a.createElement("img",{src:e.cover,alt:e.alt})),c.a.createElement("span",{onClick:function(){!function(e){var t=ye&&ye.filter((function(t){return t.id!==e}));Oe(t)}(e.id),Le(e.id)},className:"aboutToUploadImagesContainer__item-remove"},c.a.createElement(Nt.a,null)),(Ne===e.id||!Ne&&0===t)&&c.a.createElement("span",{className:"aboutToUploadImagesContainer__item-cover"},c.a.createElement(xt.a,null)))})),c.a.createElement(pt.a,{title:"Attach images"},c.a.createElement("div",{onClick:function(){R(!0),Q(!0),q(!1)},className:"aboutToUploadImagesContainer__uploadItem"},c.a.createElement(kt.a,null),c.a.createElement("span",{className:"aboutToUploadImagesContainer__uploadItem-plus"},c.a.createElement(ht.a,null)))))),c.a.createElement(C,{label:"Meta title",value:n.metaTitle,placeHolder:"category...",name:"metaTitle",isError:l.metaTitle&&i.metaTitle||!o&&s.error.error.metaTitle,errorString:l.metaTitle&&i.metaTitle||!o&&s.error.error.metaTitle,onChange:function(e){a(e),u("metaTitle")}}),c.a.createElement(C,{label:"BN Meta title",value:n.bnMetaTitle,placeHolder:"\u0995\u09cd\u09af\u09be\u099f\u09be\u0997\u09dc\u09bf...",name:"bnMetaTitle",isError:l.bnMetaTitle&&i.bnMetaTitle||!o&&s.error.error.bnMetaTitle,errorString:l.bnMetaTitle&&i.bnMetaTitle||!o&&s.error.error.bnMetaTitle,onChange:function(e){a(e),u("bnMetaTitle")}}),c.a.createElement(wt,{label:"Meta description",value:n.metaDescription,placeholder:"meta...",name:"metaDescription",isError:l.metaDescription&&i.metaDescription||!o&&s.error.error.metaDescription,errorString:l.metaDescription&&i.metaDescription||!o&&s.error.error.metaDescription,onChange:function(e){a(e),u("metaDescription")}}),c.a.createElement(wt,{label:"BN Meta Description",value:n.bnMetaDescription,placeholder:"\u098f\u0987\u09df \u09ae\u09c7\u099f...",name:"bnMetaDescription",isError:l.bnMetaDescription&&i.bnMetaDescription||!o&&s.error.error.bnMetaDescription,errorString:l.bnMetaDescription&&i.bnMetaDescription||!o&&s.error.error.bnMetaDescription,onChange:function(e){a(e),u("bnMetaDescription")}}),c.a.createElement("h3",{className:"inputFieldLabel"},"Meta Tags (grocery,fashion)"),c.a.createElement(xu,{setTags:de,tags:me}),c.a.createElement("div",{style:{marginTop:"15px"}}),c.a.createElement("h3",{className:"inputFieldLabel"},"BN Meta Tags (\u09ae\u09c1\u09a6\u09bf\u0996\u09be\u09a8\u09be,\u09ab\u09cd\u09af\u09be\u09b6\u09a8)"),c.a.createElement(xu,{setTags:he,tags:ge})),c.a.createElement(Vt,{setvisible:R,visible:M,setmyImages:Oe,myImages:ye,setmyThumbnailImage:B,isModalOpenForThumbnail:W,isModalOpenForImages:J}))}))}),Hu=ot.a.Column,Wu=(ot.a.ColumnGroup,O.a.Search,function(e){var t=U({},"postCategoryDetail"),a=Object(g.a)(t,2),n=a[0],r=a[1],i=U({},"categoryPostList"),l=Object(g.a)(i,2),s=l[0],u=l[1],m=Object(_e.h)(),d=Object(_e.g)(),f=m.id,h=Object(o.useState)(!1),v=Object(g.a)(h,2),y=v[0],O=v[1],j=Object(o.useState)({}),C=Object(g.a)(j,2),N=C[0],x=C[1];Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r({urlOptions:{placeHolders:{id:f}}});case 2:(t=e.sent)&&x(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[f]),Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u({urlOptions:{placeHolders:{id:f}}});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[f]),console.log("postcategoryDetail",N),console.log("brandParams",m);var k=n.done&&N&&N.image?function(e){if(!e[0])return!1;e=e.map((function(e){return e.cover}));var t={},a=0,n=0;return e.forEach((function(e,r){a<3?(t[n]?t[n]=[].concat(Object(fe.a)(t[n]),[e]):t[n]=[e],a+=1,n+=1):(a=0,n=0,console.log("localIndex",a))})),t}(N.image):[];return c.a.createElement("div",{className:"brandDetailContainer"},c.a.createElement("div",{className:"brandDetailContainer__heading"},c.a.createElement("h3",null,"Recipe Category Detail"),n.done&&N&&Object.keys(N).length>0&&c.a.createElement(c.a.Fragment,null,c.a.createElement(zu,{addNewCategoryVisible:y,setAddNewCategoryVisible:O,categoryDetailData:N,setcategoryDetailData:x}),c.a.createElement(E.a,{onClick:function(){return O(!0)},type:"link",icon:c.a.createElement(gt.a,null)},"Edit"))),c.a.createElement(ma.a,{avatar:!0,paragraph:{rows:3},loading:n.isLoading},n.done&&N&&!(Object.keys(N).length>0)&&c.a.createElement(we.a,{description:"No Recipe category found",image:we.a.PRESENTED_IMAGE_SIMPLE}),n.done&&N&&Object.keys(N).length>0&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"brandDetailContainer__header"},c.a.createElement("div",{className:"brandDetailContainer__header-coverContainer brandDetailContainer__header-coverContainer-category"},c.a.createElement("img",{src:N.cover&&N.cover.cover,alt:""})),c.a.createElement("div",{className:"brandDetailContainer__header-info"},c.a.createElement("h2",null,N.name),c.a.createElement("h3",null,N.description),N.url&&c.a.createElement("h3",null,"URL:",c.a.createElement("span",null,N.url)))),N.icon&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"brandDetailContainer__heading"},c.a.createElement("h3",null,"Icon")),c.a.createElement("div",{className:"brandDetailContainer__inlineBox"},c.a.createElement("div",{className:"brandDetailContainer__header-coverContainer brandDetailContainer__header-coverContainer-icon"},c.a.createElement("img",{src:N.icon&&N.icon,alt:""}))),c.a.createElement("div",{style:{marginBottom:"25px"}})),N.image&&N.image.length>0&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"brandDetailContainer__heading"},c.a.createElement("h3",null,"Image Gallary")),c.a.createElement("div",{className:"brandDetailContainer__imageGallary"},c.a.createElement("div",{className:"imgGallaryContainer"},c.a.createElement("div",{className:"imgGallary-row"},k&&Object.keys(k).map((function(e){return c.a.createElement("div",{className:"imgGallary-column"},k[e]&&k[e].map((function(e){return c.a.createElement("img",{alt:"..",src:e,style:{width:"100%"}})})))}))))),c.a.createElement("div",{style:{marginBottom:"25px"}})))),c.a.createElement("div",{className:"brandDetailContainer__heading"},c.a.createElement("h3",null,"Recipes")),c.a.createElement("div",{className:"brandDetailContainer__body"},s.isLoading&&c.a.createElement(ta,null),s.done&&!(s.data.length>0)&&c.a.createElement("div",{style:{marginTop:"100px"}},c.a.createElement(we.a,{description:"No recipes exists in this category",image:we.a.PRESENTED_IMAGE_SIMPLE})),s.done&&s.data&&s.data.length>0&&c.a.createElement(c.a.Fragment,null,c.a.createElement(ot.a,{style:{paddingTop:"10px",borderRadius:"5px !important",overflow:"hidden",boxShadow:"0 0.125rem 0.625rem rgba(227, 231, 250, 0.3), 0 0.0625rem 0.125rem rgba(206, 220, 233, 0.4)"},size:"small",dataSource:s.data,tableLayout:"auto",onHeaderRow:function(e){return{style:{color:"red !important"}}}},c.a.createElement(Hu,{title:"",dataIndex:"cover",key:"id",width:"80px",className:"classnameofthecolumn",render:function(e,t){return c.a.createElement(c.a.Fragment,null,c.a.createElement("img",{onClick:function(){d.push("/admin/posts/".concat(t.id))},src:e,alt:"cover img",style:{height:"40px",width:"40px",objectFit:"contain",borderRadius:"3px",cursor:"pointer"}}))}}),c.a.createElement(Hu,{title:"Name",dataIndex:"name",key:"id",className:"classnameofthecolumn",render:function(e,t){return c.a.createElement(c.a.Fragment,null,c.a.createElement("h4",{onClick:function(){d.push("/admin/posts/".concat(t.id))},style:{fontWeight:400,color:"#555",cursor:"pointer"}},e))}}),c.a.createElement(Hu,{title:"Preparation Time",dataIndex:"preparationTime",key:"id",className:"classnameofthecolumn"}),c.a.createElement(Hu,{title:"Cooking Time",dataIndex:"cookingTime",key:"id",className:"classnameofthecolumn"}),c.a.createElement(Hu,{title:"People",dataIndex:"servingSize",key:"id",className:"classnameofthecolumn"})))))}),qu=function(e){var t=e.onChange,a=e.label,n=e.withTime,r=e.placeholder,i=e.date,o=e.time;return c.a.createElement(c.a.Fragment,null,c.a.createElement("h3",{className:"inputFieldLabel"},a),n?c.a.createElement(ze.a,Object.assign({format:"YYYY-MM-DD HH:mm:ss",className:"inputclassName",placeholder:r,style:{width:"100%",borderColor:"#eee"},onChange:t},o&&{defaultValue:_()(o)})):c.a.createElement(ze.a,Object.assign({placeholder:r,className:"inputclassName",style:{width:"100%",borderColor:"#eee"},onChange:t},i&&{defaultValue:_()(i)})))};ze.a.RangePicker;Ge.a.Option;var Yu=y.a().shape({}),Ku={firstName:"",lastName:"",address:"",salary:null,designation:"",fatherName:"",motherName:"",NID:"",phone:"",email:"",additionalInfo:"",joiningDate:""},Ju=function(e){Me.a.error({message:e||"Something Went Wrong",description:"",icon:c.a.createElement(Ct.a,{style:{color:"rgb(241, 67, 67)"}})})},Qu=function(e){var t=e.addNewCategoryVisible,a=e.setAddNewCategoryVisible,n=e.customerList,r=e.setCustomerList,i=U({},"addStaff"),l=Object(g.a)(i,2),s=l[0],u=l[1],m=Object(o.useState)(""),d=Object(g.a)(m,2),h=d[0],E=(d[1],Object(o.useState)("")),y=Object(g.a)(E,2),O=(y[0],y[1],Object(o.useState)([])),j=Object(g.a)(O,2),N=(j[0],j[1]),x=Object(o.useState)([]),k=Object(g.a)(x,2),S=(k[0],k[1]),w=U([],"countryList"),T=Object(g.a)(w,2),_=(T[0],T[1]),D=U([],"cityList"),I=Object(g.a)(D,2),L=I[0],P=I[1],M=Object(o.useState)(""),R=Object(g.a)(M,2),F=R[0],A=R[1],B=Object(o.useState)([]),V=Object(g.a)(B,2),G=(V[0],V[1],Object(o.useState)([])),z=Object(g.a)(G,2),H=(z[0],z[1],function(){var e=Object(b.a)(p.a.mark((function e(t,i){var o;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u({body:{phone:t.phone,email:t.email.trim(),password:t.password,address:t.address.trim(),firstName:t.firstName.trim(),lastName:t.lastName.trim(),additionalInfo:t.additionalInfo.trim(),NID:t.NID,fatherName:t.fatherName.trim(),motherName:t.motherName.trim(),salary:t.salary,designation:t.designation.trim(),joiningDate:F}});case 2:(o=e.sent)&&"ok"===o.status?(l=void 0,Me.a.success({message:l||"Staff Created",description:"",icon:c.a.createElement(De.a,{style:{color:"rgba(0, 128, 0, 0.493)"}})}),console.log("addCustomerRes",o),r([Object(f.a)({id:o._id||"",key:o._id||"",name:o.firstName+" "+o.lastName},o)].concat(Object(fe.a)(n))),a(!1),i.resetForm()):Ju(),i.setSubmitting(!1);case 5:case"end":return e.stop()}var l}),e)})));return function(t,a){return e.apply(this,arguments)}}());Object(o.useEffect)((function(){if(!s.isLoading){var e=s.error;if(e.isError&&Object.keys(e.error).length>0)e.error.registerError||e.error.checkoutError,(Object.values(e.error).length>0?Object.values(e.error):[]).forEach((function(e,t){if("string"===typeof e)Ju(e);else if("object"===typeof e){if(e&&Object.keys(e).length>0)Object.values(e).forEach((function(e){Ju(e)}))}}))}!s.isLoading&&Object.keys(s.data).length>0&&s.data.status}),[s]);Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_({});case 2:(t=e.sent)&&t.length>0&&(a=t.map((function(e){return{value:e.name,name:e.name}})),N(a));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P({urlOptions:{placeHolders:{country:h}}});case 2:(t=e.sent)&&t.length>0&&(a=t.map((function(e){return{value:e.name,name:e.name}})),S(a));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[h]);var W=function(e){a(!1)};console.log("cityListState",L);var q=function(e,t){A(t)};return c.a.createElement(v.a,{onSubmit:function(e,t){return H(e,t)},validationSchema:Yu,validateOnBlur:!1,enableReinitialize:!0,initialValues:Object(f.a)({},Ku)},(function(e){var a=e.handleChange,n=e.values,r=e.handleSubmit,i=e.errors,o=(e.isValid,e.isSubmitting),l=e.touched,u=(e.handleBlur,e.setFieldTouched);e.handleReset;return c.a.createElement(c.a.Fragment,null,c.a.createElement(Ot.a,{style:{top:"40px"},bodyStyle:{margin:"0",padding:"10px"},title:"Add New Staff",visible:t,onOk:function(e){return r(e)},onCancel:W,okText:"Create",okButtonProps:{loading:o,htmlType:"submit"}},c.a.createElement("div",{className:"dubbleRowInputs"},c.a.createElement("div",{className:"dubbleRowInputs__item"},c.a.createElement(C,{label:"First Name *",value:n.firstName,name:"firstName",isError:l.firstName&&i.firstName||!o&&s.error.error.firstName,errorString:l.firstName&&i.firstName||!o&&s.error.error.firstName,onChange:function(e){a(e),u("firstName")}})),c.a.createElement("div",{className:"dubbleRowInputs__item"},c.a.createElement(C,{label:"Last Name",value:n.lastName,name:"lastName",isError:l.lastName&&i.lastName||!o&&s.error.error.lastName,errorString:l.lastName&&i.lastName||!o&&s.error.error.lastName,onChange:function(e){a(e),u("lastName")}}))),c.a.createElement("div",{className:"dubbleRowInputs"},c.a.createElement("div",{className:"dubbleRowInputs__item"},c.a.createElement(C,{label:"Designation *",value:n.designation,name:"designation",isError:l.designation&&i.designation||!o&&s.error.error.designation,errorString:l.designation&&i.designation||!o&&s.error.error.designation,onChange:function(e){a(e),u("designation")}})),c.a.createElement("div",{className:"dubbleRowInputs__item"},c.a.createElement(C,{min:0,type:"number",label:"Salary *",value:n.salary,name:"salary",isError:l.salary&&i.salary||!o&&s.error.error.salary,errorString:l.salary&&i.salary||!o&&s.error.error.salary,onChange:function(e){a(e),u("salary")}}))),c.a.createElement("div",{className:"dubbleRowInputs"},c.a.createElement("div",{className:"dubbleRowInputs__item"},c.a.createElement(C,{label:"Phone *",value:n.phone,name:"phone",isError:l.phone&&i.phone||!o&&s.error.error.phone,errorString:l.phone&&i.phone||!o&&s.error.error.phone,onChange:function(e){a(e),u("phone")}})),c.a.createElement("div",{className:"dubbleRowInputs__item"},c.a.createElement(C,{label:"NID",value:n.NID,name:"NID",isError:l.NID&&i.NID||!o&&s.error.error.NID,errorString:l.NID&&i.NID||!o&&s.error.error.NID,onChange:function(e){a(e),u("NID")}}))),c.a.createElement("div",{className:"dubbleRowInputs"},c.a.createElement("div",{className:"dubbleRowInputs__item"},c.a.createElement(C,{label:"Father Name",value:n.fatherName,name:"fatherName",isError:l.fatherName&&i.fatherName||!o&&s.error.error.fatherName,errorString:l.fatherName&&i.fatherName||!o&&s.error.error.fatherName,onChange:function(e){a(e),u("fatherName")}})),c.a.createElement("div",{className:"dubbleRowInputs__item"},c.a.createElement(C,{label:"Mother Name",value:n.motherName,name:"motherName",isError:l.motherName&&i.motherName||!o&&s.error.error.motherName,errorString:l.motherName&&i.motherName||!o&&s.error.error.motherName,onChange:function(e){a(e),u("motherName")}}))),c.a.createElement("div",{className:"dubbleRowInputs"},c.a.createElement("div",{className:"dubbleRowInputs__item"},c.a.createElement(C,{label:"Email",value:n.email,name:"email",isError:l.email&&i.email||!o&&s.error.error.email,errorString:l.email&&i.email||!o&&s.error.error.email,onChange:function(e){a(e),u("email")}})),c.a.createElement("div",{className:"dubbleRowInputs__item"},c.a.createElement(qu,{date:F,placeholder:"10/20/2020",label:"joining Date",onChange:q}))),c.a.createElement("div",{className:"dubbleRowInputs"},c.a.createElement("div",{className:"dubbleRowInputs__item"},c.a.createElement(C,{label:"Address",value:n.address,name:"address",isError:l.address&&i.address||!o&&s.error.error.address,errorString:l.address&&i.address||!o&&s.error.error.address,onChange:function(e){a(e),u("address")}})),c.a.createElement("div",{className:"dubbleRowInputs__item"},c.a.createElement(C,{label:"Additional Info",value:n.additionalInfo,name:"additionalInfo",isError:l.additionalInfo&&i.additionalInfo||!o&&s.error.error.additionalInfo,errorString:l.additionalInfo&&i.additionalInfo||!o&&s.error.error.additionalInfo,onChange:function(e){a(e),u("additionalInfo")}})))))}))},Xu=(Ge.a.Option,y.a().shape({})),Zu={firstName:"",lastName:"",address:"",salary:null,designation:"",fatherName:"",motherName:"",NID:"",phone:"",email:"",additionalInfo:"",joiningDate:""},$u=function(e){Me.a.error({message:e||"Something Went Wrong",description:"",icon:c.a.createElement(Ct.a,{style:{color:"rgb(241, 67, 67)"}})})},em=function(e){var t=e.addNewCategoryVisible,a=e.setAddNewCategoryVisible,n=e.customerList,r=e.setCustomerList,i=e.customer,l=U({},"updateStaff"),s=Object(g.a)(l,2),u=s[0],m=s[1],d=Object(o.useState)(""),h=Object(g.a)(d,2),E=h[0],y=(h[1],Object(o.useState)("")),O=Object(g.a)(y,2),j=(O[0],O[1],Object(o.useState)([])),N=Object(g.a)(j,2),x=(N[0],N[1]),k=Object(o.useState)([]),S=Object(g.a)(k,2),w=(S[0],S[1]),T=U([],"countryList"),_=Object(g.a)(T,2),D=(_[0],_[1]),I=U([],"cityList"),L=Object(g.a)(I,2),P=L[0],M=L[1],R=Object(o.useState)(""),F=Object(g.a)(R,2),A=F[0],B=F[1];Object(o.useEffect)((function(){i&&Object.keys(i).length>0&&B(i.joiningDate)}),[i]);var V=Object(o.useState)([]),G=Object(g.a)(V,2),z=(G[0],G[1],Object(o.useState)([])),H=Object(g.a)(z,2),W=(H[0],H[1],function(){var e=Object(b.a)(p.a.mark((function e(t,o){var l,s,u,d;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m({urlOptions:{placeHolders:{id:i.id}},body:{phone:t.phone,email:t.email.trim(),address:t.address.trim(),firstName:t.firstName.trim(),lastName:t.lastName.trim(),additionalInfo:t.additionalInfo.trim(),NID:t.NID,fatherName:t.fatherName.trim(),motherName:t.motherName.trim(),salary:t.salary,designation:t.designation.trim(),joiningDate:A}});case 2:(l=e.sent)&&"ok"===l.status?(p=void 0,Me.a.success({message:p||"Staff Updated",description:"",icon:c.a.createElement(De.a,{style:{color:"rgba(0, 128, 0, 0.493)"}})}),console.log("addCustomerREes",l),s=function(){return n.map((function(e){return e.id})).indexOf(i.id)}(),u=Object.assign({},n[s],Object(f.a)({},l,{name:l.firstName+" "+l.lastName})),console.log("updatedItemaddCustomerREes",l),d=[].concat(Object(fe.a)(n.slice(0,s)),[u],Object(fe.a)(n.slice(s+1))),console.log("updatedItemadUpdatedList",d),r(d),a(!1),B(""),o.resetForm()):$u(),o.setSubmitting(!1);case 5:case"end":return e.stop()}var p}),e)})));return function(t,a){return e.apply(this,arguments)}}());Object(o.useEffect)((function(){if(!u.isLoading){var e=u.error;if(e.isError&&Object.keys(e.error).length>0)e.error.registerError||e.error.checkoutError,(Object.values(e.error).length>0?Object.values(e.error):[]).forEach((function(e,t){if("string"===typeof e)$u(e);else if("object"===typeof e){if(e&&Object.keys(e).length>0)Object.values(e).forEach((function(e){$u(e)}))}}))}!u.isLoading&&Object.keys(u.data).length>0&&u.data.status}),[u]);Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D({});case 2:(t=e.sent)&&t.length>0&&(a=t.map((function(e){return{value:e.name,name:e.name}})),x(a));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M({urlOptions:{placeHolders:{country:E}}});case 2:(t=e.sent)&&t.length>0&&(a=t.map((function(e){return{value:e.name,name:e.name}})),w(a));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[E]);var q=function(e){a(!1),B("")};console.log("cityListState",P);var Y=function(e,t){B(t)};return c.a.createElement(v.a,{onSubmit:function(e,t){return W(e,t)},validationSchema:Xu,validateOnBlur:!1,enableReinitialize:!0,initialValues:Object(f.a)({},Zu,{},i)},(function(e){var a=e.handleChange,n=e.values,r=e.handleSubmit,i=e.errors,o=(e.isValid,e.isSubmitting),l=e.touched,s=(e.handleBlur,e.setFieldTouched);e.handleReset;return c.a.createElement(c.a.Fragment,null,c.a.createElement(Ot.a,{style:{top:"40px"},bodyStyle:{margin:"0",padding:"10px"},title:"Add New Staff",visible:t,onOk:function(e){return r(e)},onCancel:q,okText:"Update",okButtonProps:{loading:o,htmlType:"submit"}},c.a.createElement("div",{className:"dubbleRowInputs"},c.a.createElement("div",{className:"dubbleRowInputs__item"},c.a.createElement(C,{label:"First Name *",value:n.firstName,name:"firstName",isError:l.firstName&&i.firstName||!o&&u.error.error.firstName,errorString:l.firstName&&i.firstName||!o&&u.error.error.firstName,onChange:function(e){a(e),s("firstName")}})),c.a.createElement("div",{className:"dubbleRowInputs__item"},c.a.createElement(C,{label:"Last Name",value:n.lastName,name:"lastName",isError:l.lastName&&i.lastName||!o&&u.error.error.lastName,errorString:l.lastName&&i.lastName||!o&&u.error.error.lastName,onChange:function(e){a(e),s("lastName")}}))),c.a.createElement("div",{className:"dubbleRowInputs"},c.a.createElement("div",{className:"dubbleRowInputs__item"},c.a.createElement(C,{label:"Designation *",value:n.designation,name:"designation",isError:l.designation&&i.designation||!o&&u.error.error.designation,errorString:l.designation&&i.designation||!o&&u.error.error.designation,onChange:function(e){a(e),s("designation")}})),c.a.createElement("div",{className:"dubbleRowInputs__item"},c.a.createElement(C,{min:0,type:"number",label:"Salary *",value:n.salary,name:"salary",isError:l.salary&&i.salary||!o&&u.error.error.salary,errorString:l.salary&&i.salary||!o&&u.error.error.salary,onChange:function(e){a(e),s("salary")}}))),c.a.createElement("div",{className:"dubbleRowInputs"},c.a.createElement("div",{className:"dubbleRowInputs__item"},c.a.createElement(C,{label:"Phone *",value:n.phone,name:"phone",isError:l.phone&&i.phone||!o&&u.error.error.phone,errorString:l.phone&&i.phone||!o&&u.error.error.phone,onChange:function(e){a(e),s("phone")}})),c.a.createElement("div",{className:"dubbleRowInputs__item"},c.a.createElement(C,{label:"NID",value:n.NID,name:"NID",isError:l.NID&&i.NID||!o&&u.error.error.NID,errorString:l.NID&&i.NID||!o&&u.error.error.NID,onChange:function(e){a(e),s("NID")}}))),c.a.createElement("div",{className:"dubbleRowInputs"},c.a.createElement("div",{className:"dubbleRowInputs__item"},c.a.createElement(C,{label:"Father Name",value:n.fatherName,name:"fatherName",isError:l.fatherName&&i.fatherName||!o&&u.error.error.fatherName,errorString:l.fatherName&&i.fatherName||!o&&u.error.error.fatherName,onChange:function(e){a(e),s("fatherName")}})),c.a.createElement("div",{className:"dubbleRowInputs__item"},c.a.createElement(C,{label:"Mother Name",value:n.motherName,name:"motherName",isError:l.motherName&&i.motherName||!o&&u.error.error.motherName,errorString:l.motherName&&i.motherName||!o&&u.error.error.motherName,onChange:function(e){a(e),s("motherName")}}))),c.a.createElement("div",{className:"dubbleRowInputs"},c.a.createElement("div",{className:"dubbleRowInputs__item"},c.a.createElement(C,{label:"Email",value:n.email,name:"email",isError:l.email&&i.email||!o&&u.error.error.email,errorString:l.email&&i.email||!o&&u.error.error.email,onChange:function(e){a(e),s("email")}})),c.a.createElement("div",{className:"dubbleRowInputs__item"},c.a.createElement(qu,{date:A,placeholder:"10/20/2020",label:"joining Date",onChange:Y}))),c.a.createElement("div",{className:"dubbleRowInputs"},c.a.createElement("div",{className:"dubbleRowInputs__item"},c.a.createElement(C,{label:"Address",value:n.address,name:"address",isError:l.address&&i.address||!o&&u.error.error.address,errorString:l.address&&i.address||!o&&u.error.error.address,onChange:function(e){a(e),s("address")}})),c.a.createElement("div",{className:"dubbleRowInputs__item"},c.a.createElement(C,{label:"Additional Info",value:n.additionalInfo,name:"additionalInfo",isError:l.additionalInfo&&i.additionalInfo||!o&&u.error.error.additionalInfo,errorString:l.additionalInfo&&i.additionalInfo||!o&&u.error.error.additionalInfo,onChange:function(e){a(e),s("additionalInfo")}})))))}))},tm=ot.a.Column,am=(ot.a.ColumnGroup,O.a.Search),nm=function(e){var t=e.data,a=e.setCustomerList,n=Object(o.useState)(!1),r=Object(g.a)(n,2),i=r[0],l=r[1],s=Object(o.useState)(!1),u=Object(g.a)(s,2),m=u[0],d=u[1],f=Object(_e.g)(),h=U({},"deleteStaff"),E=Object(g.a)(h,2),v=(E[0],E[1]),y=function(){var e=Object(b.a)(p.a.mark((function e(n){var r,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v({urlOptions:{placeHolders:{id:n}}});case 2:(r=e.sent)&&"ok"===r.status&&(o="Deleted Staff",Me.a.success({message:o||"Staffs Created",description:"",icon:c.a.createElement(De.a,{style:{color:"rgba(0, 128, 0, 0.493)"}})}),i=t.filter((function(e){return e.id!==n})),a(i));case 4:case"end":return e.stop()}var o}),e)})));return function(t){return e.apply(this,arguments)}}();return c.a.createElement(c.a.Fragment,null,c.a.createElement(ot.a,{size:"small",dataSource:t},c.a.createElement(tm,{title:"Name",dataIndex:"name",key:"id",className:"classnameofthecolumn",render:function(e,t){return c.a.createElement(c.a.Fragment,null,c.a.createElement("h4",{onClick:function(){f.push("/admin/staff/".concat(t.id)),d(t)},style:{fontWeight:400,color:"#555",cursor:"pointer"}},e))}}),c.a.createElement(tm,{title:"Phone",dataIndex:"phone",key:"id",className:"classnameofthecolumn"}),c.a.createElement(tm,{title:"Designation",dataIndex:"designation",key:"id",className:"classnameofthecolumn"}),c.a.createElement(tm,{title:"Salary",dataIndex:"salary",key:"id",className:"classnameofthecolumn"}),c.a.createElement(tm,{title:"Joined",dataIndex:"joiningDate",key:"id",className:"classnameofthecolumn",render:function(e,t){return c.a.createElement(dt.a,{size:"middle"},c.a.createElement("h5",null,e&&_()(e).format("MMMM Do YYYY, h:mm a")))}}),c.a.createElement(tm,{className:"classnameofthecolumn",title:"",key:"action",align:"right",render:function(e,t){return c.a.createElement(dt.a,{size:"middle"},c.a.createElement("a",{href:"##"},c.a.createElement(pt.a,{placement:"top",title:"Edit Staff"},c.a.createElement("span",{className:"iconSize",onClick:function(){l(!0),d(t)}},c.a.createElement(gt.a,null)))),c.a.createElement(bt.a,{onConfirm:function(){return y(t.id)},title:"Are you sure\uff1f",okText:"Yes",cancelText:"No"},c.a.createElement("span",{className:"iconSize iconSize-danger"},c.a.createElement(ft.a,null))))}})),m&&c.a.createElement(em,{customerList:t,setCustomerList:a,setAddNewCategoryVisible:l,addNewCategoryVisible:i,customer:m}))},rm=Object(_e.i)((function(e){e.history;var t=Object(o.useState)([]),a=Object(g.a)(t,2),n=a[0],r=a[1],i=U({},"staffList"),l=Object(g.a)(i,2),s=l[0],u=l[1];console.log("staffList",s),Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u({});case 2:t=e.sent,r(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var m=Object(o.useState)(!1),d=Object(g.a)(m,2),f=d[0],h=d[1],v=n&&n.length>0?n.map((function(e){return{name:e.name,phone:e.phone,designation:e.designation,salary:e.salary,joiningDate:e.joiningDate?_()(e.joiningDate).format("MMMM Do YYYY, h:mm a"):""}})):[];return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"categoryListContainer"},c.a.createElement("div",{className:"categoryListContainer__header"},c.a.createElement("div",{className:"categoryListContainer__header-searchBar"},c.a.createElement("h2",{className:"categoryListContainer__header-title"},"Staffs"),c.a.createElement(am,{enterButton:!1,className:"searchbarClassName",placeholder:"search staffs..",onChange:function(e){return function(e){if(s.data.length>0){var t=s.data.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())}));r(t)}}(e.target.value)}})),c.a.createElement("div",{style:{display:"flex",alignItems:"center"}},n&&n.length>0&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{style:{display:"flex",alignItems:"center",marginRight:"25px"}},c.a.createElement(Ri.CSVLink,{filename:"staff-list.csv",data:v,headers:[{label:"Name",key:"name"},{label:"Phone",key:"phone"},{label:"Designation",key:"designation"},{label:"Salary",key:"salary"},{label:"joined",key:"joiningDate"}]},"Export as csv"),c.a.createElement("span",{style:{color:"#1890ff",marginLeft:"10px"}},c.a.createElement(xn.a,null)))),c.a.createElement(E.a,{className:"btnPrimaryClassNameoutline",icon:c.a.createElement(ht.a,null),onClick:function(){return h(!0)}},"Add New"))),c.a.createElement("div",{className:"categoryListContainer__afterHeader"}),c.a.createElement("div",{className:"categoryListContainer__categoryList"},s.done&&n.length>0&&c.a.createElement(nm,{setCustomerList:r,data:n}),s.isLoading&&c.a.createElement(ta,null),s.done&&!(n.length>0)&&c.a.createElement(Te,{title:"No Staff found"}))),s.done&&c.a.createElement(Qu,{setCustomerList:r,addNewCategoryVisible:f,setAddNewCategoryVisible:h,customerList:s.data}))})),im=(Ge.a.Option,y.a().shape({})),om={firstName:"",lastName:"",address:"",salary:null,designation:"",fatherName:"",motherName:"",NID:"",phone:"",email:"",additionalInfo:"",joiningDate:""},cm=function(e){Me.a.error({message:e||"Something Went Wrong",description:"",icon:c.a.createElement(Ct.a,{style:{color:"rgb(241, 67, 67)"}})})},lm=function(e){var t=e.addNewCategoryVisible,a=e.setAddNewCategoryVisible,n=e.customer,r=e.setCustomer,i=U({},"updateStaff"),l=Object(g.a)(i,2),s=l[0],u=l[1],m=Object(o.useState)(""),d=Object(g.a)(m,2),h=d[0],E=(d[1],Object(o.useState)("")),y=Object(g.a)(E,2),O=(y[0],y[1],Object(o.useState)([])),j=Object(g.a)(O,2),N=(j[0],j[1]),x=Object(o.useState)([]),k=Object(g.a)(x,2),S=(k[0],k[1]),w=U([],"countryList"),T=Object(g.a)(w,2),_=(T[0],T[1]),D=U([],"cityList"),I=Object(g.a)(D,2),L=I[0],P=I[1],M=Object(o.useState)(""),R=Object(g.a)(M,2),F=R[0],A=R[1];Object(o.useEffect)((function(){n&&Object.keys(n).length>0&&A(n.joiningDate)}),[n]);var B=function(){var e=Object(b.a)(p.a.mark((function e(t,i){var o;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u({urlOptions:{placeHolders:{id:n.id}},body:{phone:t.phone,email:t.email.trim(),address:t.address.trim(),firstName:t.firstName.trim(),lastName:t.lastName.trim(),additionalInfo:t.additionalInfo.trim(),NID:t.NID,fatherName:t.fatherName.trim(),motherName:t.motherName.trim(),salary:t.salary,designation:t.designation.trim(),joiningDate:F}});case 2:(o=e.sent)&&"ok"===o.status?(l=void 0,Me.a.success({message:l||"Staff Updated",description:"",icon:c.a.createElement(De.a,{style:{color:"rgba(0, 128, 0, 0.493)"}})}),r(Object(f.a)({},o,{name:o.firstName+" "+o.lastName})),a(!1),i.resetForm()):cm(),i.setSubmitting(!1);case 5:case"end":return e.stop()}var l}),e)})));return function(t,a){return e.apply(this,arguments)}}();Object(o.useEffect)((function(){if(!s.isLoading){var e=s.error;if(e.isError&&Object.keys(e.error).length>0)e.error.registerError||e.error.checkoutError,(Object.values(e.error).length>0?Object.values(e.error):[]).forEach((function(e,t){if("string"===typeof e)cm(e);else if("object"===typeof e){if(e&&Object.keys(e).length>0)Object.values(e).forEach((function(e){cm(e)}))}}))}!s.isLoading&&Object.keys(s.data).length>0&&s.data.status}),[s]);Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_({});case 2:(t=e.sent)&&t.length>0&&(a=t.map((function(e){return{value:e.name,name:e.name}})),N(a));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P({urlOptions:{placeHolders:{country:h}}});case 2:(t=e.sent)&&t.length>0&&(a=t.map((function(e){return{value:e.name,name:e.name}})),S(a));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[h]);var V=function(e){a(!1)};console.log("cityListState",L);var G=function(e,t){A(t)};return c.a.createElement(v.a,{onSubmit:function(e,t){return B(e,t)},validationSchema:im,validateOnBlur:!1,enableReinitialize:!0,initialValues:Object(f.a)({},om,{},n)},(function(e){var a=e.handleChange,n=e.values,r=e.handleSubmit,i=e.errors,o=(e.isValid,e.isSubmitting),l=e.touched,u=(e.handleBlur,e.setFieldTouched);e.handleReset;return c.a.createElement(c.a.Fragment,null,c.a.createElement(Ot.a,{style:{top:"40px"},bodyStyle:{margin:"0",padding:"10px"},title:"Add New Staff",visible:t,onOk:function(e){return r(e)},onCancel:V,okText:"Update",okButtonProps:{loading:o,htmlType:"submit"}},c.a.createElement("div",{className:"dubbleRowInputs"},c.a.createElement("div",{className:"dubbleRowInputs__item"},c.a.createElement(C,{label:"First Name *",value:n.firstName,name:"firstName",isError:l.firstName&&i.firstName||!o&&s.error.error.firstName,errorString:l.firstName&&i.firstName||!o&&s.error.error.firstName,onChange:function(e){a(e),u("firstName")}})),c.a.createElement("div",{className:"dubbleRowInputs__item"},c.a.createElement(C,{label:"Last Name",value:n.lastName,name:"lastName",isError:l.lastName&&i.lastName||!o&&s.error.error.lastName,errorString:l.lastName&&i.lastName||!o&&s.error.error.lastName,onChange:function(e){a(e),u("lastName")}}))),c.a.createElement("div",{className:"dubbleRowInputs"},c.a.createElement("div",{className:"dubbleRowInputs__item"},c.a.createElement(C,{label:"Designation *",value:n.designation,name:"designation",isError:l.designation&&i.designation||!o&&s.error.error.designation,errorString:l.designation&&i.designation||!o&&s.error.error.designation,onChange:function(e){a(e),u("designation")}})),c.a.createElement("div",{className:"dubbleRowInputs__item"},c.a.createElement(C,{min:0,type:"number",label:"Salary *",value:n.salary,name:"salary",isError:l.salary&&i.salary||!o&&s.error.error.salary,errorString:l.salary&&i.salary||!o&&s.error.error.salary,onChange:function(e){a(e),u("salary")}}))),c.a.createElement("div",{className:"dubbleRowInputs"},c.a.createElement("div",{className:"dubbleRowInputs__item"},c.a.createElement(C,{label:"Phone *",value:n.phone,name:"phone",isError:l.phone&&i.phone||!o&&s.error.error.phone,errorString:l.phone&&i.phone||!o&&s.error.error.phone,onChange:function(e){a(e),u("phone")}})),c.a.createElement("div",{className:"dubbleRowInputs__item"},c.a.createElement(C,{label:"NID",value:n.NID,name:"NID",isError:l.NID&&i.NID||!o&&s.error.error.NID,errorString:l.NID&&i.NID||!o&&s.error.error.NID,onChange:function(e){a(e),u("NID")}}))),c.a.createElement("div",{className:"dubbleRowInputs"},c.a.createElement("div",{className:"dubbleRowInputs__item"},c.a.createElement(C,{label:"Father Name",value:n.fatherName,name:"fatherName",isError:l.fatherName&&i.fatherName||!o&&s.error.error.fatherName,errorString:l.fatherName&&i.fatherName||!o&&s.error.error.fatherName,onChange:function(e){a(e),u("fatherName")}})),c.a.createElement("div",{className:"dubbleRowInputs__item"},c.a.createElement(C,{label:"Mother Name",value:n.motherName,name:"motherName",isError:l.motherName&&i.motherName||!o&&s.error.error.motherName,errorString:l.motherName&&i.motherName||!o&&s.error.error.motherName,onChange:function(e){a(e),u("motherName")}}))),c.a.createElement("div",{className:"dubbleRowInputs"},c.a.createElement("div",{className:"dubbleRowInputs__item"},c.a.createElement(C,{label:"Email",value:n.email,name:"email",isError:l.email&&i.email||!o&&s.error.error.email,errorString:l.email&&i.email||!o&&s.error.error.email,onChange:function(e){a(e),u("email")}})),c.a.createElement("div",{className:"dubbleRowInputs__item"},c.a.createElement(qu,{date:F,placeholder:"10/20/2020",label:"joining Date",onChange:G}))),c.a.createElement("div",{className:"dubbleRowInputs"},c.a.createElement("div",{className:"dubbleRowInputs__item"},c.a.createElement(C,{label:"Address",value:n.address,name:"address",isError:l.address&&i.address||!o&&s.error.error.address,errorString:l.address&&i.address||!o&&s.error.error.address,onChange:function(e){a(e),u("address")}})),c.a.createElement("div",{className:"dubbleRowInputs__item"},c.a.createElement(C,{label:"Additional Info",value:n.additionalInfo,name:"additionalInfo",isError:l.additionalInfo&&i.additionalInfo||!o&&s.error.error.additionalInfo,errorString:l.additionalInfo&&i.additionalInfo||!o&&s.error.error.additionalInfo,onChange:function(e){a(e),u("additionalInfo")}})))))}))},sm=(ot.a.Column,ot.a.ColumnGroup,O.a.Search,function(e){var t=U({},"staffDetail"),a=Object(g.a)(t,2),n=a[0],r=a[1],i=U({},"tagProducts"),l=Object(g.a)(i,2),s=l[0],u=l[1],m=Object(o.useState)(!1),d=Object(g.a)(m,2),f=d[0],h=d[1],v=Object(_e.h)(),y=v.id,O=Object(o.useState)({}),j=Object(g.a)(O,2),C=j[0],N=j[1];return Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r({urlOptions:{placeHolders:{id:y}}});case 2:(t=e.sent)&&N(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[y]),Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u({urlOptions:{placeHolders:{id:y}}});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[y]),console.log("tagProductsState",s),console.log("brandParams",v),console.log("staffDetail",n),c.a.createElement("div",{className:"brandDetailContainer"},c.a.createElement("div",{className:"brandDetailContainer__heading"},c.a.createElement("h3",null,"Staff Detail"),n.done&&C&&Object.keys(C).length>0&&c.a.createElement(c.a.Fragment,null,c.a.createElement(lm,{addNewCategoryVisible:f,setAddNewCategoryVisible:h,customer:C,setCustomer:N}),c.a.createElement(E.a,{onClick:function(){return h(!0)},type:"link",icon:c.a.createElement(gt.a,null)},"Edit"))),c.a.createElement(ma.a,{paragraph:{rows:2},loading:n.isLoading},n.done&&C&&!(Object.keys(C).length>0)&&c.a.createElement(we.a,{description:"No Staffs found",image:we.a.PRESENTED_IMAGE_SIMPLE}),n.done&&C&&Object.keys(C).length>0&&c.a.createElement("div",{className:"brandDetailContainer__header"},c.a.createElement("div",{className:"brandDetailContainer__header-info"},c.a.createElement("h2",null,C.name),c.a.createElement("h3",null,C.description),C.designation&&c.a.createElement("h3",null,"DESIGNATION:",c.a.createElement("span",null,C.designation)),C.salary&&c.a.createElement("h3",null,"SALARY:",c.a.createElement("span",null,C.salary)),C.NID&&c.a.createElement("h3",null,"NID:",c.a.createElement("span",null,C.NID)),C.joiningDate&&c.a.createElement("h3",null,"JOINED:",c.a.createElement("span",null,C.joiningDate&&_()(C.joiningDate).format("MMMM Do YYYY, h:mm a"))),C.fatherName&&c.a.createElement("h3",null,"FATHER'S NAME:",c.a.createElement("span",null,C.fatherName)),C.motherName&&c.a.createElement("h3",null,"MOTHER'S NAME:",c.a.createElement("span",null,C.motherName)),C.phone&&c.a.createElement("h3",null,"PHONE:",c.a.createElement("span",null,C.phone)),C.email&&c.a.createElement("h3",null,"EMAIL:",c.a.createElement("span",null,C.email))))))}),um=a(957),mm=function(e){var t=e.setItemsList,a=e.itemsList,n=e.componentItem,r=(e.brandState,e.index),i=Object(o.useState)(""),l=Object(g.a)(i,2),s=l[0],u=(l[1],function(e){var r,i=e.target.name,o=e.target.value,c=Object(f.a)({},n,(r={},Object(ge.a)(r,i,o),Object(ge.a)(r,"id",n.id),r)),l=a.map((function(e){return e.id})).indexOf(n.id),s=[].concat(Object(fe.a)(a.slice(0,l)),[c],Object(fe.a)(a.slice(l+1)));t(s)});Object(o.useEffect)((function(){var e=Object(f.a)({},n,{_id:s,id:n.id}),r=a.map((function(e){return e.id})).indexOf(n.id),i=[].concat(Object(fe.a)(a.slice(0,r)),[e],Object(fe.a)(a.slice(r+1)));t(i)}),[s]);return console.log("componentItem322",n),c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"staffComponentItemsContainer__item"},c.a.createElement("div",{className:"staffComponentItemsContainer__name",style:{marginTop:0===r?"-5px":"-35px"}},!r&&c.a.createElement("h3",{className:"inputFieldLabel-small",style:{}},"Name"),c.a.createElement("h4",{style:{margin:0,padding:0,textTransform:"uppercase",fontSize:"13px",marginTop:"33px"}},n.name)),c.a.createElement("div",{style:{marginTop:0===r?"-5px":"-35px"},className:"staffComponentItemsContainer__salary"},!r&&c.a.createElement("h3",{className:"inputFieldLabel-small",style:{}},"Salary"),c.a.createElement("h5",{style:{margin:0,padding:0,fontSize:"12px",marginTop:"33px"}},n.salary)),c.a.createElement("div",{className:"staffComponentItemsContainer__input"},!r&&c.a.createElement("h3",{className:"inputFieldLabel-small",style:{marginBottom:"20px"}},"Bonus"),c.a.createElement("div",null,c.a.createElement(xa,{type:"number",label:"",value:n.title,name:"bonus",onChange:u}))),c.a.createElement("div",{className:"staffComponentItemsContainer__input"},!r&&c.a.createElement("h3",{className:"inputFieldLabel-small",style:{marginBottom:"20px"}},"Convince"),c.a.createElement(xa,{type:"number",label:"",value:n.text,name:"convince",onChange:u})),c.a.createElement("div",{className:"staffComponentItemsContainer__input"},!r&&c.a.createElement("h3",{className:"inputFieldLabel-small",style:{marginBottom:"20px"}},"Extra"),c.a.createElement(xa,{type:"number",label:"",value:n.target,name:"extra",onChange:u})),c.a.createElement("div",{className:"staffComponentItemsContainer__input"},!r&&c.a.createElement("h3",{className:"inputFieldLabel-small",style:{marginBottom:"20px"}},"Negative"),c.a.createElement(xa,{type:"number",label:"",value:n.target,name:"negative",onChange:u})),c.a.createElement("div",{onClick:function(){return function(){var e=a.filter((function(e){return e.id!==n.id}));t(e)}()},className:"staffComponentItemsContainer__input",style:{marginTop:0===r?"15px":"-10px"}},c.a.createElement("span",{style:{color:"rgba(255, 166, 0, 0.733)",cursor:"pointer"}},c.a.createElement(ft.a,null)))))},dm=y.a().shape({}),pm=function(e){Me.a.success({message:e||"Something Went Wrong",description:"",icon:c.a.createElement(Ct.a,{style:{color:"rgb(241, 67, 67)"}})})},bm={groupName:"",items:[]},gm=function(e){e.addNewCategoryVisible;var t=e.setAddNewCategoryVisible,a=e.componentList,n=e.setComponentList,r=U({},"generateSalaryReport"),i=Object(g.a)(r,2),l=i[0],s=i[1],u=U({},"staffList"),m=Object(g.a)(u,2),d=m[0],h=m[1];Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h({});case 2:e.sent;case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var y=Object(o.useState)(!1),O=Object(g.a)(y,2),C=(O[0],O[1],Object(o.useState)([])),N=Object(g.a)(C,2),x=N[0],k=N[1],S=Object(o.useState)(""),w=Object(g.a)(S,2),T=(w[0],w[1],Object(o.useState)("")),D=Object(g.a)(T,2),I=D[0],L=D[1];console.log("salaryReportItemList",x);var P=function(){var e=Object(b.a)(p.a.mark((function e(r,i){var o,l,u,m,d;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=I?I.split("-")[0]:"",l=I?I.split("-")[1]&&I.split("-")[1][0]&&"0"===I.split("-")[1][0]?I.split("-")[1][1]:I.split("-")[1]:"",u=x&&x.length>0?x.map((function(e){return Object(f.a)({},e,{bonus:e.bonus?+e.bonus:0,convince:e.convince?+e.convince:0,extra:e.extra?+e.extra:0,negative:e.negative?+e.negative:0,id:"".concat(x.length)})})):[],m={month:l?+l:"",year:o?+o:"",staff:u},e.next=6,s({body:m});case 6:(d=e.sent)&&"ok"===d.status?(r=void 0,Me.a.success({message:r||"Salary report Created",description:"",icon:c.a.createElement(De.a,{style:{color:"rgba(0, 128, 0, 0.493)"}})}),n([Object(f.a)({id:d._id||"",key:d._id||""},d)].concat(Object(fe.a)(a))),i.resetForm(),k([]),L(""),t(!1)):pm(),i.setSubmitting(!1);case 9:case"end":return e.stop()}var r}),e)})));return function(t,a){return e.apply(this,arguments)}}();Object(o.useEffect)((function(){if(!l.isLoading){var e=l.error;if(e.isError&&Object.keys(e.error).length>0)(Object.values(e.error).length>0?Object.values(e.error):[]).forEach((function(e,t){if("string"===typeof e)pm(e);else if("object"===typeof e){if(e&&Object.keys(e).length>0)Object.values(e).forEach((function(e){pm(e)}))}}))}}),[l]);Object(o.useEffect)((function(){if(d.done&&d.data&&d.data.length>0){var e=d.data.map((function(e){return Object(f.a)({},e,{_id:e._id,bonus:e.bonus,convince:e.convince,extra:e.extra,negative:e.negative})}));k(e)}}),[d.data]);var M=function(e,t){L(t)};return c.a.createElement(c.a.Fragment,null,c.a.createElement(v.a,{onSubmit:function(e,t){return P(e,t)},validationSchema:dm,validateOnBlur:!1,enableReinitialize:!0,initialValues:Object(f.a)({},bm)},(function(e){e.handleChange,e.values;var a=e.handleSubmit;e.errors,e.isValid,e.isSubmitting,e.touched,e.handleBlur,e.setFieldTouched,e.handleReset;return c.a.createElement(c.a.Fragment,null,c.a.createElement(j.a.Item,{validateStatus:l.error.error.year||l.error.error.month?"error":"",help:l.error.error.year||l.error.error.month},c.a.createElement("h3",{className:"inputFieldLabel"},"Time"),c.a.createElement(ze.a,Object.assign({picker:"month",placeholder:"2020, Jan",className:"inputclassName",style:{width:"100%",borderColor:"#eee"},onChange:M},I&&{defaultValue:_()(I)}))),c.a.createElement("div",{style:{marginTop:"25px"}}),x&&x[0]&&c.a.createElement("h3",{className:"addOrderContainer-sectionTitle"},c.a.createElement("span",null,c.a.createElement(um.a,null)),"Staffs"),c.a.createElement("div",{style:{marginTop:"15px"}}),c.a.createElement("div",{className:"staffComponentItemsContainer"},x.map((function(e,t){return c.a.createElement(mm,{index:t,brandState:d,componentItem:e,itemsList:x,setItemsList:k})})),d.done&&x&&!x[0]&&c.a.createElement("div",{style:{marginTop:"5px",width:"100%",display:"flex",justifyContent:"center"}},c.a.createElement(we.a,{description:"No Staff",image:we.a.PRESENTED_IMAGE_SIMPLE})),d.isLoading&&c.a.createElement("div",{style:{padding:"15px 0",width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"}},c.a.createElement(Re.a,null))),c.a.createElement("div",{style:{padding:"15px",display:"flex",justifyContent:"flex-end"}},c.a.createElement(E.a,{style:{color:"#555",marginRight:"10px"},className:"btnPrimaryClassNameoutline-cancle",onClick:function(){return t(!1)},type:"default"},"Cancel"),c.a.createElement(E.a,{className:"btnPrimaryClassNameoutline",onClick:a,loading:l.isLoading,type:"link",icon:c.a.createElement(xt.a,null)},"Generate")))})))},fm=function(e){var t=e.addNewCategoryVisible,a=e.setAddNewCategoryVisible,n=e.componentList,r=e.setComponentList;return c.a.createElement(Ot.a,{style:{top:"40px"},title:"Add Salary Report",visible:t,onCancel:function(){a(!1)},destroyOnClose:!0,footer:!1,width:"80vw",bodyStyle:{margin:"0",padding:"10px"}},c.a.createElement(gm,{addNewCategoryVisible:t,setAddNewCategoryVisible:a,componentList:n,setComponentList:r}))},hm=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Em=function(e){Me.a.success({message:e||"Expense Created",description:"",icon:c.a.createElement(De.a,{style:{color:"rgba(0, 128, 0, 0.493)"}})})},vm=(y.a().shape({name:y.c().label("Name").required("Name is required").min(3,"Name must have at least 3 characters")}),ot.a.Column),ym=(ot.a.ColumnGroup,O.a.Search,function(e){var t=e.data,a=e.setTagList,n=Object(o.useState)(!1),r=Object(g.a)(n,2),i=(r[0],r[1],Object(o.useState)(!1)),l=Object(g.a)(i,2),s=(l[0],l[1],U({},"deleteSalaryReport")),u=Object(g.a)(s,2),m=(u[0],u[1]),d=Object(_e.g)(),f=function(){var e=Object(b.a)(p.a.mark((function e(n){var r,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m({urlOptions:{placeHolders:{id:n}}});case 2:(r=e.sent)&&"ok"===r.status&&(Em("Deleted Salary report"),i=t.filter((function(e){return e.id!==n})),a(i));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return c.a.createElement(c.a.Fragment,null,c.a.createElement(ot.a,{size:"small",dataSource:t},c.a.createElement(vm,{title:"Year",dataIndex:"year",key:"id",className:"classnameofthecolumn",render:function(e,t){return c.a.createElement(c.a.Fragment,null,c.a.createElement("h4",{onClick:function(){d.push("/admin/salaryReport/".concat(t.id))},style:{fontWeight:400,color:"#555",cursor:"pointer"}},e))}}),c.a.createElement(vm,{title:"Month",dataIndex:"month",key:"id",className:"classnameofthecolumn",render:function(e,t){return c.a.createElement(c.a.Fragment,null,c.a.createElement("h4",{onClick:function(){d.push("/admin/salaryReport/".concat(t.id))},style:{fontWeight:400,color:"#555",cursor:"pointer"}},e&&hm[e]))}}),c.a.createElement(vm,{title:"Total Salary",dataIndex:"totalSalary",key:"id",className:"classnameofthecolumn"}),c.a.createElement(vm,{title:"Total Bonus",dataIndex:"totalBonus",key:"id",className:"classnameofthecolumn"}),c.a.createElement(vm,{title:"Total Extra",dataIndex:"totalExtra",key:"id",className:"classnameofthecolumn"}),c.a.createElement(vm,{title:"Total Convince",dataIndex:"totalConvince",key:"id",className:"classnameofthecolumn"}),c.a.createElement(vm,{className:"classnameofthecolumn",title:"",key:"action",align:"right",render:function(e,t){return c.a.createElement(dt.a,{size:"middle"},c.a.createElement(bt.a,{onConfirm:function(){return f(t.id)},title:"Are you sure\uff1f",okText:"Yes",cancelText:"No"},c.a.createElement("span",{className:"iconSize iconSize-danger"},c.a.createElement(ft.a,null))))}})))}),Om=function(e){Object(h.a)(e);var t=Object(o.useState)([]),a=Object(g.a)(t,2),n=a[0],r=a[1];console.log("salaryReport4",n);var i=U({},"getSalaryReport"),l=Object(g.a)(i,2),s=l[0],u=l[1];Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u({});case 2:t=e.sent,r(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var m=U({},"addTag"),d=Object(g.a)(m,2),f=(d[0],d[1],Object(o.useState)(!1)),v=Object(g.a)(f,2),y=v[0],O=v[1],j=n&&n.length>0?n.map((function(e){return{year:e.year,month:e.month?hm[e.month]:"",totalSalary:e.totalSalary,totalBonus:e.totalBonus,totalConvince:e.totalConvince,totalExtra:e.totalExtra,totalNegative:e.totalNegative}})):[];return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"categoryListContainer"},c.a.createElement("div",{className:"categoryListContainer__header"},c.a.createElement("div",{className:"categoryListContainer__header-searchBar-tag"},c.a.createElement("h2",{className:"categoryListContainer__header-title"},"Salary reports")),c.a.createElement("div",{style:{display:"flex",alignItems:"center"}},n&&n.length>0&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{style:{display:"flex",alignItems:"center",marginRight:"25px"}},c.a.createElement(Ri.CSVLink,{filename:"SalaryReport.csv",data:j,headers:[{label:"Year",key:"year"},{label:"Month",key:"month"},{label:"Total Salary",key:"totalSalary"},{label:"Total Bonus",key:"totalBonus"},{label:"Total Convince",key:"totalConvince"},{label:"Total Extra",key:"totalExtra"},{label:"Total Negative",key:"totalNegative"}]},"Export as csv"),c.a.createElement("span",{style:{color:"#1890ff",marginLeft:"10px"}},c.a.createElement(xn.a,null)))),c.a.createElement(E.a,{className:"btnPrimaryClassNameoutline",icon:c.a.createElement(ht.a,null),onClick:function(){return O(!0)}},"Add New"))),c.a.createElement("div",{className:"categoryListContainer__categoryList"},s.done&&n.length>0&&c.a.createElement(ym,{setTagList:r,data:n}),s.isLoading&&c.a.createElement(ta,null),s.done&&!(n.length>0)&&c.a.createElement("div",{style:{marginTop:"150px"}},c.a.createElement(we.a,{description:"No Expense found",image:we.a.PRESENTED_IMAGE_SIMPLE})))),c.a.createElement(fm,{componentList:n,setComponentList:r,addNewCategoryVisible:y,setAddNewCategoryVisible:O}))},jm=ot.a.Column,Cm=(ot.a.ColumnGroup,O.a.Search,["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]),Nm=function(e){var t=U({},"getSalaryReportDetail"),a=Object(g.a)(t,2),n=a[0],r=a[1],i=U({},"tagProducts"),l=Object(g.a)(i,2),s=l[0],u=l[1],m=Object(_e.g)(),d=Object(o.useState)(!1),f=Object(g.a)(d,2),h=(f[0],f[1],Object(o.useState)({})),E=Object(g.a)(h,2),v=E[0],y=E[1];console.log("tagDetailDataSalaryreport!",v);var O=Object(_e.h)(),j=O.id;return Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r({urlOptions:{placeHolders:{id:j}}});case 2:(t=e.sent)&&y(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[j]),Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u({urlOptions:{placeHolders:{id:j}}});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[j]),console.log("tagProductsState",s),console.log("brandParams",O),c.a.createElement("div",{className:"brandDetailContainer"},c.a.createElement("div",{className:"brandDetailContainer__heading"},c.a.createElement("h3",null,"Salary Report detail")),c.a.createElement(ma.a,{paragraph:{rows:2},loading:n.isLoading},n.done&&v&&!(Object.keys(v).length>0)&&c.a.createElement(we.a,{description:"No Expense found",image:we.a.PRESENTED_IMAGE_SIMPLE}),n.done&&v&&Object.keys(v).length>0&&c.a.createElement("div",{className:"brandDetailContainer__header"},c.a.createElement("div",{className:"brandDetailContainer__header-info"},v.year&&c.a.createElement("h3",null,"YEAR:",c.a.createElement("span",null,v.year)),v.month&&c.a.createElement("h3",null,"MONTH:",c.a.createElement("span",null,v.month&&Cm[v.month])),v.totalSalary&&c.a.createElement("h3",null,"TOTAL SALARY:",c.a.createElement("span",null,v.totalSalary)),v.totalBonus?c.a.createElement("h3",null,"TOTAL BONUS:",c.a.createElement("span",null,v.totalBonus)):"",v.totalConvince&&c.a.createElement("h3",null,"TOTAL CONVINCE:",c.a.createElement("span",null,v.totalConvince)),v.totalExtra&&c.a.createElement("h3",null,"TOTAL EXTRA:",c.a.createElement("span",null,v.totalExtra)),v.totalNegative&&c.a.createElement("h3",null,"TOTAL NEGATIVE:",c.a.createElement("span",null,v.totalNegative))))),n.done&&n.data&&Object.keys(n.data).length>0&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"brandDetailContainer__heading"},c.a.createElement("h3",null,"Staffs"))),c.a.createElement("div",{className:"brandDetailContainer__body"},n.done&&n.data&&Object.keys(n.data).length>0&&n.data.staff&&!(n.data.staff.length>0)&&c.a.createElement("div",{style:{marginTop:"100px"}},c.a.createElement(we.a,{description:"No Staffs exists for this Salary report",image:we.a.PRESENTED_IMAGE_SIMPLE})),n.done&&n.data&&Object.keys(n.data).length>0&&n.data.staff&&n.data.staff.length>0&&c.a.createElement(c.a.Fragment,null,c.a.createElement(ot.a,{style:{paddingTop:"10px",borderRadius:"5px !important",overflow:"hidden",boxShadow:"0 0.125rem 0.625rem rgba(227, 231, 250, 0.3), 0 0.0625rem 0.125rem rgba(206, 220, 233, 0.4)"},size:"small",dataSource:n.data.staff,tableLayout:"auto",onHeaderRow:function(e){return{style:{color:"red !important"}}}},c.a.createElement(jm,{title:"Name",dataIndex:"name",key:"id",className:"classnameofthecolumn",render:function(e,t){return c.a.createElement(c.a.Fragment,null,c.a.createElement("h4",{onClick:function(){m.push("/admin/staff/".concat(t.id))},style:{fontWeight:400,color:"#555",cursor:"pointer"}},e))}}),c.a.createElement(jm,{title:"Total Salary",dataIndex:"totalSalary",key:"id",className:"classnameofthecolumn"}),c.a.createElement(jm,{title:"Convince",dataIndex:"convince",key:"id",className:"classnameofthecolumn"}),c.a.createElement(jm,{title:"Extra",dataIndex:"extra",key:"id",className:"classnameofthecolumn"}),c.a.createElement(jm,{title:"Negative",dataIndex:"negative",key:"id",className:"classnameofthecolumn"})))))},xm=y.a().shape({}),km=function(e){Me.a.error({message:e||"Something Went Wrong",description:"",icon:c.a.createElement(De.a,{style:{color:"rgb(241, 67, 67)"}})})},Sm={topic:"",amount:null},wm=function(e){var t=e.addNewCategoryVisible,a=e.setAddNewCategoryVisible,n=e.tagList,r=e.setTagList,i=e.category,l=U({},"updateExpense"),s=Object(g.a)(l,2),u=s[0],m=s[1],d=Object(o.useState)(!1),h=Object(g.a)(d,2),E=h[0],y=h[1],O=Object(o.useState)(!1),j=Object(g.a)(O,2),N=j[0],x=j[1],k=Object(o.useState)(""),S=Object(g.a)(k,2),w=S[0],T=S[1],_=Object(o.useState)([]),D=Object(g.a)(_,2),I=D[0];D[1];Object(o.useEffect)((function(){i&&i.date&&T(i.date)}),[i]);var L=U({},"staffList"),P=Object(g.a)(L,2),M=(P[0],P[1]),R=Object(o.useState)({}),F=Object(g.a)(R,2);F[0],F[1];Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M({});case 2:e.sent;case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var A=function(){var e=Object(b.a)(p.a.mark((function e(t,o){var l,s,u,d;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m({urlOptions:{placeHolders:{id:i.id||i._id}},body:{topic:t.topic.trim(),amount:t.amount,date:w,staff:I}});case 2:(l=e.sent)&&"ok"===l.status?(p=void 0,Me.a.success({message:p||"Expense Updated",description:"",icon:c.a.createElement(De.a,{style:{color:"rgba(0, 128, 0, 0.493)"}})}),s=function(){return n.map((function(e){return e.id})).indexOf(i.id||i._id)}(),u=Object.assign({},n[s],Object(f.a)({},l)),d=[].concat(Object(fe.a)(n.slice(0,s)),[u],Object(fe.a)(n.slice(s+1))),r(d),o.resetForm(),a(!1)):km(),o.setSubmitting(!1);case 5:case"end":return e.stop()}var p}),e)})));return function(t,a){return e.apply(this,arguments)}}();Object(o.useEffect)((function(){if(!u.isLoading){var e=u.error;if(e.isError&&Object.keys(e.error).length>0)e.error.registerError||e.error.checkoutError,(Object.values(e.error).length>0?Object.values(e.error):[]).forEach((function(e,t){if("string"===typeof e)km(e);else if("object"===typeof e){if(e&&Object.keys(e).length>0)Object.values(e).forEach((function(e){km(e)}))}}))}!u.isLoading&&Object.keys(u.data).length>0&&u.data.status}),[u]);var B=function(e){a(!1)},V=function(e,t){T(t)};return c.a.createElement(v.a,{onSubmit:function(e,t){return A(e,t)},validationSchema:xm,validateOnBlur:!1,enableReinitialize:!0,initialValues:Object(f.a)({},Sm,{},i)},(function(e){var a=e.handleChange,n=e.values,r=e.handleSubmit,i=e.errors,o=(e.isValid,e.isSubmitting),l=e.touched,s=(e.handleBlur,e.setFieldTouched);e.handleReset;return c.a.createElement(c.a.Fragment,null,c.a.createElement(Ot.a,{style:{top:"40px"},title:"Add New Expense",visible:t,onOk:function(e){return r(e)},onCancel:B,okText:"Update",okButtonProps:{loading:o,htmlType:"submit"}},c.a.createElement(C,{label:"Topic",value:n.topic,name:"topic",isError:l.topic&&i.topic||!o&&u.error.error.topic,errorString:l.topic&&i.topic||!o&&u.error.error.topic,onChange:function(e){a(e),s("topic")}}),c.a.createElement(C,{label:"Amount",value:n.amount,name:"amount",type:"number",min:0,isError:l.amount&&i.amount||!o&&u.error.error.amount,errorString:l.amount&&i.amount||!o&&u.error.error.amount,onChange:function(e){a(e),s("amount")}}),c.a.createElement(qu,{date:w,placeholder:"10/20/2020",label:"Date",onChange:V}),c.a.createElement("div",{style:{marginTop:"15px"}})),c.a.createElement(Vt,{setvisible:x,visible:N,setmyImages:y,myImages:E,isModalOpenForImages:!0}))}))},Tm=y.a().shape({}),_m=function(e){Me.a.error({message:e||"Something Went Wrong",description:"",icon:c.a.createElement(De.a,{style:{color:"rgb(241, 67, 67)"}})})},Dm={topic:"",amount:null},Im=function(e){var t=e.addNewCategoryVisible,a=e.setAddNewCategoryVisible,n=e.tagList,r=e.setTagList,i=U({},"addExpense"),l=Object(g.a)(i,2),s=l[0],u=l[1],m=Object(o.useState)(!1),d=Object(g.a)(m,2),h=d[0],E=d[1],y=Object(o.useState)(!1),O=Object(g.a)(y,2),j=O[0],N=O[1],x=Object(o.useState)(""),k=Object(g.a)(x,2),S=k[0],w=k[1],T=Object(o.useState)([]),_=Object(g.a)(T,2),D=_[0],I=(_[1],U({},"staffList")),L=Object(g.a)(I,2),P=(L[0],L[1]),M=Object(o.useState)({}),R=Object(g.a)(M,2);R[0],R[1];Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P({});case 2:e.sent;case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var F=function(){var e=Object(b.a)(p.a.mark((function e(t,i){var o;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u({body:{topic:t.topic.trim(),amount:t.amount,date:S,staff:D}});case 2:(o=e.sent)&&"ok"===o.status?(l=void 0,Me.a.success({message:l||"Expense Created",description:"",icon:c.a.createElement(De.a,{style:{color:"rgba(0, 128, 0, 0.493)"}})}),r([Object(f.a)({},o,{id:o._id||"",key:o._id||""})].concat(Object(fe.a)(n))),i.resetForm(),a(!1)):_m(),i.setSubmitting(!1);case 5:case"end":return e.stop()}var l}),e)})));return function(t,a){return e.apply(this,arguments)}}();Object(o.useEffect)((function(){if(!s.isLoading){var e=s.error;if(e.isError&&Object.keys(e.error).length>0)e.error.registerError||e.error.checkoutError,(Object.values(e.error).length>0?Object.values(e.error):[]).forEach((function(e,t){if("string"===typeof e)_m(e);else if("object"===typeof e){if(e&&Object.keys(e).length>0)Object.values(e).forEach((function(e){_m(e)}))}}))}!s.isLoading&&Object.keys(s.data).length>0&&s.data.status}),[s]);var A=function(e){a(!1)},B=function(e,t){w(t)};return c.a.createElement(v.a,{onSubmit:function(e,t){return F(e,t)},validationSchema:Tm,validateOnBlur:!1,enableReinitialize:!0,initialValues:Object(f.a)({},Dm)},(function(e){var a=e.handleChange,n=e.values,r=e.handleSubmit,i=e.errors,o=(e.isValid,e.isSubmitting),l=e.touched,u=(e.handleBlur,e.setFieldTouched);e.handleReset;return c.a.createElement(c.a.Fragment,null,c.a.createElement(Ot.a,{style:{top:"40px"},title:"Add New Expense",visible:t,onOk:function(e){return r(e)},onCancel:A,okText:"Create",okButtonProps:{loading:o,htmlType:"submit"}},c.a.createElement(C,{label:"Topic",value:n.topic,name:"topic",isError:l.topic&&i.topic||!o&&s.error.error.topic,errorString:l.topic&&i.topic||!o&&s.error.error.topic,onChange:function(e){a(e),u("topic")}}),c.a.createElement(C,{label:"Amount",value:n.amount,name:"amount",type:"number",min:0,isError:l.amount&&i.amount||!o&&s.error.error.amount,errorString:l.amount&&i.amount||!o&&s.error.error.amount,onChange:function(e){a(e),u("amount")}}),c.a.createElement(qu,{date:S,placeholder:"10/20/2020",label:"Date",onChange:B})),c.a.createElement(Vt,{setvisible:N,visible:j,setmyImages:E,myImages:h,isModalOpenForImages:!0}))}))},Lm=function(e){Me.a.success({message:e||"Expense Created",description:"",icon:c.a.createElement(De.a,{style:{color:"rgba(0, 128, 0, 0.493)"}})})},Pm=(y.a().shape({name:y.c().label("Name").required("Name is required").min(3,"Name must have at least 3 characters")}),ot.a.Column),Mm=(ot.a.ColumnGroup,O.a.Search),Rm=function(e){var t=e.data,a=e.setTagList,n=Object(o.useState)(!1),r=Object(g.a)(n,2),i=r[0],l=r[1],s=Object(o.useState)(!1),u=Object(g.a)(s,2),m=u[0],d=u[1],f=U({},"deleteExpense"),h=Object(g.a)(f,2),E=(h[0],h[1]),v=Object(_e.g)(),y=function(){var e=Object(b.a)(p.a.mark((function e(n){var r,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E({urlOptions:{placeHolders:{id:n}}});case 2:(r=e.sent)&&"ok"===r.status&&(Lm("Deleted Expense"),i=t.filter((function(e){return e.id!==n})),a(i));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return c.a.createElement(c.a.Fragment,null,c.a.createElement(ot.a,{size:"small",dataSource:t},c.a.createElement(Pm,{title:"Topic",dataIndex:"topic",key:"id",className:"classnameofthecolumn",render:function(e,t){return c.a.createElement(c.a.Fragment,null,c.a.createElement("h4",{onClick:function(){v.push("/admin/expense/".concat(t.id)),d(t)},style:{fontWeight:400,color:"#555",cursor:"pointer"}},e))}}),c.a.createElement(Pm,{title:"Amount",dataIndex:"amount",key:"id",className:"classnameofthecolumn"}),c.a.createElement(Pm,{title:"Date",dataIndex:"date",key:"id",className:"classnameofthecolumn",render:function(e,t){return c.a.createElement(dt.a,{size:"middle"},c.a.createElement("h5",null,e&&_()(e).format("MMMM Do YYYY, h:mm a")))}}),c.a.createElement(Pm,{className:"classnameofthecolumn",title:"",key:"action",align:"right",render:function(e,t){return c.a.createElement(dt.a,{size:"middle"},c.a.createElement("a",{href:"##"},c.a.createElement(pt.a,{placement:"top",title:"Edit Expense"},c.a.createElement("span",{className:"iconSize",onClick:function(){l(!0),d(t)}},c.a.createElement(gt.a,null)))),c.a.createElement(bt.a,{onConfirm:function(){return y(t.id)},title:"Are you sure\uff1f",okText:"Yes",cancelText:"No"},c.a.createElement("span",{className:"iconSize iconSize-danger"},c.a.createElement(ft.a,null))))}})),m&&c.a.createElement(wm,{tagList:t,setTagList:a,setAddNewCategoryVisible:l,addNewCategoryVisible:i,category:m}))},Fm=function(e){Object(h.a)(e);var t=Object(o.useState)([]),a=Object(g.a)(t,2),n=a[0],r=a[1],i=U({},"expenseList"),l=Object(g.a)(i,2),s=l[0],u=l[1];Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u({});case 2:t=e.sent,r(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var m=U({},"addTag"),d=Object(g.a)(m,2),f=(d[0],d[1],Object(o.useState)(!1)),v=Object(g.a)(f,2),y=v[0],O=v[1],j=n&&n.length>0?n.map((function(e){return{topic:e.topic,amount:e.amount,date:e.date?_()(e.date).format("MMMM Do YYYY, h:mm a"):""}})):[];return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"categoryListContainer"},c.a.createElement("div",{className:"categoryListContainer__header"},c.a.createElement("div",{className:"categoryListContainer__header-searchBar-tag"},c.a.createElement("h2",{className:"categoryListContainer__header-title"},"Expenses"),c.a.createElement(Mm,{enterButton:!1,className:"searchbarClassName",placeholder:"search expense..",onSearch:function(e){return function(e){if(s.data.length>0){var t=s.data.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())}));r(t)}}(e)}})),c.a.createElement("div",{style:{display:"flex",alignItems:"center"}},n&&n.length>0&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{style:{display:"flex",alignItems:"center",marginRight:"25px"}},c.a.createElement(Ri.CSVLink,{filename:"Expenses.csv",data:j,headers:[{label:"Topic",key:"topic"},{label:"Amount",key:"amount"},{label:"Date",key:"date"}]},"Export as csv"),c.a.createElement("span",{style:{color:"#1890ff",marginLeft:"10px"}},c.a.createElement(xn.a,null)))),c.a.createElement(E.a,{className:"btnPrimaryClassNameoutline",icon:c.a.createElement(ht.a,null),onClick:function(){return O(!0)}},"Add New"))),c.a.createElement("div",{className:"categoryListContainer__categoryList"},s.done&&n.length>0&&c.a.createElement(Rm,{setTagList:r,data:n}),s.isLoading&&c.a.createElement(ta,null),s.done&&!(n.length>0)&&c.a.createElement("div",{style:{marginTop:"150px"}},c.a.createElement(we.a,{description:"No Expense found",image:we.a.PRESENTED_IMAGE_SIMPLE})))),c.a.createElement(Im,{tagList:n,setTagList:r,addNewCategoryVisible:y,setAddNewCategoryVisible:O}))},Am=y.a().shape({}),Bm=function(e){Me.a.error({message:e||"Something Went Wrong",description:"",icon:c.a.createElement(De.a,{style:{color:"rgb(241, 67, 67)"}})})},Vm={topic:"",amount:null},Um=function(e){var t=e.addNewCategoryVisible,a=e.setAddNewCategoryVisible,n=e.category,r=e.setTagDetailData,i=U({},"updateExpense"),l=Object(g.a)(i,2),s=l[0],u=l[1],m=Object(o.useState)(!1),d=Object(g.a)(m,2),h=d[0],E=d[1],y=Object(o.useState)(!1),O=Object(g.a)(y,2),j=O[0],N=O[1],x=Object(o.useState)(""),k=Object(g.a)(x,2),S=k[0],w=k[1],T=Object(o.useState)([]),_=Object(g.a)(T,2),D=_[0];_[1];Object(o.useEffect)((function(){n&&n.date&&w(n.date)}),[n]);var I=U({},"staffList"),L=Object(g.a)(I,2),P=(L[0],L[1]),M=Object(o.useState)({}),R=Object(g.a)(M,2);R[0],R[1];Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P({});case 2:e.sent;case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var F=function(){var e=Object(b.a)(p.a.mark((function e(t,i){var o;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u({urlOptions:{placeHolders:{id:n.id||n._id}},body:{topic:t.topic.trim(),amount:t.amount,date:S,staff:D}});case 2:(o=e.sent)&&"ok"===o.status?(l=void 0,Me.a.success({message:l||"Expense Updated",description:"",icon:c.a.createElement(De.a,{style:{color:"rgba(0, 128, 0, 0.493)"}})}),r(Object(f.a)({},n,{},o)),i.resetForm(),a(!1)):Bm(),i.setSubmitting(!1);case 5:case"end":return e.stop()}var l}),e)})));return function(t,a){return e.apply(this,arguments)}}();Object(o.useEffect)((function(){if(!s.isLoading){var e=s.error;if(e.isError&&Object.keys(e.error).length>0)e.error.registerError||e.error.checkoutError,(Object.values(e.error).length>0?Object.values(e.error):[]).forEach((function(e,t){if("string"===typeof e)Bm(e);else if("object"===typeof e){if(e&&Object.keys(e).length>0)Object.values(e).forEach((function(e){Bm(e)}))}}))}!s.isLoading&&Object.keys(s.data).length>0&&s.data.status}),[s]);var A=function(e){a(!1)},B=function(e,t){w(t)};return c.a.createElement(v.a,{onSubmit:function(e,t){return F(e,t)},validationSchema:Am,validateOnBlur:!1,enableReinitialize:!0,initialValues:Object(f.a)({},Vm,{},n)},(function(e){var a=e.handleChange,n=e.values,r=e.handleSubmit,i=e.errors,o=(e.isValid,e.isSubmitting),l=e.touched,u=(e.handleBlur,e.setFieldTouched);e.handleReset;return c.a.createElement(c.a.Fragment,null,c.a.createElement(Ot.a,{style:{top:"40px"},title:"Add New Expense",visible:t,onOk:function(e){return r(e)},onCancel:A,okText:"Update",okButtonProps:{loading:o,htmlType:"submit"}},c.a.createElement(C,{label:"Topic",value:n.topic,name:"topic",isError:l.topic&&i.topic||!o&&s.error.error.topic,errorString:l.topic&&i.topic||!o&&s.error.error.topic,onChange:function(e){a(e),u("topic")}}),c.a.createElement(C,{label:"Amount",value:n.amount,name:"amount",type:"number",min:0,isError:l.amount&&i.amount||!o&&s.error.error.amount,errorString:l.amount&&i.amount||!o&&s.error.error.amount,onChange:function(e){a(e),u("amount")}}),c.a.createElement(qu,{date:S,placeholder:"10/20/2020",label:"Date",onChange:B}),c.a.createElement("div",{style:{marginTop:"15px"}})),c.a.createElement(Vt,{setvisible:N,visible:j,setmyImages:E,myImages:h,isModalOpenForImages:!0}))}))},Gm=(ot.a.Column,ot.a.ColumnGroup,O.a.Search,function(e){var t=U({},"expenseDetail"),a=Object(g.a)(t,2),n=a[0],r=a[1],i=U({},"tagProducts"),l=Object(g.a)(i,2),s=l[0],u=l[1],m=Object(o.useState)(!1),d=Object(g.a)(m,2),f=d[0],h=d[1],v=Object(o.useState)({}),y=Object(g.a)(v,2),O=y[0],j=y[1],C=Object(_e.h)(),N=C.id;return Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r({urlOptions:{placeHolders:{id:N}}});case 2:(t=e.sent)&&j(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[N]),Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u({urlOptions:{placeHolders:{id:N}}});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[N]),console.log("tagProductsState",s),console.log("brandParams",C),c.a.createElement("div",{className:"brandDetailContainer"},c.a.createElement("div",{className:"brandDetailContainer__heading"},c.a.createElement("h3",null,"Expense Detail"),n.done&&O&&Object.keys(O).length>0&&c.a.createElement(c.a.Fragment,null,c.a.createElement(Um,{addNewCategoryVisible:f,setAddNewCategoryVisible:h,category:O,setTagDetailData:j}),c.a.createElement(E.a,{onClick:function(){return h(!0)},type:"link",icon:c.a.createElement(gt.a,null)},"Edit"))),c.a.createElement(ma.a,{paragraph:{rows:2},loading:n.isLoading},n.done&&O&&!(Object.keys(O).length>0)&&c.a.createElement(we.a,{description:"No Expense found",image:we.a.PRESENTED_IMAGE_SIMPLE}),n.done&&O&&Object.keys(O).length>0&&c.a.createElement("div",{className:"brandDetailContainer__header"},c.a.createElement("div",{className:"brandDetailContainer__header-info"},O.topic&&c.a.createElement("h3",null,"TOPIC:",c.a.createElement("span",null,O.topic)),O.amount&&c.a.createElement("h3",null,"AMOUNT:",c.a.createElement("span",null,O.amount)),O.date&&c.a.createElement("h3",null,"DATE:",c.a.createElement("span",null,n.data.date&&_()(n.data.date).format("MMMM Do YYYY, h:mm a"))),O[""]&&c.a.createElement("h3",null,"ASSOCIATIVE STAFF:",c.a.createElement("span",null,O.date))))))}),zm=Ht.a.CheckableTag,Hm=O.a.Search,Wm=function(e){var t=e.setTagIds,a=e.setSelectedTags,n=e.selectedTags,r=Object(o.useState)([]),i=Object(g.a)(r,2),l=i[0],s=i[1],u=Object(o.useState)([]),m=Object(g.a)(u,2),d=(m[0],m[1],U({},"dealerAreaList")),f=Object(g.a)(d,2),h=f[0],E=f[1],v=Object(o.useState)(""),y=Object(g.a)(v,2),O=y[0],j=y[1];Object(o.useEffect)((function(){if(console.log("itwhere"),h.data&&h.data.length>0&&n.length>0){var e=n.map((function(e){var t=h.data.find((function(t){return t.id===e}));if(t)return t.name}));a(e)}}),[h]),console.log("areaSelectedTaga",n),Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E({urlOptions:{params:{isSubCategory:!1}}});case 2:(t=e.sent)&&t.length>0&&(a=t.map((function(e){return e.name})),s(a));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);return console.log("dealerAreaList",h),c.a.createElement(c.a.Fragment,null,h.isLoading&&c.a.createElement("div",{style:{padding:"15px 0",width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"}},c.a.createElement(Re.a,null)),h.done&&!(h.data.length>0)&&c.a.createElement("div",{style:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"}},c.a.createElement(Te,{title:"No Area found",height:100})),h.done&&h.data.length>0&&l.length>0&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"addProduct__categoryBoxContainer-searchBox"},c.a.createElement(Hm,{width:"90%",style:{height:"30px",borderRadius:"3px !important",borderColor:"#eee !important"},size:"middle",placeholder:"Dhanmondi, mirpur",onSearch:function(e){return console.log(e)},onChange:function(e){if(j(e.target.value),""===e.target.value){if(h.data&&h.data.length>0){var t=h.data.map((function(e){return e.name}));s(t)}}else{var a=l.length>0?l.filter((function(e){return e.toLowerCase().includes(O.toLowerCase())})):[];s(a)}}})),l.map((function(e){return c.a.createElement(c.a.Fragment,null,c.a.createElement(zm,{key:e,checked:n.indexOf(e)>-1,onChange:function(r){return function(e,r){var i=r?[].concat(Object(fe.a)(n),[e]):n.filter((function(t){return t!==e}));if(a(i),h.done&&h.data.length>0&&i.length>0){var o=i.map((function(e){var t=h.data.find((function(t){return t.name.toLowerCase()===e.toLowerCase()}));if(t)return t.id}));t(o)}}(e,r)}},e))}))))},qm=(Ge.a.Option,y.a().shape({firstName:y.c().label("First name").required().min(2,"First name must have at least 2 characters "),lastName:y.c().label("Lastname").required().min(2,"Last name must have at least 2 characters "),phone:y.c().required("Please tell us your mobile number.").max(13,"Please enter a valid mobile number."),password:y.c().label("Password").required().min(6,"Password must have at least 6 characters"),email:y.c().label("Email").email("Please enter a valid email")})),Ym={phone:"",email:"",firstName:"",lastName:"",address:"",zipCode:"",password:"",code:"",commission:"",depositMoney:""},Km=function(e){Me.a.error({message:e||"Something Went Wrong",description:"",icon:c.a.createElement(Ct.a,{style:{color:"rgb(241, 67, 67)"}})})},Jm=function(e){var t=e.addNewCategoryVisible,a=e.setAddNewCategoryVisible,n=e.customerList,r=e.setCustomerList,i=U({},"addDealer"),l=Object(g.a)(i,2),s=l[0],u=l[1],m=Object(o.useState)(""),d=Object(g.a)(m,2),h=d[0],E=(d[1],Object(o.useState)("")),y=Object(g.a)(E,2),O=(y[0],y[1],Object(o.useState)([])),j=Object(g.a)(O,2),N=(j[0],j[1]),x=Object(o.useState)([]),k=Object(g.a)(x,2),S=(k[0],k[1]),w=U([],"countryList"),T=Object(g.a)(w,2),_=(T[0],T[1]),D=U([],"cityList"),I=Object(g.a)(D,2),L=I[0],P=I[1],M=Object(o.useState)([]),R=Object(g.a)(M,2),F=R[0],A=R[1],B=Object(o.useState)([]),V=Object(g.a)(B,2),G=V[0],z=V[1],H=function(){var e=Object(b.a)(p.a.mark((function e(t,i){var o;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u({body:{phone:t.phone,email:t.email,password:t.password,address:t.address,firstName:t.firstName,lastName:t.lastName,code:t.code,commission:t.commission,depositMoney:t.depositMoney,dealerArea:F}});case 2:(o=e.sent)&&"ok"===o.status?(r([Object(f.a)({id:o._id||"",key:o._id||"",name:o.firstName+" "+o.lastName},o)].concat(Object(fe.a)(n))),a(!1),i.resetForm()):Km(),i.setSubmitting(!1);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_({});case 2:(t=e.sent)&&t.length>0&&(a=t.map((function(e){return{value:e.name,name:e.name}})),N(a));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(o.useEffect)((function(){console.log("selectedCountryValue1",h),function(){var e=Object(b.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P({urlOptions:{placeHolders:{country:h}}});case 2:(t=e.sent)&&t.length>0&&(a=t.map((function(e){return{value:e.name,name:e.name}})),S(a));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[h]),Object(o.useEffect)((function(){if(!s.isLoading){var e=s.error;if(e.isError&&Object.keys(e.error).length>0)e.error.registerError||e.error.checkoutError,(Object.values(e.error).length>0?Object.values(e.error):[]).forEach((function(e,t){if("string"===typeof e)Km(e);else if("object"===typeof e){if(e&&Object.keys(e).length>0)Object.values(e).forEach((function(e){Km(e)}))}}))}var t;!s.isLoading&&Object.keys(s.data).length>0&&"ok"===s.data.status&&(t="Dealer Created Successfully",Me.a.success({message:t||"Dealer Created!",description:"",icon:c.a.createElement(De.a,{style:{color:"rgba(0, 128, 0, 0.493)"}})}))}),[s]);var W=function(e){a(!1)},q=function(e,t){return!(t&&e.firstName&&e.lastName&&e.password&&e.phone&&e.code)};return console.log("cityListState",L),c.a.createElement(v.a,{onSubmit:function(e,t){return H(e,t)},validationSchema:qm,validateOnBlur:!1,enableReinitialize:!0,initialValues:Object(f.a)({},Ym)},(function(e){var a=e.handleChange,n=e.values,r=e.handleSubmit,i=e.errors,o=e.isValid,l=e.isSubmitting,u=e.touched,m=(e.handleBlur,e.setFieldTouched);e.handleReset;return c.a.createElement(c.a.Fragment,null,c.a.createElement(Ot.a,{style:{top:"40px"},bodyStyle:{margin:0,padding:0},width:"70vw",title:"Add New Dealer",visible:t,onOk:function(e){return r(e)},onCancel:W,okText:"Create",okButtonProps:{loading:l,htmlType:"submit",disabled:q(n,o)}},c.a.createElement("section",{className:"addProductGridContainer"},c.a.createElement("div",{className:"addProductGridContainer__left"},c.a.createElement("div",{className:"addProductGridContainer__name"},c.a.createElement("div",{className:"addProductGridContainer__item-header"},c.a.createElement("h3",null,"Dealer Information *")),c.a.createElement("div",{className:"addProductGridContainer__item-body"},c.a.createElement("div",{className:"dubbleRowInputs"},c.a.createElement("div",{className:"dubbleRowInputs__item"},c.a.createElement(C,{label:"First Name",value:n.firstName,name:"firstName",isError:u.firstName&&i.firstName||!l&&s.error.error.firstName,errorString:u.firstName&&i.firstName||!l&&s.error.error.firstName,onChange:function(e){a(e),m("firstName")}})),c.a.createElement("div",{className:"dubbleRowInputs__item"},c.a.createElement(C,{label:"Last Name",value:n.lastName,name:"lastName",isError:u.lastName&&i.lastName||!l&&s.error.error.lastName,errorString:u.lastName&&i.lastName||!l&&s.error.error.lastName,onChange:function(e){a(e),m("lastName")}}))),c.a.createElement("div",{className:"dubbleRowInputs"},c.a.createElement("div",{className:"dubbleRowInputs__item"},c.a.createElement(C,{label:"Phone",value:n.phone,name:"phone",isError:u.phone&&i.phone||!l&&s.error.error.phone,errorString:u.phone&&i.phone||!l&&s.error.error.phone,onChange:function(e){a(e),m("phone")}})),c.a.createElement("div",{className:"dubbleRowInputs__item"},c.a.createElement(C,{label:"Email",value:n.email,name:"email",isError:u.email&&i.email||!l&&s.error.error.email,errorString:u.email&&i.email||!l&&s.error.error.email,onChange:function(e){a(e),m("email")}}))),c.a.createElement("div",{className:"dubbleRowInputs"},c.a.createElement("div",{className:"dubbleRowInputs__item"},c.a.createElement(C,{label:"Dealer Code",type:"text",value:n.code,name:"code",isError:u.code&&i.code||!l&&s.error.error.code,errorString:u.code&&i.code||!l&&s.error.error.code,onChange:function(e){a(e),m("code")}})),c.a.createElement("div",{className:"dubbleRowInputs__item"},c.a.createElement(C,{label:"Password",type:"password",value:n.password,name:"password",isError:u.password&&i.password||!l&&s.error.error.password,errorString:u.password&&i.password||!l&&s.error.error.password,onChange:function(e){a(e),m("password")}}))),c.a.createElement("div",{className:"dubbleRowInputs"},c.a.createElement("div",{className:"dubbleRowInputs__item"},c.a.createElement(C,{label:"Deposit Money",type:"text",value:n.depositMoney,name:"depositMoney",isError:u.depositMoney&&i.depositMoney||!l&&s.error.error.depositMoney,errorString:u.depositMoney&&i.depositMoney||!l&&s.error.error.depositMoney,onChange:function(e){a(e),m("depositMoney")}})),c.a.createElement("div",{className:"dubbleRowInputs__item"},c.a.createElement(C,{label:"Commission",type:"commission",value:n.commission,name:"commission",isError:u.commission&&i.commission||!l&&s.error.error.commission,errorString:u.commission&&i.commission||!l&&s.error.error.commission,onChange:function(e){a(e),m("commission")}}))),c.a.createElement("div",{style:{marginTop:"12px"}}),c.a.createElement(C,{label:"Address",value:n.address,name:"address",isError:u.address&&i.address||!l&&s.error.error.address,errorString:u.address&&i.address||!l&&s.error.error.address,onChange:function(e){a(e),m("address")}})))),c.a.createElement("div",{className:"addProductGridContainer__right"},c.a.createElement("div",{className:"addProductGridContainer__tag"},c.a.createElement("div",{className:"addProductGridContainer-rightItemContainer"},c.a.createElement("div",{className:"addProductGridContainer-rightItemContainer-header"},c.a.createElement("h3",null,"Areas *")),c.a.createElement("div",{className:"addProductGridContainer-rightItemContainer-body"},c.a.createElement(Wm,{setSelectedTags:z,selectedTags:G,setTagIds:A}))))))))}))},Qm=(Ge.a.Option,y.a().shape({firstName:y.c().label("Firstname").required().min(2,"First name must have at least 2 characters "),lastName:y.c().label("Lastname").required().min(2,"Lastname must have at least 2 characters "),phone:y.c().required("Please tell us your mobile number.").max(13,"Please enter a valid mobile number."),password:y.c().label("Password").min(6,"Password must have at least 6 characters"),email:y.c().label("Email").email("Please enter a valid email")})),Xm=function(e){Me.a.success({message:e||"Something Went Wrong",description:"",icon:c.a.createElement(Ct.a,{style:{color:"rgb(241, 67, 67)"}})})},Zm=function(e){var t=e.customer,a=e.setvisible,n=e.visible,r=e.customerList,i=e.setCustomerList,l=U({},"updateDealer"),s=Object(g.a)(l,2),u=s[0],m=s[1],d=Object(o.useState)(""),h=Object(g.a)(d,2),E=h[0],y=(h[1],Object(o.useState)("")),O=Object(g.a)(y,2),j=(O[0],O[1],Object(o.useState)([])),N=Object(g.a)(j,2),x=(N[0],N[1]),k=Object(o.useState)([]),S=Object(g.a)(k,2),w=(S[0],S[1]),T=U([],"countryList"),_=Object(g.a)(T,2),D=(_[0],_[1]),I=U([],"cityList"),L=Object(g.a)(I,2),P=(L[0],L[1]),M=Object(o.useState)([]),R=Object(g.a)(M,2),F=R[0],A=R[1],B=Object(o.useState)([]),V=Object(g.a)(B,2),G=V[0],z=V[1];Object(o.useEffect)((function(){if(console.log("customerAreaCheck",t),t&&t.area&&t.area.length>0){var e=t.area.map((function(e){return e._id}));z(e),A(e)}else z([])}),[t.id]);var H=function(){var e=Object(b.a)(p.a.mark((function e(n,o){var c,l,s,u;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m({urlOptions:{placeHolders:{id:n.id}},body:{phone:n.phone,email:n.email,password:n.password,address:n.address,firstName:n.firstName,lastName:n.lastName,code:n.code,commission:n.commission,depositMoney:n.depositMoney,dealerArea:F}});case 2:(c=e.sent)&&"ok"===c.status?(a(!1),l=function(){return r.map((function(e){return e.id})).indexOf(t.id)}(),s=Object.assign({},r[l],Object(f.a)({},c,{id:c._id||"",key:c._id||"",name:c.firstName+" "+c.lastName})),u=[].concat(Object(fe.a)(r.slice(0,l)),[s],Object(fe.a)(r.slice(l+1))),i(u)):Xm(),o.setSubmitting(!1);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();Object(o.useEffect)((function(){if(!u.isLoading){var e=u.error;if(e.isError&&Object.keys(e.error).length>0)e.error.registerError||e.error.checkoutError,(Object.values(e.error).length>0?Object.values(e.error):[]).forEach((function(e,t){if("string"===typeof e)Xm(e);else if("object"===typeof e){if(e&&Object.keys(e).length>0)Object.values(e).forEach((function(e){Xm(e)}))}}))}var t;!u.isLoading&&Object.keys(u.data).length>0&&"ok"===u.data.status&&(t="Dealer Updated Successfully",Me.a.success({message:t||"Dealer Updated",description:"",icon:c.a.createElement(De.a,{style:{color:"rgba(0, 128, 0, 0.493)"}})}))}),[u]);Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D({});case 2:(t=e.sent)&&t.length>0&&(a=t.map((function(e){return{value:e.name,name:e.name}})),x(a));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P({urlOptions:{placeHolders:{country:E}}});case 2:(t=e.sent)&&t.length>0&&(a=t.map((function(e){return{value:e.name,name:e.name}})),w(a));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[E]);var W=function(e){a(!1)},q=function(e,t){return!(t&&e.firstName&&e.lastName&&e.phone&&e.code)};return c.a.createElement(v.a,{onSubmit:function(e,t){return H(e,t)},validationSchema:Qm,validateOnBlur:!1,enableReinitialize:!0,initialValues:Object(f.a)({},t)},(function(e){var t=e.handleChange,a=e.values,r=e.handleSubmit,i=e.errors,o=e.isValid,l=e.isSubmitting,s=e.touched,m=(e.handleBlur,e.setFieldTouched);e.handleReset;return c.a.createElement(c.a.Fragment,null,c.a.createElement(Ot.a,{title:"Quick Edit",width:"70vw",visible:n,onOk:function(e){return r(e)},onCancel:W,okText:"Update",destroyOnClose:!0,okButtonProps:{loading:l,htmlType:"submit",disabled:q(a,o)},bodyStyle:{margin:"0",padding:"10px"}},console.log("errorsupdatedealer",i),c.a.createElement("section",{className:"addProductGridContainer"},c.a.createElement("div",{className:"addProductGridContainer__left"},c.a.createElement("div",{className:"addProductGridContainer__name"},c.a.createElement("div",{className:"addProductGridContainer__item-header"},c.a.createElement("h3",null,"Dealer Information *")),c.a.createElement("div",{className:"addProductGridContainer__item-body"},c.a.createElement("div",{className:"dubbleRowInputs"},c.a.createElement("div",{className:"dubbleRowInputs__item"},c.a.createElement(C,{label:"First Name",value:a.firstName,name:"firstName",isError:s.firstName&&i.firstName||!l&&u.error.error.firstName,errorString:s.firstName&&i.firstName||!l&&u.error.error.firstName,onChange:function(e){t(e),m("firstName")}})),c.a.createElement("div",{className:"dubbleRowInputs__item"},c.a.createElement(C,{label:"Last Name",value:a.lastName,name:"lastName",isError:s.lastName&&i.lastName||!l&&u.error.error.lastName,errorString:s.lastName&&i.lastName||!l&&u.error.error.lastName,onChange:function(e){t(e),m("lastName")}}))),c.a.createElement("div",{className:"dubbleRowInputs"},c.a.createElement("div",{className:"dubbleRowInputs__item"},c.a.createElement(C,{label:"Phone",value:a.phone,name:"phone",isError:s.phone&&i.phone||!l&&u.error.error.phone,errorString:s.phone&&i.phone||!l&&u.error.error.phone,onChange:function(e){t(e),m("phone")}})),c.a.createElement("div",{className:"dubbleRowInputs__item"},c.a.createElement(C,{label:"Email",value:a.email,name:"email",isError:s.email&&i.email||!l&&u.error.error.email,errorString:s.email&&i.email||!l&&u.error.error.email,onChange:function(e){t(e),m("email")}}))),c.a.createElement("div",{className:"dubbleRowInputs"},c.a.createElement("div",{className:"dubbleRowInputs__item"},c.a.createElement(C,{label:"Dealer Code",type:"text",value:a.code,name:"code",isError:s.code&&i.code||!l&&u.error.error.code,errorString:s.code&&i.code||!l&&u.error.error.code,onChange:function(e){t(e),m("code")}})),c.a.createElement("div",{className:"dubbleRowInputs__item"},c.a.createElement(C,{label:"Password",type:"password",value:a.password,name:"password",isError:s.password&&i.password||!l&&u.error.error.password,errorString:s.password&&i.password||!l&&u.error.error.password,onChange:function(e){t(e),m("password")}}))),c.a.createElement("div",{className:"dubbleRowInputs"},c.a.createElement("div",{className:"dubbleRowInputs__item"},c.a.createElement(C,{label:"Deposit Money",type:"text",value:a.depositMoney,name:"depositMoney",isError:s.depositMoney&&i.depositMoney||!l&&u.error.error.depositMoney,errorString:s.depositMoney&&i.depositMoney||!l&&u.error.error.depositMoney,onChange:function(e){t(e),m("depositMoney")}})),c.a.createElement("div",{className:"dubbleRowInputs__item"},c.a.createElement(C,{label:"Commission",type:"commission",value:a.commission,name:"commission",isError:s.commission&&i.commission||!l&&u.error.error.commission,errorString:s.commission&&i.commission||!l&&u.error.error.commission,onChange:function(e){t(e),m("commission")}}))),c.a.createElement("div",{style:{marginTop:"12px"}}),c.a.createElement(C,{label:"Address",value:a.address,name:"address",isError:s.address&&i.address||!l&&u.error.error.address,errorString:s.address&&i.address||!l&&u.error.error.address,onChange:function(e){t(e),m("address")}})))),c.a.createElement("div",{className:"addProductGridContainer__right"},c.a.createElement("div",{className:"addProductGridContainer__tag"},c.a.createElement("div",{className:"addProductGridContainer-rightItemContainer"},c.a.createElement("div",{className:"addProductGridContainer-rightItemContainer-header"},c.a.createElement("h3",null,"Areas *")),c.a.createElement("div",{className:"addProductGridContainer-rightItemContainer-body"},c.a.createElement(Wm,{setSelectedTags:z,selectedTags:G,setTagIds:A}))))))))}))},$m=ot.a.Column,ed=(ot.a.ColumnGroup,O.a.Search),td=function(e){var t=e.data,a=e.setCustomerList,n=e.roles,r=Object(o.useState)(!1),i=Object(g.a)(r,2),l=i[0],s=i[1],u=Object(o.useState)(!1),m=Object(g.a)(u,2),d=m[0],f=m[1],h=Object(_e.g)(),E=U({},"deleteDealer"),v=Object(g.a)(E,2),y=(v[0],v[1]),O=function(){var e=Object(b.a)(p.a.mark((function e(n){var r,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y({urlOptions:{placeHolders:{id:n}}});case 2:(r=e.sent)&&"ok"===r.status&&(o="Deleted Dealer",Me.a.success({message:o||"Dealer Created",description:"",icon:c.a.createElement(De.a,{style:{color:"rgba(0, 128, 0, 0.493)"}})}),i=t.filter((function(e){return e.id!==n})),a(i));case 4:case"end":return e.stop()}var o}),e)})));return function(t){return e.apply(this,arguments)}}();return c.a.createElement(c.a.Fragment,null,c.a.createElement(ot.a,{size:"small",dataSource:t},c.a.createElement($m,{title:"Code",dataIndex:"code",key:"id",className:"classnameofthecolumn",render:function(e,t){return c.a.createElement(c.a.Fragment,null,c.a.createElement("h4",{onClick:function(){h.push("/admin/dealer/".concat(t.id)),f(t)},style:{fontWeight:400,color:"#555",cursor:"pointer"}},e))}}),c.a.createElement($m,{title:"Name",dataIndex:"name",key:"id",className:"classnameofthecolumn",render:function(e,t){return c.a.createElement(c.a.Fragment,null,c.a.createElement("h4",{onClick:function(){h.push("/admin/dealer/".concat(t.id)),f(t)},style:{fontWeight:400,color:"#555",cursor:"pointer"}},e))}}),c.a.createElement($m,{title:"Commission",dataIndex:"commission",key:"id",className:"classnameofthecolumn"}),c.a.createElement($m,{title:"Deposit Money",dataIndex:"depositMoney",key:"id",className:"classnameofthecolumn"}),c.a.createElement($m,{title:"Areas",dataIndex:"area",key:"role",className:"classnameofthecolumn",render:function(e,t){return c.a.createElement(c.a.Fragment,null,e&&e.length>0&&e.slice(0,2).map((function(e){return c.a.createElement(Ht.a,{style:{borderRadius:"5px"},color:"blue",key:e._id},e.name)})),c.a.createElement("span",{style:{cursor:"pointer"},onClick:function(){h.push("/admin/dealer/".concat(t.id))}},e&&2===e.length&&"......."))}}),c.a.createElement($m,{width:150,title:"Created",dataIndex:"created",key:"id",className:"classnameofthecolumn",render:function(e,t){return c.a.createElement(dt.a,{size:"middle"},c.a.createElement("h5",null,e&&_()(e).format("MMMM Do YYYY, h:mm:ss a")))}}),D("postDealer",n)&&c.a.createElement($m,{className:"classnameofthecolumn",title:"",key:"action",align:"right",render:function(e,t){return c.a.createElement(dt.a,{size:"middle"},c.a.createElement("a",{href:"##"},c.a.createElement(pt.a,{placement:"top",title:"Edit Dealer"},c.a.createElement("span",{className:"iconSize",onClick:function(){s(!0),f(t)}},c.a.createElement(gt.a,null)))),c.a.createElement(bt.a,{onConfirm:function(){return O(t.id)},title:"Are you sure\uff1f",okText:"Yes",cancelText:"No"},c.a.createElement("span",{className:"iconSize iconSize-danger"},c.a.createElement(ft.a,null))))}})),d&&c.a.createElement(Zm,{customerList:t,setCustomerList:a,setvisible:s,visible:l,customer:d}))},ad=Object(u.b)((function(e){return{roles:e.globalState}}),null)((function(e){var t=e.roles,a=Object(o.useState)([]),n=Object(g.a)(a,2),r=n[0],i=n[1],l=U({},"dealerList"),s=Object(g.a)(l,2),u=s[0],m=s[1];console.log("dealerList",r),Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m({urlOptions:{params:{sortItem:"added",sortOrderValue:"-1",limitNumber:5e6}}});case 2:t=e.sent,i(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var d=Object(o.useState)(!1),f=Object(g.a)(d,2),h=f[0],v=f[1];return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"categoryListContainer"},c.a.createElement("div",{className:"categoryListContainer__header"},c.a.createElement("div",{className:"categoryListContainer__header-searchBar"},c.a.createElement("h2",{className:"categoryListContainer__header-title"},"Dealers"),c.a.createElement(ed,{enterButton:!1,className:"searchbarClassName",placeholder:"search dealers..",onChange:function(e){return function(e){if(u.data.length>0){var t=u.data.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())}));i(t)}}(e.target.value)}})),D("postDealer",t)&&c.a.createElement(E.a,{className:"btnPrimaryClassNameoutline",icon:c.a.createElement(ht.a,null),onClick:function(){return v(!0)}},"Add New")),c.a.createElement("div",{className:"categoryListContainer__afterHeader"}),c.a.createElement("div",{className:"categoryListContainer__categoryList"},u.done&&r.length>0&&c.a.createElement(td,{roles:t,setCustomerList:i,data:r}),u.isLoading&&c.a.createElement(ta,null),u.done&&!(r.length>0)&&c.a.createElement(Te,{title:"No Dealer found"}))),u.done&&c.a.createElement(Jm,{setCustomerList:i,addNewCategoryVisible:h,setAddNewCategoryVisible:v,customerList:u.data}))})),nd=(Ge.a.Option,y.a().shape({firstName:y.c().label("Firstname").required().min(2,"First name must have at least 2 characters "),lastName:y.c().label("Lastname").required().min(2,"Lastname must have at least 2 characters "),phone:y.c().required("Please tell us your mobile number.").max(13,"Please enter a valid mobile number."),password:y.c().label("Password").min(6,"Password must have at least 6 characters"),email:y.c().label("Email").email("Please enter a valid email")})),rd=function(e){Me.a.success({message:e||"Something Went Wrong",description:"",icon:c.a.createElement(Ct.a,{style:{color:"rgb(241, 67, 67)"}})})},od=function(e){var t=e.customer,a=e.setvisible,n=e.visible,r=e.setCustomerDetailData,i=U({},"updateDealer"),l=Object(g.a)(i,2),s=l[0],u=l[1],m=Object(o.useState)(""),d=Object(g.a)(m,2),h=d[0],E=(d[1],Object(o.useState)("")),y=Object(g.a)(E,2),O=(y[0],y[1],Object(o.useState)([])),j=Object(g.a)(O,2),N=(j[0],j[1]),x=Object(o.useState)([]),k=Object(g.a)(x,2),S=(k[0],k[1]),w=U([],"countryList"),T=Object(g.a)(w,2),_=(T[0],T[1]),D=U([],"cityList"),I=Object(g.a)(D,2),L=(I[0],I[1]),P=Object(o.useState)([]),M=Object(g.a)(P,2),R=M[0],F=M[1],A=Object(o.useState)([]),B=Object(g.a)(A,2),V=B[0],G=B[1];Object(o.useEffect)((function(){if(console.log("customerAreaCheck",t),t&&t.area&&t.area.length>0){var e=t.area.map((function(e){return e._id}));G(e),F(e)}else G([])}),[t.id]);var z=function(){var e=Object(b.a)(p.a.mark((function e(t,n){var i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u({urlOptions:{placeHolders:{id:t.id}},body:{phone:t.phone,email:t.email,password:t.password,address:t.address,firstName:t.firstName,lastName:t.lastName,code:t.code,commission:t.commission,depositMoney:t.depositMoney,dealerArea:R}});case 2:(i=e.sent)&&"ok"===i.status?(a(!1),r(Object(f.a)({},i,{id:i._id||"",key:i._id||"",name:i.firstName+" "+i.lastName}))):rd(),n.setSubmitting(!1);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();Object(o.useEffect)((function(){if(!s.isLoading){var e=s.error;if(e.isError&&Object.keys(e.error).length>0)e.error.registerError||e.error.checkoutError,(Object.values(e.error).length>0?Object.values(e.error):[]).forEach((function(e,t){if("string"===typeof e)rd(e);else if("object"===typeof e){if(e&&Object.keys(e).length>0)Object.values(e).forEach((function(e){rd(e)}))}}))}var t;!s.isLoading&&Object.keys(s.data).length>0&&"ok"===s.data.status&&(t="Dealer Updated Successfully",Me.a.success({message:t||"Dealer Updated",description:"",icon:c.a.createElement(De.a,{style:{color:"rgba(0, 128, 0, 0.493)"}})}))}),[s]);Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_({});case 2:(t=e.sent)&&t.length>0&&(a=t.map((function(e){return{value:e.name,name:e.name}})),N(a));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L({urlOptions:{placeHolders:{country:h}}});case 2:(t=e.sent)&&t.length>0&&(a=t.map((function(e){return{value:e.name,name:e.name}})),S(a));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[h]);var H=function(e){a(!1)},W=function(e,t){return!(t&&e.firstName&&e.lastName&&e.phone&&e.code)};return c.a.createElement(v.a,{onSubmit:function(e,t){return z(e,t)},validationSchema:nd,validateOnBlur:!1,enableReinitialize:!0,initialValues:Object(f.a)({},t)},(function(e){var t=e.handleChange,a=e.values,r=e.handleSubmit,i=e.errors,o=e.isValid,l=e.isSubmitting,u=e.touched,m=(e.handleBlur,e.setFieldTouched);e.handleReset;return c.a.createElement(c.a.Fragment,null,c.a.createElement(Ot.a,{title:"Quick Edit",width:"70vw",visible:n,onOk:function(e){return r(e)},onCancel:H,okText:"Update",destroyOnClose:!0,okButtonProps:{loading:l,htmlType:"submit",disabled:W(a,o)},bodyStyle:{margin:"0",padding:"10px"}},console.log("errorsupdatedealer",i),c.a.createElement("section",{className:"addProductGridContainer"},c.a.createElement("div",{className:"addProductGridContainer__left"},c.a.createElement("div",{className:"addProductGridContainer__name"},c.a.createElement("div",{className:"addProductGridContainer__item-header"},c.a.createElement("h3",null,"Dealer Information *")),c.a.createElement("div",{className:"addProductGridContainer__item-body"},c.a.createElement("div",{className:"dubbleRowInputs"},c.a.createElement("div",{className:"dubbleRowInputs__item"},c.a.createElement(C,{label:"First Name",value:a.firstName,name:"firstName",isError:u.firstName&&i.firstName||!l&&s.error.error.firstName,errorString:u.firstName&&i.firstName||!l&&s.error.error.firstName,onChange:function(e){t(e),m("firstName")}})),c.a.createElement("div",{className:"dubbleRowInputs__item"},c.a.createElement(C,{label:"Last Name",value:a.lastName,name:"lastName",isError:u.lastName&&i.lastName||!l&&s.error.error.lastName,errorString:u.lastName&&i.lastName||!l&&s.error.error.lastName,onChange:function(e){t(e),m("lastName")}}))),c.a.createElement("div",{className:"dubbleRowInputs"},c.a.createElement("div",{className:"dubbleRowInputs__item"},c.a.createElement(C,{label:"Phone",value:a.phone,name:"phone",isError:u.phone&&i.phone||!l&&s.error.error.phone,errorString:u.phone&&i.phone||!l&&s.error.error.phone,onChange:function(e){t(e),m("phone")}})),c.a.createElement("div",{className:"dubbleRowInputs__item"},c.a.createElement(C,{label:"Email",value:a.email,name:"email",isError:u.email&&i.email||!l&&s.error.error.email,errorString:u.email&&i.email||!l&&s.error.error.email,onChange:function(e){t(e),m("email")}}))),c.a.createElement("div",{className:"dubbleRowInputs"},c.a.createElement("div",{className:"dubbleRowInputs__item"},c.a.createElement(C,{label:"Dealer Code",type:"text",value:a.code,name:"code",isError:u.code&&i.code||!l&&s.error.error.code,errorString:u.code&&i.code||!l&&s.error.error.code,onChange:function(e){t(e),m("code")}})),c.a.createElement("div",{className:"dubbleRowInputs__item"},c.a.createElement(C,{label:"Password",type:"password",value:a.password,name:"password",isError:u.password&&i.password||!l&&s.error.error.password,errorString:u.password&&i.password||!l&&s.error.error.password,onChange:function(e){t(e),m("password")}}))),c.a.createElement("div",{className:"dubbleRowInputs"},c.a.createElement("div",{className:"dubbleRowInputs__item"},c.a.createElement(C,{label:"Deposit Money",type:"text",value:a.depositMoney,name:"depositMoney",isError:u.depositMoney&&i.depositMoney||!l&&s.error.error.depositMoney,errorString:u.depositMoney&&i.depositMoney||!l&&s.error.error.depositMoney,onChange:function(e){t(e),m("depositMoney")}})),c.a.createElement("div",{className:"dubbleRowInputs__item"},c.a.createElement(C,{label:"Commission",type:"commission",value:a.commission,name:"commission",isError:u.commission&&i.commission||!l&&s.error.error.commission,errorString:u.commission&&i.commission||!l&&s.error.error.commission,onChange:function(e){t(e),m("commission")}}))),c.a.createElement("div",{style:{marginTop:"12px"}}),c.a.createElement(C,{label:"Address",value:a.address,name:"address",isError:u.address&&i.address||!l&&s.error.error.address,errorString:u.address&&i.address||!l&&s.error.error.address,onChange:function(e){t(e),m("address")}})))),c.a.createElement("div",{className:"addProductGridContainer__right"},c.a.createElement("div",{className:"addProductGridContainer__tag"},c.a.createElement("div",{className:"addProductGridContainer-rightItemContainer"},c.a.createElement("div",{className:"addProductGridContainer-rightItemContainer-header"},c.a.createElement("h3",null,"Areas *")),c.a.createElement("div",{className:"addProductGridContainer-rightItemContainer-body"},c.a.createElement(Wm,{setSelectedTags:G,selectedTags:V,setTagIds:F}))))))))}))},cd=ot.a.Column,ld=(ot.a.ColumnGroup,O.a.Search,Object(u.b)((function(e){return{roles:e.globalState}}),null)((function(e){var t=e.roles,a=U({},"dealerDetail"),n=Object(g.a)(a,2),r=n[0],i=n[1],l=U({},"dealerOrderList"),s=Object(g.a)(l,2),u=s[0],m=s[1],d=U({},"dealerRegisteredCustomerList"),f=Object(g.a)(d,2),h=f[0],v=f[1],y=Object(o.useState)(!1),O=Object(g.a)(y,2),j=O[0],C=O[1],N=Object(o.useState)({}),x=Object(g.a)(N,2),k=x[0],S=x[1],w=Object(_e.h)(),T=Object(_e.g)(),_=w.id;return Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i({urlOptions:{placeHolders:{id:_}}});case 2:(t=e.sent)&&S(t),console.log("customerDetailDataRes",t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[_]),Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m({urlOptions:{placeHolders:{id:_}}});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()(),function(){var e=Object(b.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v({urlOptions:{placeHolders:{id:_}}});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[_]),console.log("dealerDetailData",k),c.a.createElement("div",{className:"brandDetailContainer"},c.a.createElement("div",{className:"brandDetailContainer__heading"},c.a.createElement("h3",null,"Dealer Detail"),r.done&&k&&Object.keys(k).length>0&&c.a.createElement(c.a.Fragment,null,c.a.createElement(od,{visible:j,setvisible:C,customer:k,setCustomerDetailData:S}),D("postDealer",t)&&c.a.createElement(E.a,{onClick:function(){return C(!0)},type:"link",icon:c.a.createElement(gt.a,null)},"Edit"))),c.a.createElement(ma.a,{paragraph:{rows:2},loading:r.isLoading},r.done&&k&&!(Object.keys(k).length>0)&&c.a.createElement(we.a,{description:"No Dealer found",image:we.a.PRESENTED_IMAGE_SIMPLE}),r.done&&k&&Object.keys(k).length>0&&c.a.createElement("div",{className:"brandDetailContainer__header"},c.a.createElement("div",{className:"brandDetailContainer__header-info"},c.a.createElement("h2",null,k.name),k.code&&c.a.createElement("h3",null,"CODE:",c.a.createElement("span",null,k.code)),k.commision&&c.a.createElement("h3",null,"COMMISSION:",c.a.createElement("span",null,k.commision)),k.depositMoney&&c.a.createElement("h3",null,"DEPOSIT MONEY:",c.a.createElement("span",null,k.depositMoney)),k.city&&c.a.createElement("h3",null,"CITY:",c.a.createElement("span",null,k.city)),k.address1&&c.a.createElement("h3",null,"ADDRESS:",c.a.createElement("span",null,k.address1)),k.phone&&c.a.createElement("h3",null,"PHONE:",c.a.createElement("span",null,k.phone)),k.email&&c.a.createElement("h3",null,"EMAIL:",c.a.createElement("span",null,k.email)),k.area&&k.area.length>0&&c.a.createElement(c.a.Fragment,null,c.a.createElement("h3",null,"AREAS:",k.area.map((function(e){return c.a.createElement("span",null,e.name)}))))))),c.a.createElement("div",{className:"dealerDetailBodyContainer"},c.a.createElement("div",{className:"dealerDetailBodyContainer__item"},c.a.createElement("div",{className:"brandDetailContainer__heading"},c.a.createElement("h3",null,"Orders")),c.a.createElement("div",{className:"brandDetailContainer__body"},u.isLoading&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{style:{margin:"100px"}},c.a.createElement(Re.a,{size:"large"}))),u.done&&!(u.data.length>0)&&c.a.createElement("div",{style:{marginTop:"100px"}},c.a.createElement(we.a,{description:"No Orders found",image:we.a.PRESENTED_IMAGE_SIMPLE})),u.done&&u.data&&u.data.length>0&&c.a.createElement(c.a.Fragment,null,c.a.createElement(ot.a,{style:{paddingTop:"10px",borderRadius:"5px !important",overflow:"hidden",boxShadow:"0 0.125rem 0.625rem rgba(227, 231, 250, 0.3), 0 0.0625rem 0.125rem rgba(206, 220, 233, 0.4)"},size:"small",dataSource:u.data,tableLayout:"auto",onHeaderRow:function(e){return{style:{color:"red !important"}}}},c.a.createElement(cd,{title:"Code",dataIndex:"shortCode",key:"id",className:"classnameofthecolumn",render:function(e,t){return c.a.createElement(c.a.Fragment,null,c.a.createElement("h4",{onClick:function(){T.push("/admin/order/".concat(t.id))},style:{fontWeight:400,color:"#555",cursor:"pointer"}},"#",e))}}),c.a.createElement(cd,{title:"Name",dataIndex:"name",key:"id",className:"classnameofthecolumn",render:function(e,t){return c.a.createElement(c.a.Fragment,null,c.a.createElement("h4",{onClick:function(){T.push("/admin/order/".concat(t.id))},style:{fontWeight:400,color:"#555",cursor:"pointer"}},e))}}),c.a.createElement(cd,{title:"Total Price",dataIndex:"total",key:"id",className:"classnameofthecolumn"}),c.a.createElement(cd,{width:150,title:"Status",dataIndex:"status",key:"id",className:"classnameofthecolumn",render:function(e,t){return c.a.createElement(c.a.Fragment,null,c.a.createElement("a",{href:"##"},c.a.createElement("span",{style:{fontSize:"12px"}},e)))}}))))),c.a.createElement("div",{className:"dealerDetailBodyContainer__item"},c.a.createElement("div",{className:"brandDetailContainer__heading"},c.a.createElement("h3",null,"Customers")),c.a.createElement("div",{className:"brandDetailContainer__body"},h.isLoading&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{style:{margin:"100px"}},c.a.createElement(Re.a,{size:"large"}))),h.done&&!(h.data.length>0)&&c.a.createElement("div",{style:{marginTop:"100px"}},c.a.createElement(we.a,{description:"No Customer found",image:we.a.PRESENTED_IMAGE_SIMPLE})),h.done&&h.data&&h.data.length>0&&c.a.createElement(c.a.Fragment,null,c.a.createElement(ot.a,{style:{paddingTop:"10px",borderRadius:"5px !important",overflow:"hidden",boxShadow:"0 0.125rem 0.625rem rgba(227, 231, 250, 0.3), 0 0.0625rem 0.125rem rgba(206, 220, 233, 0.4)"},size:"small",dataSource:h.data,tableLayout:"auto",onHeaderRow:function(e){return{style:{color:"red !important"}}}},c.a.createElement(cd,{title:"Name",dataIndex:"name",key:"id",className:"classnameofthecolumn",render:function(e,t){return c.a.createElement(c.a.Fragment,null,c.a.createElement("h4",{onClick:function(){T.push("/admin/customer/".concat(t.id))},style:{fontWeight:400,color:"#555",cursor:"pointer"}},e))}}),c.a.createElement(cd,{title:"Order",dataIndex:"orderCount",key:"id",className:"classnameofthecolumn"}),c.a.createElement(cd,{title:"Total Price",dataIndex:"totalOrderPrice",key:"id",className:"classnameofthecolumn"})))))))}))),sd=y.a().shape({name:y.c().label("Name").required("Name is required").min(3,"Name must have at least 3 characters")}),ud=function(e){Me.a.success({message:e||"Something Went Wrong",description:"",icon:c.a.createElement(De.a,{style:{color:"rgb(241, 67, 67)"}})})},md={name:"",bnName:"",description:"",bnDescription:"",metaTitle:"",bnMetaTitle:"",metaDescription:"",bnMetaDescription:"",metaTags:"",bnMetaTags:""},dd=function(e){var t=e.tagEditVisible,a=e.setTagEditVisible,n=e.tagDetailData,r=e.setTagList,i=e.tagList,o=U({},"updateDealerArea"),l=Object(g.a)(o,2),s=l[0],u=l[1],m=function(){var e=Object(b.a)(p.a.mark((function e(t,n){var o,l,s,m;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u({urlOptions:{placeHolders:{id:t.id}},body:{name:t.name}});case 2:(o=e.sent)&&"ok"===o.status?(l=function(){return i.map((function(e){return e.id})).indexOf(t.id)}(),s=Object.assign({},i[l],Object(f.a)({},o)),m=[].concat(Object(fe.a)(i.slice(0,l)),[s],Object(fe.a)(i.slice(l+1))),r(m),console.log("categoryupdateTagRes",o),d=void 0,Me.a.success({message:d||"Area Updated",description:"",icon:c.a.createElement(De.a,{style:{color:"rgba(0, 128, 0, 0.493)"}})}),a(!1)):ud(),n.setSubmitting(!1);case 5:case"end":return e.stop()}var d}),e)})));return function(t,a){return e.apply(this,arguments)}}(),d=function(e){a(!1)},h=function(e,t){return!e.name||!t};return c.a.createElement(v.a,{onSubmit:function(e,t){return m(e,t)},validationSchema:sd,validateOnBlur:!1,enableReinitialize:!0,initialValues:Object(f.a)({},md,{},n,{},n&&Object.keys(n).length>0&&{bnMetaTitle:n.bn&&n.bn.metaTitle&&n.bn.metaTitle,bnMetaDescription:n.bn&&n.bn.metaDescription&&n.bn.metaDescription,bnName:n.bn&&n.bn.name&&n.bn.name,bnDescription:n.bn&&n.bn.description&&n.bn.description})},(function(e){var a=e.handleChange,n=e.values,r=e.handleSubmit,i=e.errors,o=e.isValid,l=e.isSubmitting,u=e.touched,m=(e.handleBlur,e.setFieldTouched);e.handleReset;return c.a.createElement(c.a.Fragment,null,c.a.createElement(Ot.a,{style:{top:"40px"},title:"Area Edit",visible:t,onOk:function(e){return r(e)},onCancel:d,okText:"Update",okButtonProps:{loading:l,htmlType:"submit",disabled:h(n,o)}},c.a.createElement(C,{label:"Name",value:n.name,name:"name",isError:u.name&&i.name||!l&&s.error.error.name,errorString:u.name&&i.name||!l&&s.error.error.name,onChange:function(e){a(e),m("name")}})))}))},pd=y.a().shape({name:y.c().label("Name").required("Name is required").min(3,"Name must have at least 3 characters")}),bd=function(e){Me.a.error({message:e||"Something Went Wrong",description:"",icon:c.a.createElement(De.a,{style:{color:"rgb(241, 67, 67)"}})})},gd={name:""},fd=function(e){var t=e.addNewCategoryVisible,a=e.setAddNewCategoryVisible,n=e.tagList,r=e.setTagList,i=U({},"addDealerArea"),l=Object(g.a)(i,2),s=l[0],u=l[1],m=Object(o.useState)(!1),d=Object(g.a)(m,2),h=d[0],E=d[1],y=Object(o.useState)(!1),O=Object(g.a)(y,2),j=O[0],N=O[1],x=function(){var e=Object(b.a)(p.a.mark((function e(t,i){var o;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u({urlOptions:{placeHolders:{id:t.id}},body:{name:t.name.trim()}});case 2:(o=e.sent)&&"ok"===o.status?(l=void 0,Me.a.success({message:l||"Area Created",description:"",icon:c.a.createElement(De.a,{style:{color:"rgba(0, 128, 0, 0.493)"}})}),r([{id:o._id||"",key:o._id||"",name:o.name||""}].concat(Object(fe.a)(n))),i.resetForm(),a(!1)):bd(),i.setSubmitting(!1);case 5:case"end":return e.stop()}var l}),e)})));return function(t,a){return e.apply(this,arguments)}}(),k=function(e){a(!1)},S=function(e,t){return!e.name||!t};return c.a.createElement(v.a,{onSubmit:function(e,t){return x(e,t)},validationSchema:pd,validateOnBlur:!1,enableReinitialize:!0,initialValues:Object(f.a)({},gd)},(function(e){var a=e.handleChange,n=e.values,r=e.handleSubmit,i=e.errors,o=e.isValid,l=e.isSubmitting,u=e.touched,m=(e.handleBlur,e.setFieldTouched);e.handleReset;return c.a.createElement(c.a.Fragment,null,c.a.createElement(Ot.a,{style:{top:"40px"},title:"Add New Area",visible:t,onOk:function(e){return r(e)},onCancel:k,okText:"Create",okButtonProps:{loading:l,htmlType:"submit",disabled:S(n,o)}},c.a.createElement(C,{label:"Name",value:n.name,name:"name",isError:u.name&&i.name||!l&&s.error.error.name,errorString:u.name&&i.name||!l&&s.error.error.name,onChange:function(e){a(e),m("name")}})),c.a.createElement(Vt,{setvisible:N,visible:j,setmyImages:E,myImages:h,isModalOpenForImages:!0}))}))},hd=(y.a().shape({name:y.c().label("Name").required("Name is required").min(3,"Name must have at least 3 characters")}),ot.a.Column),Ed=(ot.a.ColumnGroup,O.a.Search),vd=function(e){var t=e.data,a=e.setTagList,n=Object(o.useState)(!1),r=Object(g.a)(n,2),i=r[0],l=r[1],s=Object(o.useState)(!1),u=Object(g.a)(s,2),m=u[0],d=u[1],f=U({},"deleteDealerArea"),h=Object(g.a)(f,2),E=(h[0],h[1]),v=Object(_e.g)(),y=function(){var e=Object(b.a)(p.a.mark((function e(n){var r,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E({urlOptions:{placeHolders:{id:n}}});case 2:(r=e.sent)&&"ok"===r.status&&(o="Deleted Area",Me.a.success({message:o||"Area Created",description:"",icon:c.a.createElement(De.a,{style:{color:"rgba(0, 128, 0, 0.493)"}})}),i=t.filter((function(e){return e.id!==n})),a(i));case 4:case"end":return e.stop()}var o}),e)})));return function(t){return e.apply(this,arguments)}}();return c.a.createElement(c.a.Fragment,null,c.a.createElement(ot.a,{size:"small",dataSource:t},c.a.createElement(hd,{title:"Name",dataIndex:"name",key:"id",className:"classnameofthecolumn",render:function(e,t){return c.a.createElement(c.a.Fragment,null,c.a.createElement("h4",{onClick:function(){v.push("/admin/dealer/area/".concat(t.id)),d(t)},style:{fontWeight:400,color:"#555",cursor:"pointer"}},e))}}),c.a.createElement(hd,{className:"classnameofthecolumn",title:"",key:"action",align:"right",render:function(e,t){return c.a.createElement(dt.a,{size:"middle"},c.a.createElement("a",{href:"##"},c.a.createElement(pt.a,{placement:"top",title:"Edit Area"},c.a.createElement("span",{className:"iconSize",onClick:function(){l(!0),d(t)}},c.a.createElement(gt.a,null)))),c.a.createElement(bt.a,{onConfirm:function(){return y(t.id)},title:"Are you sure\uff1f",okText:"Yes",cancelText:"No"},c.a.createElement("span",{className:"iconSize iconSize-danger"},c.a.createElement(ft.a,null))))}})),m&&c.a.createElement(dd,{tagList:t,setTagList:a,tagEditVisible:i,setTagEditVisible:l,tagDetailData:m}))},yd=function(e){Object(h.a)(e);var t=Object(o.useState)([]),a=Object(g.a)(t,2),n=a[0],r=a[1],i=U({},"dealerAreaList"),l=Object(g.a)(i,2),s=l[0],u=l[1];Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u({urlOptions:{params:{sortItem:"added",sortOrderValue:"-1"}}});case 2:t=e.sent,r(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var m=Object(o.useState)(!1),d=Object(g.a)(m,2),f=d[0],v=d[1];return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"categoryListContainer"},c.a.createElement("div",{className:"categoryListContainer__header"},c.a.createElement("div",{className:"categoryListContainer__header-searchBar-tag"},c.a.createElement("h2",{className:"categoryListContainer__header-title"},"Areas"),c.a.createElement(Ed,{enterButton:!1,className:"searchbarClassName",placeholder:"search areas..",onChange:function(e){return function(e){if(s.data.length>0){var t=s.data.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())}));r(t)}}(e.target.value)}})),c.a.createElement(E.a,{className:"btnPrimaryClassNameoutline",icon:c.a.createElement(ht.a,null),onClick:function(){return v(!0)}},"Add New")),c.a.createElement("div",{className:"categoryListContainer__categoryList"},s.done&&n.length>0&&c.a.createElement(vd,{setTagList:r,data:n}),s.isLoading&&c.a.createElement(ta,null),s.done&&!(n.length>0)&&c.a.createElement("div",{style:{marginTop:"200px"}},c.a.createElement(we.a,{description:"No Area found",image:we.a.PRESENTED_IMAGE_SIMPLE})))),c.a.createElement(fd,{tagList:n,setTagList:r,addNewCategoryVisible:f,setAddNewCategoryVisible:v}))},Od=y.a().shape({name:y.c().label("Name").required("Name is required").min(3,"Name must have at least 3 characters")}),jd=function(e){Me.a.success({message:e||"Something Went Wrong",description:"",icon:c.a.createElement(De.a,{style:{color:"rgb(241, 67, 67)"}})})},Cd={name:""},Nd=function(e){var t=e.tagEditVisible,a=e.setTagEditVisible,n=e.tagDetailData,r=e.setTagDetailData,i=U({},"updateDealerArea"),o=Object(g.a)(i,2),l=o[0],s=o[1],u=function(){var e=Object(b.a)(p.a.mark((function e(t,n){var i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s({urlOptions:{placeHolders:{id:t.id}},body:{name:t.name}});case 2:(i=e.sent)&&"ok"===i.status?(r({id:t.id,key:t.id,name:t.name}),console.log("categoryupdateTagRes",i),o=void 0,Me.a.success({message:o||"Area Updated",description:"",icon:c.a.createElement(De.a,{style:{color:"rgba(0, 128, 0, 0.493)"}})})):jd(),n.setSubmitting(!1),a(!1);case 6:case"end":return e.stop()}var o}),e)})));return function(t,a){return e.apply(this,arguments)}}(),m=function(e){a(!1)},d=function(e,t){return!e.name||!t};return console.log("tagDetailData",n),c.a.createElement(v.a,{onSubmit:function(e,t){return u(e,t)},validationSchema:Od,validateOnBlur:!1,enableReinitialize:!0,initialValues:Object(f.a)({},Cd,{},n,{},n&&Object.keys(n).length>0&&{bnMetaTitle:n.bn&&n.bn.metaTitle&&n.bn.metaTitle,bnMetaDescription:n.bn&&n.bn.metaDescription&&n.bn.metaDescription,bnName:n.bn&&n.bn.name&&n.bn.name,bnDescription:n.bn&&n.bn.description&&n.bn.description})},(function(e){var a=e.handleChange,n=e.values,r=e.handleSubmit,i=e.errors,o=e.isValid,s=e.isSubmitting,u=e.touched,p=(e.handleBlur,e.setFieldTouched);e.handleReset;return c.a.createElement(c.a.Fragment,null,c.a.createElement(Ot.a,{style:{top:"40px"},title:"Area Edit",visible:t,onOk:function(e){return r(e)},onCancel:m,okText:"Update",okButtonProps:{loading:s,htmlType:"submit",disabled:d(n,o)}},c.a.createElement(C,{label:"Name",value:n.name,name:"name",isError:u.name&&i.name||!s&&l.error.error.name,errorString:u.name&&i.name||!s&&l.error.error.name,onChange:function(e){a(e),p("name")}})))}))},xd=ot.a.Column,kd=(ot.a.ColumnGroup,O.a.Search,function(e){var t=U({},"dealerAreaDetail"),a=Object(g.a)(t,2),n=a[0],r=a[1],i=U({},"dealerListByArea"),l=Object(g.a)(i,2),s=l[0],u=l[1],m=Object(o.useState)(!1),d=Object(g.a)(m,2),f=d[0],h=d[1],v=Object(o.useState)({}),y=Object(g.a)(v,2),O=y[0],j=y[1];console.log("dealerListByArea",s);var C=Object(_e.h)(),N=Object(_e.g)(),x=C.id;return Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r({urlOptions:{placeHolders:{id:x}}});case 2:(t=e.sent)&&(console.log("tagDetailRes",t),j(t));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[x]),Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u({urlOptions:{placeHolders:{id:x}}});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[x]),console.log("tagProductsState",s),console.log("brandParams",C),c.a.createElement("div",{className:"brandDetailContainer"},c.a.createElement("div",{className:"brandDetailContainer__heading"},c.a.createElement("h3",null,"Area Detail"),n.done&&O&&Object.keys(O).length>0&&c.a.createElement(c.a.Fragment,null,c.a.createElement(Nd,{tagEditVisible:f,setTagEditVisible:h,tagDetailData:O,setTagDetailData:j}),c.a.createElement(E.a,{onClick:function(){return h(!0)},type:"link",icon:c.a.createElement(gt.a,null)},"Edit"))),c.a.createElement(ma.a,{paragraph:{rows:2},loading:n.isLoading},n.done&&O&&!(Object.keys(O).length>0)&&c.a.createElement(we.a,{description:"No Area found",image:we.a.PRESENTED_IMAGE_SIMPLE}),n.done&&O&&Object.keys(O).length>0&&c.a.createElement("div",{className:"brandDetailContainer__header"},c.a.createElement("div",{className:"brandDetailContainer__header-info"},c.a.createElement("h2",null,O.name),O.url&&c.a.createElement("h3",null,"URL:",c.a.createElement("span",null,O.url))))),c.a.createElement("div",{className:"brandDetailContainer__heading"},c.a.createElement("h3",null,"Dealers")),c.a.createElement("div",{className:"brandDetailContainer__body"},s.isLoading&&c.a.createElement(ta,null),s.done&&!(s.data.length>0)&&c.a.createElement("div",{style:{marginTop:"100px"}},c.a.createElement(we.a,{description:"No Dealer exists for this area",image:we.a.PRESENTED_IMAGE_SIMPLE})),s.done&&s.data&&s.data.length>0&&c.a.createElement(c.a.Fragment,null,c.a.createElement(ot.a,{style:{paddingTop:"10px",borderRadius:"5px !important",overflow:"hidden",boxShadow:"0 0.125rem 0.625rem rgba(227, 231, 250, 0.3), 0 0.0625rem 0.125rem rgba(206, 220, 233, 0.4)"},size:"small",dataSource:s.data,tableLayout:"auto",onHeaderRow:function(e){return{style:{color:"red !important"}}}},c.a.createElement(xd,{title:"Code",dataIndex:"code",key:"id",className:"classnameofthecolumn",render:function(e,t){return c.a.createElement(c.a.Fragment,null,c.a.createElement("h4",{onClick:function(){N.push("/admin/dealer/".concat(t.id))},style:{fontWeight:400,color:"#555",cursor:"pointer"}},e))}}),c.a.createElement(xd,{title:"Name",dataIndex:"name",key:"id",className:"classnameofthecolumn",render:function(e,t){return c.a.createElement(c.a.Fragment,null,c.a.createElement("h4",{onClick:function(){N.push("/admin/dealer/".concat(t.id))},style:{fontWeight:400,color:"#555",cursor:"pointer"}},e))}}),c.a.createElement(xd,{title:"Commission",dataIndex:"commission",key:"id",className:"classnameofthecolumn"}),c.a.createElement(xd,{title:"Deposit Money",dataIndex:"depositMoney",key:"id",className:"classnameofthecolumn"}),c.a.createElement(xd,{width:150,title:"Created",dataIndex:"created",key:"id",className:"classnameofthecolumn",render:function(e,t){return c.a.createElement(dt.a,{size:"middle"},c.a.createElement("h5",null,e&&_()(e).format("MMMM Do YYYY, h:mm:ss a")))}})))))}),Sd=K.a.Content,wd=function(e){return c.a.createElement(Sd,{hasSider:!0,style:{backgroundColor:"#fff",paddingTop:"20px",marginLeft:"260px",marginTop:"50px"}},c.a.createElement(_e.d,null,c.a.createElement(_e.b,{exact:!0,path:"/",render:function(){return c.a.createElement(_e.a,{to:"/admin/overview"})}}),c.a.createElement(_e.b,{exact:!0,path:"/admin",render:function(){return c.a.createElement(_e.a,{to:"/admin/overview"})}}),c.a.createElement(_e.b,{path:"/admin/overview",exact:!0},c.a.createElement(mt,null)),c.a.createElement(_e.b,{path:"/admin/category",exact:!0},c.a.createElement(ia,null)),c.a.createElement(_e.b,{path:"/admin/category/:id",exact:!0},c.a.createElement(ya,null)),c.a.createElement(_e.b,{path:"/admin/brand/new",exact:!0},c.a.createElement(rn,null)),c.a.createElement(_e.b,{path:"/admin/brand",exact:!0},c.a.createElement(gn,null)),c.a.createElement(_e.b,{path:"/admin/brand/:id",exact:!0},c.a.createElement(Cn,null)),c.a.createElement(_e.b,{path:"/admin/product",exact:!0},c.a.createElement(Jn,null)),c.a.createElement(_e.b,{path:"/admin/product/:id",exact:!0},c.a.createElement(tr,null)),c.a.createElement(_e.b,{path:"/admin/bundle",exact:!0},c.a.createElement(Ja,null)),c.a.createElement(_e.b,{path:"/admin/bundle/:id",exact:!0},c.a.createElement(en,null)),c.a.createElement(_e.b,{path:"/admin/coupon",exact:!0},c.a.createElement(Ur,null)),c.a.createElement(_e.b,{path:"/admin/posts",exact:!0},c.a.createElement(tu,null)),c.a.createElement(_e.b,{path:"/admin/posts/tag",exact:!0},c.a.createElement(Eu,null)),c.a.createElement(_e.b,{path:"/admin/posts/category",exact:!0},c.a.createElement(Au,null)),c.a.createElement(_e.b,{path:"/admin/posts/:id",exact:!0},c.a.createElement(ou,null)),c.a.createElement(_e.b,{path:"/admin/posts/tag/:id",exact:!0},c.a.createElement(Nu,null)),c.a.createElement(_e.b,{path:"/admin/posts/category/:id",exact:!0},c.a.createElement(Wu,null)),c.a.createElement(_e.b,{path:"/admin/coupon/:id",exact:!0},c.a.createElement(Sr,null)),c.a.createElement(_e.b,{path:"/admin/notification",exact:!0},c.a.createElement(ps,null)),c.a.createElement(_e.b,{path:"/admin/tag",exact:!0},c.a.createElement(pr,null)),c.a.createElement(_e.b,{path:"/admin/tag/new",exact:!0},c.a.createElement(sr,null)),c.a.createElement(_e.b,{path:"/admin/tag/:id",exact:!0},c.a.createElement(vr,null)),c.a.createElement(_e.b,{path:"/admin/attribute",exact:!0},c.a.createElement(Mi,null)),c.a.createElement(_e.b,{path:"/admin/order",exact:!0},c.a.createElement(ao,null)),c.a.createElement(_e.b,{path:"/admin/order/new",exact:!0},c.a.createElement(yo,null)),c.a.createElement(_e.b,{path:"/admin/order/overview",exact:!0},c.a.createElement($o,null)),c.a.createElement(_e.b,{path:"/admin/order/config",exact:!0},c.a.createElement(ec,null)),c.a.createElement(_e.b,{path:"/admin/order/:id",exact:!0},c.a.createElement(Do,null)),c.a.createElement(_e.b,{path:"/admin/dealer",exact:!0},c.a.createElement(ad,null)),c.a.createElement(_e.b,{path:"/admin/dealer/area",exact:!0},c.a.createElement(yd,null)),c.a.createElement(_e.b,{path:"/admin/dealer/area/:id",exact:!0},c.a.createElement(kd,null)),c.a.createElement(_e.b,{path:"/admin/dealer/:id",exact:!0},c.a.createElement(ld,null)),c.a.createElement(_e.b,{path:"/admin/staff",exact:!0},c.a.createElement(rm,null)),c.a.createElement(_e.b,{path:"/admin/salaryReport",exact:!0},c.a.createElement(Om,null)),c.a.createElement(_e.b,{path:"/admin/salaryReport/:id",exact:!0},c.a.createElement(Nm,null)),c.a.createElement(_e.b,{path:"/admin/staff/:id",exact:!0},c.a.createElement(sm,null)),c.a.createElement(_e.b,{path:"/admin/expense",exact:!0},c.a.createElement(Fm,null)),c.a.createElement(_e.b,{path:"/admin/expense/:id",exact:!0},c.a.createElement(Gm,null)),c.a.createElement(_e.b,{path:"/admin/acccounting/overview",exact:!0},c.a.createElement(ao,null)),c.a.createElement(_e.b,{path:"/admin/customer",exact:!0},c.a.createElement(ai,null)),c.a.createElement(_e.b,{path:"/admin/customer/:id",exact:!0},c.a.createElement(si,null)),c.a.createElement(_e.b,{path:"/admin/page",exact:!0},c.a.createElement(pi,null)),c.a.createElement(_e.b,{path:"/admin/page/new",exact:!0},c.a.createElement(Oi,null)),c.a.createElement(_e.b,{path:"/admin/page/edit/:id",exact:!0},c.a.createElement(ki,null)),c.a.createElement(_e.b,{path:"/admin/page/:id",exact:!0},c.a.createElement(fi,null)),c.a.createElement(_e.b,{path:"/admin/delivery",exact:!0},c.a.createElement(ul,null)),c.a.createElement(_e.b,{path:"/admin/settings/components",exact:!0},c.a.createElement(fc,null)),c.a.createElement(_e.b,{path:"/admin/settings/image",exact:!0},c.a.createElement(kc,null)),c.a.createElement(_e.b,{path:"/admin/settings/themes",exact:!0},c.a.createElement(xc,null)),c.a.createElement(_e.b,{path:"/admin/settings/invoice",exact:!0},c.a.createElement(Sc,null)),c.a.createElement(_e.b,{path:"/admin/settings/siteInfo",exact:!0},c.a.createElement(Hc,null)),c.a.createElement(_e.b,{path:"/admin/settings/admins",exact:!0},c.a.createElement(Ls,null)),c.a.createElement(_e.b,{path:"/admin/settings/admins/:id",exact:!0},c.a.createElement(Fs,null)),c.a.createElement(_e.b,{path:"/admin/sms",exact:!0},c.a.createElement(Bl,null)),c.a.createElement(_e.b,{path:"/admin/email",exact:!0},c.a.createElement(ds,null))))},Td=K.a.Footer,_d=function(e){return c.a.createElement(Td,{style:{textAlign:"center",background:"#fff",color:"#1890ff"}},"\xa9 2020 The Admin - Developed By Lotus Technology Development.")},Dd={saveRoles:n.saveRoles,saveCredentials:r.saveCredentials},Id=Object(u.b)((function(e){return{globalState:e.globalState}}),Dd)((function(e){var t=e.saveRoles,a=(e.saveCredentials,U({},"getAdminCredential")),n=Object(g.a)(a,2),r=(n[0],n[1]);return Object(o.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r({});case 2:(a=e.sent)&&a.role&&t(a.role||[]);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),c.a.createElement(Y.a,null,c.a.createElement(_e.d,null,c.a.createElement(_e.b,{path:"/admin/login",exact:!0},c.a.createElement(q,null))),c.a.createElement(_e.d,null,c.a.createElement(K.a,{style:{minHeight:"100vh"}},c.a.createElement(Ve,null),c.a.createElement(K.a,{className:"site-layout"},c.a.createElement(Se,null),c.a.createElement(wd,null)),c.a.createElement(_d,null))))})),Ld=a(56),Pd=a(336),Md=a(477),Rd=a.n(Md);function Fd(e){return!e||!e.async||!e.blocking}function Ad(e){return e.includes("_COMPLETED")||e.includes("_FAILED")}var Bd,Vd=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;return Fd(t.meta)?e:Ad(t.type)?e-1:e+1};function Ud(e,t){return e.map((function(e){return e.product.id})).indexOf(t.id)}function Gd(e,t,a){return{product:e,quantity:t,isSelectedForCheckout:a}}var zd,Hd=he([])((Bd={},Object(ge.a)(Bd,"cart/TOGGLE",(function(e,t){var a=t.payload,n=a.product,r=a.quantity,i=a.isSelectedForCheckout;return-1===Ud(e,n)?[Gd(n,r,i)].concat(Object(fe.a)(e)):e.filter((function(e){return e.product.id!==n.id}))})),Object(ge.a)(Bd,"cart/ADD_PRODUCTS_TO_CART",(function(e,t){var a=t.payload.cartItems;return a.length>0?a:Object(fe.a)(e)})),Object(ge.a)(Bd,"wishList/SELECT_PRODUCT_FOR_CHECKOUT",(function(e,t){var a=t.payload.product,n=Ud(e,a.product);if(-1===n)return[].concat(Object(fe.a)(e),[Object(f.a)({},a,{isSelectedForCheckout:!0})]);if(-1!==n&&!a.isSelectedForCheckout){var r=e.filter((function(e){return e.product.id!==a.product.id}));return[].concat(Object(fe.a)(r),[Object(f.a)({},a,{isSelectedForCheckout:!0})])}var i=e.filter((function(e){return e.product.id!==a.product.id}));return[].concat(Object(fe.a)(i),[Object(f.a)({},a,{isSelectedForCheckout:!1})])})),Object(ge.a)(Bd,"cart/CHANGE_QUANTITY",(function(e,t){var a=t.payload,n=a.product,r=a.quantity,i=Ud(e,n),o=Object.assign({},e[i],{quantity:r});return[].concat(Object(fe.a)(e.slice(0,i)),[o],Object(fe.a)(e.slice(i+1)))})),Object(ge.a)(Bd,"cart/REMOVE",(function(e,t){var a=Ud(e,t.payload.product);return[].concat(Object(fe.a)(e.slice(0,a)),Object(fe.a)(e.slice(a+1)))})),Object(ge.a)(Bd,"cart/CLEAR",(function(){return[]})),Bd));function Wd(e,t){return e.map((function(e){return e})).indexOf(t)}var qd,Yd=he([])((zd={},Object(ge.a)(zd,"wishList/TOGGLE",(function(e,t){var a=t.payload.productId;return-1===Wd(e,a)?[].concat(Object(fe.a)(e),[a]):e.filter((function(e){return e!==a}))})),Object(ge.a)(zd,"wishList/ADD_WISHLIST",(function(e,t){var a=t.payload;return Object(fe.a)(a)})),Object(ge.a)(zd,"wishList/REMOVE",(function(e,t){var a=Wd(e,t.payload.productId);return[].concat(Object(fe.a)(e.slice(0,a)),Object(fe.a)(e.slice(a+1)))})),Object(ge.a)(zd,"wishList/CLEAR",(function(){return[]})),zd));var Kd,Jd=he([])((qd={},Object(ge.a)(qd,"checkout/ADD_PRODUCTS_TO_CHECKOUT",(function(e,t){var a=t.payload.products;return a.length>0?a.filter((function(t){return-1==e.indexOf(t)})):Object(fe.a)(e)})),Object(ge.a)(qd,"checkout/REMOVE",(function(e,t){var a=function(e,t){return e.map((function(e){return e.product.id})).indexOf(t.id)}(e,t.payload.product);return[].concat(Object(fe.a)(e.slice(0,a)),Object(fe.a)(e.slice(a+1)))})),Object(ge.a)(qd,"checkout/CLEAR",(function(){return[]})),qd)),Qd="serach/ADD";function Xd(e,t){return e.map((function(e){return e.key})).indexOf(t.key)}var Zd,$d,ep,tp,ap=he([])((Kd={},Object(ge.a)(Kd,Qd,(function(e,t){var a=t.payload.query,n=Xd(e,a);if(-1===n)return[a].concat(Object(fe.a)(e));var r=e[n],i=Object.assign({},r);return[].concat(Object(fe.a)(e.slice(0,n)),[i],Object(fe.a)(e.slice(n+1)))})),Object(ge.a)(Kd,"serach/UPDATE",(function(e,t){var a=t.payload.query,n=e.find((function(e){return e.key!==a.key})),r=e.filter((function(e){return e.key!==a.key}));return[].concat(Object(fe.a)(r),[Object(f.a)({},n,{},a)])})),Object(ge.a)(Kd,"serach/REMOVE",(function(e,t){var a=Xd(e,t.payload.product);return[].concat(Object(fe.a)(e.slice(0,a)),Object(fe.a)(e.slice(a+1)))})),Object(ge.a)(Kd,"serach/CLEAR",(function(){return[]})),Kd)),np=he(null)(Object(ge.a)({},"product/FETCH_DETAILS_COMPLETED",(function(e,t){return t.payload.product}))),rp=he([])(Object(ge.a)({},"product/FETCH_LIST_COMPLETED",(function(e,t){return t.payload.products}))),ip=Object(Ld.c)({details:np,list:rp}),op=he(!1)((Zd={},Object(ge.a)(Zd,"session/LOGIN",(function(){return!0})),Object(ge.a)(Zd,"session/LOGOUT",(function(){return!1})),Zd)),cp=he(null)(Object(ge.a)({},"session/SET_REDIRECT_AFTER_LOGIN",(function(e,t){return t.payload.redirectUrl}))),lp=Object(Ld.c)({isAuthenticated:op,redirectAfterLogin:cp}),sp=he([])(($d={},Object(ge.a)($d,"category/ADD_CATEGORIES",(function(e,t){var a=t.payload.categories;return a||Object(fe.a)(e)})),Object(ge.a)($d,"category/GET_CATEGORIES",(function(e,t){return Object(fe.a)(e)})),$d)),up=(a(428),sp),mp=he({})(Object(ge.a)({},"category/ADD_ITEM_TO_CACHE",(function(e,t){var a=t.payload.response;return a?Object(f.a)({},e,{},a):Object(f.a)({},e)}))),dp=(a(429),mp),pp=he([])((ep={},Object(ge.a)(ep,"category/ADD_BRAND",(function(e,t){var a=t.payload.brands;return a||Object(fe.a)(e)})),Object(ge.a)(ep,"category/GET_BRAND",(function(e,t){return Object(fe.a)(e)})),ep)),bp=(a(430),pp),gp=he([])((tp={},Object(ge.a)(tp,"tag/ADD_TAGS",(function(e,t){var a=t.payload.tags;return a||Object(fe.a)(e)})),Object(ge.a)(tp,"tag/GET_TAGS",(function(e,t){return Object(fe.a)(e)})),tp)),fp=(a(431),gp),hp="undefined"===typeof document?"http://localhost:7777/api":"/api",Ep=function(){return function(e){return function(t){var a=e(t);if(!t.meta||!t.meta.async)return a;var n=t.meta,r=n.path,i=n.method,o=void 0===i?"GET":i,c=n.body;if(!r)throw new Error("'path' not specified for async action ".concat(t.type));var l="".concat(hp).concat(r);return ye(l,o,c).then((function(a){return function(e,t,a){return a({type:"".concat(t.type,"_COMPLETED"),payload:e,meta:t.meta}),e}(a,t,e)}),(function(a){return function(e,t,a){return a({type:"".concat(t.type,"_FAILED"),payload:e,meta:t.meta}),Promise.reject(e)}(a,t,e)}))}}};["background: blue","color: white"].join(";"),["background: green","color: white"].join(";"),["background: darkorange","color: white"].join(";"),["background: red","color: white"].join(";");var vp=Object(Ld.c)(i),yp={key:"shop",storage:Rd.a},Op=Object(Pd.a)(yp,vp);var jp,Cp=(jp={},Object(Ld.e)(Op,jp,Object(Ld.d)(Object(Ld.a)(Ep),window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__():function(e){return e}))),Np=(Object(Pd.b)(Cp),a(881),a(478)),xp=new m.a;s.a.render(c.a.createElement(u.a,{store:Cp},c.a.createElement(Np.AppContainer,null,c.a.createElement(m.b,{queryCache:xp},c.a.createElement(Id,null)))),document.getElementById("root"))}},[[508,1,2]]]);
//# sourceMappingURL=main.c91dec83.chunk.js.map